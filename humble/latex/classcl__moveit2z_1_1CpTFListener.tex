\hypertarget{classcl__moveit2z_1_1CpTFListener}{}\doxysection{cl\+\_\+moveit2z\+::Cp\+TFListener Class Reference}
\label{classcl__moveit2z_1_1CpTFListener}\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}


{\ttfamily \#include $<$cp\+\_\+tf\+\_\+listener.\+hpp$>$}



Inheritance diagram for cl\+\_\+moveit2z\+::Cp\+TFListener\+:
% FIG 0


Collaboration diagram for cl\+\_\+moveit2z\+::Cp\+TFListener\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a0fecd1dc8897e4718f733a5d7daf0a2a}{Cp\+TFListener}} ()
\item 
virtual void \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a3802fa469c84f4c15cd51aa96b6b26f6}{update}} () override
\item 
void \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a8628a9939457cc3a6ab630d965c5dc5f}{get\+Last\+Transform}} (std\+::string \&target\+Pose\+Frame\+Name, std\+::string \&reference\+Base\+Frame, geometry\+\_\+msgs\+::msg\+::\+Pose \&out)
\item 
std\+::future$<$ geometry\+\_\+msgs\+::msg\+::\+Pose $>$ \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a23628f67c925d5afeab729a426a0f7cf}{wait\+For\+Next\+Transform}} (std\+::string \&target\+Name, std\+::string \&reference\+Base\+Frame)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a6d1acc0516f5c38dd82420eefd6febda}{m\+\_\+mutex\+\_\+}}
\item 
std\+::list$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structcl__moveit2z_1_1TfPoseTrack}{Tf\+Pose\+Track}} $>$ $>$ \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a12b75255761ec0d8184436f630b7d78d}{pose\+Tracks\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Transform\+Listener $>$ \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a648b00415af7ad44f977a991052cbc83}{tf\+Listener\+\_\+}}
\item 
static std\+::mutex \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a60e4354598e46cb7ecaa04e54c4dce34}{listener\+Mutex\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00044}{44}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a0fecd1dc8897e4718f733a5d7daf0a2a}\label{classcl__moveit2z_1_1CpTFListener_a0fecd1dc8897e4718f733a5d7daf0a2a}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!CpTFListener@{CpTFListener}}
\index{CpTFListener@{CpTFListener}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{CpTFListener()}{CpTFListener()}}
{\footnotesize\ttfamily cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::\+Cp\+TFListener (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a8628a9939457cc3a6ab630d965c5dc5f}\label{classcl__moveit2z_1_1CpTFListener_a8628a9939457cc3a6ab630d965c5dc5f}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!getLastTransform@{getLastTransform}}
\index{getLastTransform@{getLastTransform}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{getLastTransform()}{getLastTransform()}}
{\footnotesize\ttfamily void cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::get\+Last\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Pose\+Frame\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame,  }\item[{geometry\+\_\+msgs\+::msg\+::\+Pose \&}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00080}{80}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083   \{}
\DoxyCodeLine{00084   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a3802fa469c84f4c15cd51aa96b6b26f6}\label{classcl__moveit2z_1_1CpTFListener_a3802fa469c84f4c15cd51aa96b6b26f6}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!update@{update}}
\index{update@{update}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily virtual void cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsmacc2_1_1ISmaccUpdatable_a21158bb7ce0c72d8a827946267d11485}{smacc2\+::\+ISmacc\+Updatable}}.



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00049}{49}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050   \{}
\DoxyCodeLine{00051     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& poseTrack : \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a12b75255761ec0d8184436f630b7d78d}{poseTracks\_}})}
\DoxyCodeLine{00052     \{}
\DoxyCodeLine{00053       tf2::Stamped<tf2::Transform> transform;}
\DoxyCodeLine{00054       \textcolor{keywordflow}{try}}
\DoxyCodeLine{00055       \{}
\DoxyCodeLine{00056         \{}
\DoxyCodeLine{00057           std::lock\_guard<std::mutex> lock(\mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a60e4354598e46cb7ecaa04e54c4dce34}{listenerMutex\_}});}
\DoxyCodeLine{00058           \mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a648b00415af7ad44f977a991052cbc83}{tfListener\_}}-\/>lookupTransform(}
\DoxyCodeLine{00059             poseTrack-\/>referenceBaseFrame\_, poseTrack-\/>targetPoseFrame\_, rclcpp::Time(0),}
\DoxyCodeLine{00060             transform);}
\DoxyCodeLine{00061         \}}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063         \{}
\DoxyCodeLine{00064           std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__moveit2z_1_1CpTFListener_a6d1acc0516f5c38dd82420eefd6febda}{m\_mutex\_}});}
\DoxyCodeLine{00065           poseTrack-\/>pose\_.pose = tf2::toMsg(transform);}
\DoxyCodeLine{00066           poseTrack-\/>pose\_.header.stamp = transform.stamp\_;}
\DoxyCodeLine{00067           poseTrack-\/>pose\_.header.frame\_id = poseTrack-\/>referenceBaseFrame\_;}
\DoxyCodeLine{00068           poseTrack-\/>isInitialized = \textcolor{keyword}{true};}
\DoxyCodeLine{00069         \}}
\DoxyCodeLine{00070       \}}
\DoxyCodeLine{00071       \textcolor{keywordflow}{catch} (tf2::TransformException ex)}
\DoxyCodeLine{00072       \{}
\DoxyCodeLine{00073         RCLCPP\_ERROR\_STREAM\_THROTTLE(}
\DoxyCodeLine{00074           1, \textcolor{stringliteral}{"{}[Component pose] (getLogger(), "{}} << poseFrameName\_ << \textcolor{stringliteral}{"{}/["{}} << referenceFrame\_}
\DoxyCodeLine{00075                                                << \textcolor{stringliteral}{"{}] ) is failing on pose update : "{}} << ex.what());}
\DoxyCodeLine{00076       \}}
\DoxyCodeLine{00077     \}}
\DoxyCodeLine{00078   \}}

\end{DoxyCode}


References \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00094}{listener\+Mutex\+\_\+}}, \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00096}{m\+\_\+mutex\+\_\+}}, \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00097}{pose\+Tracks\+\_\+}}, and \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00093}{tf\+Listener\+\_\+}}.

\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a23628f67c925d5afeab729a426a0f7cf}\label{classcl__moveit2z_1_1CpTFListener_a23628f67c925d5afeab729a426a0f7cf}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!waitForNextTransform@{waitForNextTransform}}
\index{waitForNextTransform@{waitForNextTransform}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{waitForNextTransform()}{waitForNextTransform()}}
{\footnotesize\ttfamily std\+::future$<$ geometry\+\_\+msgs\+::msg\+::\+Pose $>$ cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::wait\+For\+Next\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00086}{86}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088   \{}
\DoxyCodeLine{00089     tracks\_}
\DoxyCodeLine{00090   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a60e4354598e46cb7ecaa04e54c4dce34}\label{classcl__moveit2z_1_1CpTFListener_a60e4354598e46cb7ecaa04e54c4dce34}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!listenerMutex\_@{listenerMutex\_}}
\index{listenerMutex\_@{listenerMutex\_}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{listenerMutex\_}{listenerMutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::listener\+Mutex\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00094}{94}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00049}{update()}}.

\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a6d1acc0516f5c38dd82420eefd6febda}\label{classcl__moveit2z_1_1CpTFListener_a6d1acc0516f5c38dd82420eefd6febda}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!m\_mutex\_@{m\_mutex\_}}
\index{m\_mutex\_@{m\_mutex\_}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{m\_mutex\_}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00096}{96}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00049}{update()}}.

\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a12b75255761ec0d8184436f630b7d78d}\label{classcl__moveit2z_1_1CpTFListener_a12b75255761ec0d8184436f630b7d78d}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!poseTracks\_@{poseTracks\_}}
\index{poseTracks\_@{poseTracks\_}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{poseTracks\_}{poseTracks\_}}
{\footnotesize\ttfamily std\+::list$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{structcl__moveit2z_1_1TfPoseTrack}{Tf\+Pose\+Track}}$>$ $>$ cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::pose\+Tracks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00097}{97}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00049}{update()}}.

\mbox{\Hypertarget{classcl__moveit2z_1_1CpTFListener_a648b00415af7ad44f977a991052cbc83}\label{classcl__moveit2z_1_1CpTFListener_a648b00415af7ad44f977a991052cbc83}} 
\index{cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}!tfListener\_@{tfListener\_}}
\index{tfListener\_@{tfListener\_}!cl\_moveit2z::CpTFListener@{cl\_moveit2z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{tfListener\_}{tfListener\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf2\+\_\+ros\+::\+Transform\+Listener$>$ cl\+\_\+moveit2z\+::\+Cp\+TFListener\+::tf\+Listener\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00093}{93}} of file \mbox{\hyperlink{cp__tf__listener_8hpp_source}{cp\+\_\+tf\+\_\+listener.\+hpp}}.



Referenced by \mbox{\hyperlink{cp__tf__listener_8hpp_source_l00049}{update()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/moveit2z\+\_\+client/include/moveit2z\+\_\+client/components/\mbox{\hyperlink{cp__tf__listener_8hpp}{cp\+\_\+tf\+\_\+listener.\+hpp}}\end{DoxyCompactItemize}
