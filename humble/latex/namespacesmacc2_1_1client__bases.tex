\doxysection{smacc2\+::client\+\_\+bases Namespace Reference}
\hypertarget{namespacesmacc2_1_1client__bases}{}\label{namespacesmacc2_1_1client__bases}\index{smacc2::client\_bases@{smacc2::client\_bases}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch}{Cl\+Ros\+Launch}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch2}{Cl\+Ros\+Launch2}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ISmaccActionClient}{ISmacc\+Action\+Client}}
\item 
struct \mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo}{Process\+Info}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccActionClientBase}{Smacc\+Action\+Client\+Base}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccPublisherClient}{Smacc\+Publisher\+Client}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccServiceClient}{Smacc\+Service\+Client}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccServiceServerClient}{Smacc\+Service\+Server\+Client}}
\item 
class \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1SmaccSubscriberClient}{Smacc\+Subscriber\+Client}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo}{Process\+Info}} \mbox{\hyperlink{namespacesmacc2_1_1client__bases_ac16659e65311f6c4fe5caa96a808a7cc}{run\+Process}} (\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{const}} \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{char}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{command}})
\item 
\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{void}} \mbox{\hyperlink{namespacesmacc2_1_1client__bases_a1a82d22a82ec20a6c8ae7a2c679e49b8}{kill\+Grandchildren}} (pid\+\_\+t \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{original\+Pid}})
\item 
\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{void}} \mbox{\hyperlink{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8}{kill\+Processes\+Recursive}} (pid\+\_\+t pid)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacesmacc2_1_1client__bases_a1a82d22a82ec20a6c8ae7a2c679e49b8}\label{namespacesmacc2_1_1client__bases_a1a82d22a82ec20a6c8ae7a2c679e49b8} 
\index{smacc2::client\_bases@{smacc2::client\_bases}!killGrandchildren@{killGrandchildren}}
\index{killGrandchildren@{killGrandchildren}!smacc2::client\_bases@{smacc2::client\_bases}}
\doxysubsubsection{\texorpdfstring{killGrandchildren()}{killGrandchildren()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{void}} smacc2\+::client\+\_\+bases\+::kill\+Grandchildren (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{original\+Pid }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00258}{258}} of file \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source}{smacc\+\_\+ros\+\_\+launch\+\_\+client\+\_\+2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00258\ \{\ \mbox{\hyperlink{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8}{killProcessesRecursive}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{originalPid}});\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00214}{kill\+Processes\+Recursive()}}.



Referenced by \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00069}{smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch2\+::execute\+Ros\+Launch()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{namespacesmacc2_1_1client__bases_a1a82d22a82ec20a6c8ae7a2c679e49b8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesmacc2_1_1client__bases_a1a82d22a82ec20a6c8ae7a2c679e49b8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8}\label{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8} 
\index{smacc2::client\_bases@{smacc2::client\_bases}!killProcessesRecursive@{killProcessesRecursive}}
\index{killProcessesRecursive@{killProcessesRecursive}!smacc2::client\_bases@{smacc2::client\_bases}}
\doxysubsubsection{\texorpdfstring{killProcessesRecursive()}{killProcessesRecursive()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{void}} smacc2\+::client\+\_\+bases\+::kill\+Processes\+Recursive (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00214}{214}} of file \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source}{smacc\+\_\+ros\+\_\+launch\+\_\+client\+\_\+2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00215\ \{}
\DoxyCodeLine{00216\ \ \ std::string\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{command}}\ =\ \textcolor{stringliteral}{"{}pgrep\ -\/P\ "{}}\ +\ std::to\_string(pid);}
\DoxyCodeLine{00217\ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{FILE}}\ *\ pipe\ =\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{popen}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{command}}.c\_str(),\ \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \ \ \textcolor{keywordflow}{if}\ (!pipe)}
\DoxyCodeLine{00220\ \ \ \{}
\DoxyCodeLine{00221\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ executing\ pgrep\ command."{}}\ <<\ std::endl;}
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00223\ \ \ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{buffer}}[128];}
\DoxyCodeLine{00226\ \ \ std::string\ result\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{fgets}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{buffer}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{buffer}}),\ pipe)\ !=\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{NULL}})}
\DoxyCodeLine{00229\ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ result\ +=\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{buffer}};}
\DoxyCodeLine{00231\ \ \ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ pclose(pipe);}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \ \ std::istringstream\ iss(result);}
\DoxyCodeLine{00236\ \ \ pid\_t\ childPid;}
\DoxyCodeLine{00237\ \ \ std::vector<pid\_t>\ childPids;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \textcolor{keywordflow}{while}\ (iss\ >>\ childPid)}
\DoxyCodeLine{00240\ \ \ \{}
\DoxyCodeLine{00241\ \ \ \ \ childPids.push\_back(childPid);}
\DoxyCodeLine{00242\ \ \ \}}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \textcolor{comment}{//\ Kill\ child\ processes\ before\ killing\ the\ parent\ process}}
\DoxyCodeLine{00245\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ pid\_t\ \&\ child\ :\ childPids)}
\DoxyCodeLine{00246\ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ \mbox{\hyperlink{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8}{killProcessesRecursive}}(child);}
\DoxyCodeLine{00248\ \ \ \}}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \textcolor{comment}{//\ After\ killing\ all\ children,\ kill\ the\ parent\ process}}
\DoxyCodeLine{00251\ \ \ \textcolor{keywordtype}{int}\ res\ =\ kill(pid,\ SIGTERM);}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordflow}{if}\ (res\ ==\ 0)}
\DoxyCodeLine{00253\ \ \ \{}
\DoxyCodeLine{00254\ \ \ \ \ RCLCPP\_FATAL(rclcpp::get\_logger(\textcolor{stringliteral}{"{}smacc2"{}}),\ \textcolor{stringliteral}{"{}Killed\ process\ \%d"{}},\ pid);}
\DoxyCodeLine{00255\ \ \ \}}
\DoxyCodeLine{00256\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00214}{kill\+Processes\+Recursive()}}.



Referenced by \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00258}{kill\+Grandchildren()}}, and \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00214}{kill\+Processes\+Recursive()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=203pt]{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesmacc2_1_1client__bases_a69252b7282d90f069ab71a854f5e46e8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacesmacc2_1_1client__bases_ac16659e65311f6c4fe5caa96a808a7cc}\label{namespacesmacc2_1_1client__bases_ac16659e65311f6c4fe5caa96a808a7cc} 
\index{smacc2::client\_bases@{smacc2::client\_bases}!runProcess@{runProcess}}
\index{runProcess@{runProcess}!smacc2::client\_bases@{smacc2::client\_bases}}
\doxysubsubsection{\texorpdfstring{runProcess()}{runProcess()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo}{Process\+Info}} smacc2\+::client\+\_\+bases\+::run\+Process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{const}} \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{char}} \texorpdfstring{$\ast$}{*}}]{command }\end{DoxyParamCaption})}

Aditional functions 

Definition at line \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00170}{170}} of file \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source}{smacc\+\_\+ros\+\_\+launch\+\_\+client\+\_\+2.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00171\ \{}
\DoxyCodeLine{00172\ \ \ \mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo}{ProcessInfo}}\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{info}};}
\DoxyCodeLine{00173\ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{info}}.pid\ =\ -\/1;\ \ \textcolor{comment}{//\ Inicializar\ el\ PID\ a\ -\/1\ (indicando\ error)}}
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{info}}.pipe\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{pipefd}}[2];\ \ \textcolor{comment}{//\ Descriptor\ de\ archivo\ para\ el\ pipe}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \textcolor{keywordflow}{if}\ (pipe(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{pipefd}})\ ==\ -\/1)}
\DoxyCodeLine{00179\ \ \ \{}
\DoxyCodeLine{00180\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{perror}}(\textcolor{stringliteral}{"{}pipe"{}});}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{info}};}
\DoxyCodeLine{00182\ \ \ \}}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ pid\_t\ pid\ =\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{fork}}();}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \textcolor{keywordflow}{if}\ (pid\ ==\ 0)}
\DoxyCodeLine{00187\ \ \ \{}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{comment}{//\ Esto\ se\ ejecuta\ en\ el\ proceso\ hijo}}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{close}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{pipefd}}[0]);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cerramos\ el\ extremo\ de\ lectura\ del\ pipe\ en\ el\ proceso\ hijo}}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{dup2}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{pipefd}}[1],\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{STDOUT\_FILENO}});\ \ \textcolor{comment}{//\ Redireccionamos\ la\ salida\ estándar\ al\ pipe}}
\DoxyCodeLine{00191\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{close}}(\mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{pipefd}}[1]);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cerramos\ el\ extremo\ de\ escritura\ del\ pipe\ en\ el\ proceso\ hijo}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{execl}}(\textcolor{stringliteral}{"{}/bin/sh"{}},\ \textcolor{stringliteral}{"{}/bin/sh"{}},\ \textcolor{stringliteral}{"{}-\/c"{}},\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{command}},\ \textcolor{keyword}{nullptr});\ \ \textcolor{comment}{//\ Ejecuta\ el\ comando\ dado}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{//\ Si\ execl\ retorna,\ significa\ que\ hubo\ un\ error}}
\DoxyCodeLine{00196\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ al\ ejecutar\ el\ comando:\ "{}}\ <<\ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{command}}\ <<\ std::endl;}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{structsmacc2_1_1default__events_1_1EvTopicMessage}{\_exit}}(1);\ \ \textcolor{comment}{//\ Usar\ \_exit\ para\ evitar\ la\ ejecución\ de\ códigos\ de\ salida\ de\ manejo\ de\ errores}}
\DoxyCodeLine{00198\ \ \ \}}
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (pid\ >\ 0)}
\DoxyCodeLine{00200\ \ \ \{}
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{comment}{//\ Esto\ se\ ejecuta\ en\ el\ proceso\ padre}}
\DoxyCodeLine{00202\ \ \ \ \ close(pipefd[1]);\ \ \textcolor{comment}{//\ Cerramos\ el\ extremo\ de\ escritura\ del\ pipe\ en\ el\ proceso\ padre}}
\DoxyCodeLine{00203\ \ \ \ \ info.\mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo_a4b89d5acba7e751d5384a6bc473758bb}{pid}}\ =\ pid;}
\DoxyCodeLine{00204\ \ \ \ \ info.\mbox{\hyperlink{structsmacc2_1_1client__bases_1_1ProcessInfo_a37ce0d01a9330b932d540c9a8973d563}{pipe}}\ =\ fdopen(pipefd[0],\ \textcolor{stringliteral}{"{}r"{}});\ \ \textcolor{comment}{//\ Abrir\ el\ descriptor\ de\ archivo\ de\ lectura\ en\ modo\ texto}}
\DoxyCodeLine{00205\ \ \ \}}
\DoxyCodeLine{00206\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00207\ \ \ \{}
\DoxyCodeLine{00208\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Error\ al\ crear\ el\ proceso\ hijo."{}}\ <<\ std::endl;}
\DoxyCodeLine{00209\ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \textcolor{keywordflow}{return}\ info;}
\DoxyCodeLine{00212\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{smacc__ros__launch__client__2_8cpp_source_l00069}{smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch2\+::execute\+Ros\+Launch()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesmacc2_1_1client__bases_ac16659e65311f6c4fe5caa96a808a7cc_icgraph}
\end{center}
\end{figure}
