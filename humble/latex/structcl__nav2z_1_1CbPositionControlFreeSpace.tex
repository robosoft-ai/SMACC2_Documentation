\doxysection{cl\+\_\+nav2z\+::Cb\+Position\+Control\+Free\+Space Struct Reference}
\hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace}{}\label{structcl__nav2z_1_1CbPositionControlFreeSpace}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}


{\ttfamily \#include $<$cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp$>$}



Inheritance diagram for cl\+\_\+nav2z\+::Cb\+Position\+Control\+Free\+Space\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{structcl__nav2z_1_1CbPositionControlFreeSpace__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+nav2z\+::Cb\+Position\+Control\+Free\+Space\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structcl__nav2z_1_1CbPositionControlFreeSpace__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_aebb93dd0a0a54fcf9eaa1f50e4320c1c}{Cb\+Position\+Control\+Free\+Space}} ()
\item 
void \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a872fe76f1d07c88629e99676d7d7bbd2}{update\+Parameters}} ()
\item 
void \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a95e8817f408ce52c5b353251c228448f}{on\+Entry}} () override
\item 
void \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae41649fe03d93f8c07092b2c61293c96}{on\+Exit}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior}{smacc2\+::\+Smacc\+Async\+Client\+Behavior}}}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename TOrthogonal , typename TSource\+Object $>$ }\\void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_ac6b1b2be1313750b0940fa25aa736e40}{on\+Orthogonal\+Allocation}} ()
\item 
virtual \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a014ced8836f6616a9ecd259a6f918bc2}{\texorpdfstring{$\sim$}{\string~}\+Smacc\+Async\+Client\+Behavior}} ()
\item 
{\footnotesize template$<$typename TCallback , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_ae827803ba5309f33d30b4a2cd28df0c8}{on\+Success}} (TCallback callback, T \texorpdfstring{$\ast$}{*}object)
\item 
{\footnotesize template$<$typename TCallback , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a7dafa081358ad1698ff07833a93b5e27}{on\+Finished}} (TCallback callback, T \texorpdfstring{$\ast$}{*}object)
\item 
{\footnotesize template$<$typename TCallback , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_af24e9cff87c345dd1cc890071c856bc0}{on\+Failure}} (TCallback callback, T \texorpdfstring{$\ast$}{*}object)
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_abc3c38acbfdaaacae312c2f1ea5fc0c0}{request\+Force\+Finish}} ()
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a2b6eb9adadced6735dc75e532a294376}{execute\+On\+Entry}} () override
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_ac6b465d4b59eb2bbb00d83a4bbd98881}{execute\+On\+Exit}} () override
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_af104edcfa226d8aa2294bb9c82768b78}{wait\+On\+Entry\+Thread}} (\mbox{\hyperlink{classbool}{bool}} request\+Finish)
\item 
{\footnotesize template$<$typename TCallback\+Method , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_ab7828008901afb13199d8fce9ca5dea0}{on\+Success}} (TCallback\+Method callback, T \texorpdfstring{$\ast$}{*}object)
\item 
{\footnotesize template$<$typename TCallback\+Method , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a69d58683dda527f1e1ec0c11d05902a8}{on\+Finished}} (TCallback\+Method callback, T \texorpdfstring{$\ast$}{*}object)
\item 
{\footnotesize template$<$typename TCallback\+Method , typename T $>$ }\\boost\+::signals2\+::connection \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a5d817837a744a9dcb521dd9ffc0c09ed}{on\+Failure}} (TCallback\+Method callback, T \texorpdfstring{$\ast$}{*}object)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior}{smacc2\+::\+ISmacc\+Client\+Behavior}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5de8edd28c65ee74403fae6842e499cc}{ISmacc\+Client\+Behavior}} ()
\item 
virtual \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a7390b4bacd6d442a1e5ebb35cc64aeb9}{\texorpdfstring{$\sim$}{\string~}\+ISmacc\+Client\+Behavior}} ()
\item 
\mbox{\hyperlink{classsmacc2_1_1ISmaccStateMachine}{ISmacc\+State\+Machine}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aef894ccf74067413e7cf501dbf022cd2}{get\+State\+Machine}} ()
\item 
std\+::string \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{get\+Name}} () const
\item 
{\footnotesize template$<$typename Smacc\+Client\+Type $>$ }\\void \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_ad32d91e7aa6ac921b8d29610bd925244}{requires\+Client}} (Smacc\+Client\+Type \texorpdfstring{$\ast$}{*}\&storage)
\item 
{\footnotesize template$<$typename Smacc\+Component\+Type $>$ }\\void \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_ae07cf749254cca233e15dc6f991aec12}{requires\+Component}} (Smacc\+Component\+Type \texorpdfstring{$\ast$}{*}\&storage, \mbox{\hyperlink{classbool}{bool}} throw\+Exception\+If\+Not\+Exist=false)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a53b707e4c081b0b0366e653439c657b4}{yaw\+\_\+goal\+\_\+tolerance\+\_\+rads\+\_\+}} = 0.\+1
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a4adcb7de008328296d9c3878e1908cd0}{threshold\+\_\+distance\+\_\+}} = 3.\+0
\item 
geometry\+\_\+msgs\+::msg\+::\+Pose \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\+\_\+pose\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_afb9ad508b6a0f6f3ead54777f5744de8}{target\+Yaw\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a7dc345f6d2299eb50f656c8e03653958}{goal\+Reached\+\_\+}}
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a50165da346c9aa1904f8af4c8e829505}{k\+\_\+betta\+\_\+}}
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a2ef6d9895b7a67b46cb48e611c49cb0b}{max\+\_\+angular\+\_\+yaw\+\_\+speed\+\_\+}}
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae180a86ae4408cfa896a8ffd6a8e35fc}{prev\+\_\+error\+\_\+linear\+\_\+}} = 0.\+0
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a467b43e3cf492f214066454f9be46b97}{prev\+\_\+error\+\_\+angular\+\_\+}} = 0.\+0
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_af305965c3f837378872c1893d1524731}{integral\+\_\+linear\+\_\+}} = 0.\+0
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae0b73ae875a8dab72203ab2e769108f8}{integral\+\_\+angular\+\_\+}} = 0.\+0
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}{max\+\_\+linear\+\_\+velocity}} = 1.\+0
\item 
double \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}{max\+\_\+angular\+\_\+velocity}} = 1.\+0
\item 
rclcpp\+::\+Publisher$<$ geometry\+\_\+msgs\+::msg\+::\+Twist $>$\mbox{\hyperlink{classrclcpp_1_1Subscription_3_01std__msgs_1_1msg_1_1UInt16_01_4_1_1SharedPtr}{\+::\+Shared\+Ptr}} \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113}{cmd\+\_\+vel\+\_\+pub\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior}{smacc2\+::\+Smacc\+Async\+Client\+Behavior}}}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a2fb4de26d011fbbb55bc1bbaed2e6f5b}{post\+Success\+Event}} ()
\item 
void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_afcb5c1a0bf3b9bae6c54e8f5ef1bc04d}{post\+Failure\+Event}} ()
\item 
virtual void \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a47bfbd4f801b61e43cd16d42eace3461}{dispose}} () override
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a3fdbe8ec497fef82e2441e8e87899955}{is\+Shutdown\+Requested}} ()
\begin{DoxyCompactList}\small\item\em on\+Entry is executed in a new thread. However the current state cannot be left until the on\+Entry thread finishes. This flag can be checked from the on\+Entry thread to force finishing the thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior}{smacc2\+::\+ISmacc\+Client\+Behavior}}}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_acd2a5c4ae1da00de4cc4e0f26fb6b094}{runtime\+Configure}} ()
\item 
{\footnotesize template$<$typename Event\+Type $>$ }\\void \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a400af032797d2461602187cd52590287}{post\+Event}} (const Event\+Type \&ev)
\item 
{\footnotesize template$<$typename Event\+Type $>$ }\\void \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a291c6cc5a71d18a01c52edd72aff988f}{post\+Event}} ()
\item 
\mbox{\hyperlink{classsmacc2_1_1ISmaccState}{ISmacc\+State}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a1a667b94eddb33662912587e87289cc1}{get\+Current\+State}} ()
\item 
virtual rclcpp\+::\+Node\+::\+Shared\+Ptr \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aa1b28d5e8a5208fff8160f9df9a89dc6}{get\+Node}} () const
\item 
virtual rclcpp\+::\+Logger \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{get\+Logger}} () const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00029}{29}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_aebb93dd0a0a54fcf9eaa1f50e4320c1c}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!CbPositionControlFreeSpace@{CbPositionControlFreeSpace}}
\index{CbPositionControlFreeSpace@{CbPositionControlFreeSpace}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{CbPositionControlFreeSpace()}{CbPositionControlFreeSpace()}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_aebb93dd0a0a54fcf9eaa1f50e4320c1c} 
cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::\+Cb\+Position\+Control\+Free\+Space (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00030}{30}} of file \mbox{\hyperlink{cb__position__control__free__space_8cpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ :\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_afb9ad508b6a0f6f3ead54777f5744de8}{targetYaw\_}}(0),\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a50165da346c9aa1904f8af4c8e829505}{k\_betta\_}}(1.0),\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a2ef6d9895b7a67b46cb48e611c49cb0b}{max\_angular\_yaw\_speed\_}}(1.0)}
\DoxyCodeLine{00032\ \{}
\DoxyCodeLine{00033\ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a95e8817f408ce52c5b353251c228448f}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!onEntry@{onEntry}}
\index{onEntry@{onEntry}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{onEntry()}{onEntry()}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a95e8817f408ce52c5b353251c228448f} 
void cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::on\+Entry (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aca7382c4d17b5f4a7b98f7e399203017}{smacc2\+::\+ISmacc\+Client\+Behavior}}.



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{37}} of file \mbox{\hyperlink{cb__position__control__free__space_8cpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{auto}\ nh\ =\ this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aa1b28d5e8a5208fff8160f9df9a89dc6}{getNode}}();}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113}{cmd\_vel\_pub\_}}\ =\ nh-\/>create\_publisher<geometry\_msgs::msg::Twist>(\textcolor{stringliteral}{"{}/cmd\_vel"{}},\ rclcpp::QoS(1));}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1Pose}{cl\_nav2z::Pose}}\ *\ pose;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_ae07cf749254cca233e15dc6f991aec12}{requiresComponent}}(pose);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ geometry\_msgs::msg::Twist\ cmd\_vel;}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a7dc345f6d2299eb50f656c8e03653958}{goalReached\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ geometry\_msgs::msg::Pose\ currentPose\ =\ pose-\/>toPoseMsg();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ rclcpp::Rate\ loop\_rate(10);}
\DoxyCodeLine{00052\ \ \ \textcolor{keywordtype}{double}\ countAngle\ =\ 0;}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{auto}\ prevyaw\ =\ tf2::getYaw(currentPose.orientation);}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ PID\ controller\ gains\ (proportional,\ integral,\ and\ derivative)}}
\DoxyCodeLine{00056\ \ \ \textcolor{keywordtype}{double}\ kp\_linear\ =\ 0.5;}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{double}\ ki\_linear\ =\ 0.0;}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordtype}{double}\ kd\_linear\ =\ 0.1;}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{keywordtype}{double}\ kp\_angular\ =\ 0.5;}
\DoxyCodeLine{00061\ \ \ \textcolor{keywordtype}{double}\ ki\_angular\ =\ 0.0;}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordtype}{double}\ kd\_angular\ =\ 0.1;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{keywordflow}{while}\ (rclcpp::ok()\ \&\&\ !\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a7dc345f6d2299eb50f656c8e03653958}{goalReached\_}})}
\DoxyCodeLine{00065\ \ \ \{}
\DoxyCodeLine{00066\ \ \ \ \ RCLCPP\_INFO\_STREAM\_THROTTLE(}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{getLogger}}(),\ *\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aa1b28d5e8a5208fff8160f9df9a89dc6}{getNode}}()-\/>get\_clock(),\ 200,}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}CbPositionControlFreeSpace,\ current\ pose:\ "{}}\ <<\ currentPose.position.x\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ currentPose.position.y\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ tf2::getYaw(currentPose.orientation));}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ RCLCPP\_INFO\_STREAM\_THROTTLE(}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{getLogger}}(),\ *\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aa1b28d5e8a5208fff8160f9df9a89dc6}{getNode}}()-\/>get\_clock(),\ 200,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}CbPositionControlFreeSpace,\ target\ pose:\ "{}}\ <<\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\_pose\_}}.position.x\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\_pose\_}}.position.y\ <<\ \textcolor{stringliteral}{"{},\ "{}}}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ tf2::getYaw(\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\_pose\_}}.orientation));}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ tf2::Quaternion\ q;}
\DoxyCodeLine{00079\ \ \ \ \ currentPose\ =\ pose-\/>toPoseMsg();}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ Here\ we\ implement\ the\ control\ logic\ to\ calculate\ the\ velocity\ command}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ based\ on\ the\ received\ position\ of\ the\ vehicle\ and\ the\ target\ pose.}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ errors\ in\ x\ and\ y}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{double}\ error\_x\ =\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\_pose\_}}.position.x\ -\/\ currentPose.position.x;}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keywordtype}{double}\ error\_y\ =\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}{target\_pose\_}}.position.y\ -\/\ currentPose.position.y;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ distance\ to\ the\ target\ pose}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{double}\ distance\_to\_target\ =\ std::sqrt(error\_x\ *\ error\_x\ +\ error\_y\ *\ error\_y);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{getLogger}}(),\ \textcolor{stringliteral}{"{}["{}}\ <<\ \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}()\ <<\ \textcolor{stringliteral}{"{}]\ distance\ to\ target:\ "{}}\ <<\ distance\_to\_target}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ (\ th:\ "{}}\ <<\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a4adcb7de008328296d9c3878e1908cd0}{threshold\_distance\_}}\ <<\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{comment}{//\ Check\ if\ the\ robot\ has\ reached\ the\ target\ pose}}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordflow}{if}\ (distance\_to\_target\ <\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a4adcb7de008328296d9c3878e1908cd0}{threshold\_distance\_}})}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ RCLCPP\_INFO(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{getLogger}}(),\ \textcolor{stringliteral}{"{}Goal\ reached!"{}});}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \textcolor{comment}{//\ Stop\ the\ robot\ by\ setting\ the\ velocity\ commands\ to\ zero}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ geometry\_msgs::msg::Twist\ cmd\_vel\_msg;}
\DoxyCodeLine{00101\ \ \ \ \ \ \ cmd\_vel\_msg.linear.x\ =\ 0.0;}
\DoxyCodeLine{00102\ \ \ \ \ \ \ cmd\_vel\_msg.angular.z\ =\ 0.0;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113}{cmd\_vel\_pub\_}}-\/>publish(cmd\_vel\_msg);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00107\ \ \ \ \ \{}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ desired\ orientation\ angle}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ desired\_yaw\ =\ std::atan2(error\_y,\ error\_x);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ difference\ between\ the\ desired\ orientation\ and\ the}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \textcolor{comment}{//\ current\ orientation}}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ yaw\_error\ =\ desired\_yaw\ -\/\ (tf2::getYaw(currentPose.orientation)\ +\ M\_PI);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \textcolor{comment}{//\ Ensure\ the\ yaw\ error\ is\ within\ the\ range\ [-\/pi,\ pi]}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yaw\_error\ >\ M\_PI)\ yaw\_error\ -\/=\ 2\ *\ M\_PI;}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (yaw\_error\ <\ -\/M\_PI)\ yaw\_error\ +=\ 2\ *\ M\_PI;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \textcolor{comment}{//\ Calculate\ the\ control\ signals\ (velocity\ commands)\ using\ PID\ controllers}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cmd\_linear\_x\ =\ kp\_linear\ *\ distance\_to\_target\ +\ ki\_linear\ *\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_af305965c3f837378872c1893d1524731}{integral\_linear\_}}\ +}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kd\_linear\ *\ (distance\_to\_target\ -\/\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae180a86ae4408cfa896a8ffd6a8e35fc}{prev\_error\_linear\_}});}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ cmd\_angular\_z\ =\ kp\_angular\ *\ yaw\_error\ +\ ki\_angular\ *\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae0b73ae875a8dab72203ab2e769108f8}{integral\_angular\_}}\ +}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kd\_angular\ *\ (yaw\_error\ -\/\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a467b43e3cf492f214066454f9be46b97}{prev\_error\_angular\_}});}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmd\_linear\_x\ >\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}{max\_linear\_velocity}})}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ cmd\_linear\_x\ =\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}{max\_linear\_velocity}};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmd\_linear\_x\ <\ -\/\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}{max\_linear\_velocity}})}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ cmd\_linear\_x\ =\ -\/\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}{max\_linear\_velocity}};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (cmd\_angular\_z\ >\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}{max\_angular\_velocity}})}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ cmd\_angular\_z\ =\ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}{max\_angular\_velocity}};}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmd\_angular\_z\ <\ -\/\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}{max\_angular\_velocity}})}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ cmd\_angular\_z\ =\ -\/\mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}{max\_angular\_velocity}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \textcolor{comment}{//\ Construct\ and\ publish\ the\ velocity\ command\ message}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ geometry\_msgs::msg::Twist\ cmd\_vel\_msg;}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ cmd\_vel\_msg.linear.x\ =\ cmd\_linear\_x;}
\DoxyCodeLine{00139\ \ \ \ \ \ \ cmd\_vel\_msg.angular.z\ =\ cmd\_angular\_z;}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113}{cmd\_vel\_pub\_}}-\/>publish(cmd\_vel\_msg);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ errors\ and\ integrals\ for\ the\ next\ control\ cycle}}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae180a86ae4408cfa896a8ffd6a8e35fc}{prev\_error\_linear\_}}\ =\ distance\_to\_target;}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_a467b43e3cf492f214066454f9be46b97}{prev\_error\_angular\_}}\ =\ yaw\_error;}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_af305965c3f837378872c1893d1524731}{integral\_linear\_}}\ +=\ distance\_to\_target;}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \mbox{\hyperlink{structcl__nav2z_1_1CbPositionControlFreeSpace_ae0b73ae875a8dab72203ab2e769108f8}{integral\_angular\_}}\ +=\ yaw\_error;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \textcolor{comment}{//\ tf2::fromMsg(currentPose.orientation,\ q);}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \textcolor{comment}{//\ auto\ currentYaw\ =\ tf2::getYaw(currentPose.orientation);}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \textcolor{comment}{//\ auto\ deltaAngle\ =\ angles::shortest\_angular\_distance(prevyaw,}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \textcolor{comment}{//\ currentYaw);\ countAngle\ +=\ deltaAngle;}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \ \ \textcolor{comment}{//\ prevyaw\ =\ currentYaw;}}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \textcolor{comment}{//\ double\ angular\_error\ =\ targetYaw\_\ -\/\ countAngle;}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \textcolor{comment}{//\ auto\ omega\ =\ angular\_error\ *\ k\_betta\_;}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \textcolor{comment}{//\ cmd\_vel.linear.x\ =\ 0;}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \textcolor{comment}{//\ cmd\_vel.linear.y\ =\ 0;}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \textcolor{comment}{//\ cmd\_vel.linear.z\ =\ 0;}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \textcolor{comment}{//\ cmd\_vel.angular.z\ =}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ std::min(std::max(omega,\ -\/fabs(max\_angular\_yaw\_speed\_)),}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ fabs(max\_angular\_yaw\_speed\_));}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO\_STREAM(getLogger(),\ "{}["{}\ <<\ getName()\ <<\ "{}]\ delta\ angle:\ "{}}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \textcolor{comment}{//\ <<\ deltaAngle);\ RCLCPP\_INFO\_STREAM(getLogger(),\ "{}["{}\ <<\ getName()\ <<\ "{}]}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \textcolor{comment}{//\ cummulated\ angle:\ "{}\ <<\ countAngle);\ RCLCPP\_INFO\_STREAM(getLogger(),\ "{}["{}}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \textcolor{comment}{//\ <<\ getName()\ <<\ "{}]\ k\_betta\_:\ "{}\ <<\ k\_betta\_);}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO\_STREAM(}}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ getLogger(),\ "{}["{}\ <<\ getName()\ <<\ "{}]\ angular\ error:\ "{}\ <<\ angular\_error}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ <<\ "{}("{}}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ yaw\_goal\_tolerance\_rads\_\ <<\ "{})"{});}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO\_STREAM(}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ getLogger(),\ "{}["{}\ <<\ getName()\ <<\ "{}]\ command\ angular\ speed:\ "{}\ <<}}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ cmd\_vel.angular.z);}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \textcolor{comment}{//\ if\ (fabs(angular\_error)\ <\ yaw\_goal\_tolerance\_rads\_)}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \textcolor{comment}{//\ \{}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ RCLCPP\_INFO\_STREAM(getLogger(),\ "{}["{}\ <<\ getName()\ <<\ "{}]\ GOAL\ REACHED.}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ Sending\ stop\ command."{});\ goalReached\_\ =\ true;\ cmd\_vel.linear.x\ =\ 0;}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ cmd\_vel.angular.z\ =\ 0;}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ break;}}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \textcolor{comment}{//\ this-\/>cmd\_vel\_pub\_-\/>publish(cmd\_vel);}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \ \ loop\_rate.sleep();}
\DoxyCodeLine{00189\ \ \ \ \ \}}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a9c3d82542c800e2ba5207c5cff0e63e8}{getLogger}}(),\ \textcolor{stringliteral}{"{}["{}}\ <<\ \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}()\ <<\ \textcolor{stringliteral}{"{}]\ Finished\ behavior\ execution"{}});}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ this-\/>\mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a2fb4de26d011fbbb55bc1bbaed2e6f5b}{postSuccessEvent}}();}
\DoxyCodeLine{00195\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00047}{cmd\+\_\+vel\+\_\+pub\+\_\+}}, \mbox{\hyperlink{smacc__client__behavior__base_8cpp_source_l00043}{smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Logger()}}, \mbox{\hyperlink{smacc__client__behavior__base_8cpp_source_l00036}{smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Name()}}, \mbox{\hyperlink{smacc__client__behavior__base_8cpp_source_l00038}{smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node()}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00033}{goal\+Reached\+\_\+}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00040}{integral\+\_\+angular\+\_\+}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00039}{integral\+\_\+linear\+\_\+}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00045}{max\+\_\+angular\+\_\+velocity}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00044}{max\+\_\+linear\+\_\+velocity}}, \mbox{\hyperlink{smacc__client__async__behavior_8cpp_source_l00153}{smacc2\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Success\+Event()}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00038}{prev\+\_\+error\+\_\+angular\+\_\+}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00037}{prev\+\_\+error\+\_\+linear\+\_\+}}, \mbox{\hyperlink{smacc__client__behavior__impl_8hpp_source_l00073}{smacc2\+::\+ISmacc\+Client\+Behavior\+::requires\+Component()}}, \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00054}{target\+\_\+pose\+\_\+}}, and \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00052}{threshold\+\_\+distance\+\_\+}}.



Referenced by \mbox{\hyperlink{cb__navigate__next__waypoint__free_8cpp_source_l00029}{cl\+\_\+nav2z\+::\+Cb\+Navigate\+Next\+Waypoint\+Free\+::on\+Entry()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structcl__nav2z_1_1CbPositionControlFreeSpace_a95e8817f408ce52c5b353251c228448f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structcl__nav2z_1_1CbPositionControlFreeSpace_a95e8817f408ce52c5b353251c228448f_icgraph}
\end{center}
\end{figure}
\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_ae41649fe03d93f8c07092b2c61293c96}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!onExit@{onExit}}
\index{onExit@{onExit}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{onExit()}{onExit()}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_ae41649fe03d93f8c07092b2c61293c96} 
void cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::on\+Exit (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a52b767b7cbb438aa23ea0f6cfda2a3db}{smacc2\+::\+ISmacc\+Client\+Behavior}}.



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00197}{197}} of file \mbox{\hyperlink{cb__position__control__free__space_8cpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00197\ \{\}}

\end{DoxyCode}
\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a872fe76f1d07c88629e99676d7d7bbd2}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!updateParameters@{updateParameters}}
\index{updateParameters@{updateParameters}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{updateParameters()}{updateParameters()}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a872fe76f1d07c88629e99676d7d7bbd2} 
void cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::update\+Parameters (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00035}{35}} of file \mbox{\hyperlink{cb__position__control__free__space_8cpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00035\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!cmd\_vel\_pub\_@{cmd\_vel\_pub\_}}
\index{cmd\_vel\_pub\_@{cmd\_vel\_pub\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{cmd\_vel\_pub\_}{cmd\_vel\_pub\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_ab75251f26749e775580970008fa1f113} 
rclcpp\+::\+Publisher$<$geometry\+\_\+msgs\+::msg\+::\+Twist$>$\mbox{\hyperlink{classrclcpp_1_1Subscription_3_01std__msgs_1_1msg_1_1UInt16_01_4_1_1SharedPtr}{\+::\+Shared\+Ptr}} cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::cmd\+\_\+vel\+\_\+pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00047}{47}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a7dc345f6d2299eb50f656c8e03653958}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!goalReached\_@{goalReached\_}}
\index{goalReached\_@{goalReached\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{goalReached\_}{goalReached\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a7dc345f6d2299eb50f656c8e03653958} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::goal\+Reached\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00033}{33}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_ae0b73ae875a8dab72203ab2e769108f8}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!integral\_angular\_@{integral\_angular\_}}
\index{integral\_angular\_@{integral\_angular\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{integral\_angular\_}{integral\_angular\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_ae0b73ae875a8dab72203ab2e769108f8} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::integral\+\_\+angular\+\_\+ = 0.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00040}{40}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_af305965c3f837378872c1893d1524731}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!integral\_linear\_@{integral\_linear\_}}
\index{integral\_linear\_@{integral\_linear\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{integral\_linear\_}{integral\_linear\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_af305965c3f837378872c1893d1524731} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::integral\+\_\+linear\+\_\+ = 0.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00039}{39}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a50165da346c9aa1904f8af4c8e829505}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!k\_betta\_@{k\_betta\_}}
\index{k\_betta\_@{k\_betta\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{k\_betta\_}{k\_betta\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a50165da346c9aa1904f8af4c8e829505} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::k\+\_\+betta\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00034}{34}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!max\_angular\_velocity@{max\_angular\_velocity}}
\index{max\_angular\_velocity@{max\_angular\_velocity}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{max\_angular\_velocity}{max\_angular\_velocity}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_ac7e5ede7d01f208e45aa95491e4388da} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::max\+\_\+angular\+\_\+velocity = 1.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00045}{45}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a2ef6d9895b7a67b46cb48e611c49cb0b}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!max\_angular\_yaw\_speed\_@{max\_angular\_yaw\_speed\_}}
\index{max\_angular\_yaw\_speed\_@{max\_angular\_yaw\_speed\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{max\_angular\_yaw\_speed\_}{max\_angular\_yaw\_speed\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a2ef6d9895b7a67b46cb48e611c49cb0b} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::max\+\_\+angular\+\_\+yaw\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00035}{35}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!max\_linear\_velocity@{max\_linear\_velocity}}
\index{max\_linear\_velocity@{max\_linear\_velocity}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{max\_linear\_velocity}{max\_linear\_velocity}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_adf6cc61c4f052e604c829c30fc7b5d0d} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::max\+\_\+linear\+\_\+velocity = 1.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00044}{44}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a467b43e3cf492f214066454f9be46b97}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!prev\_error\_angular\_@{prev\_error\_angular\_}}
\index{prev\_error\_angular\_@{prev\_error\_angular\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{prev\_error\_angular\_}{prev\_error\_angular\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a467b43e3cf492f214066454f9be46b97} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::prev\+\_\+error\+\_\+angular\+\_\+ = 0.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00038}{38}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_ae180a86ae4408cfa896a8ffd6a8e35fc}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!prev\_error\_linear\_@{prev\_error\_linear\_}}
\index{prev\_error\_linear\_@{prev\_error\_linear\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{prev\_error\_linear\_}{prev\_error\_linear\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_ae180a86ae4408cfa896a8ffd6a8e35fc} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::prev\+\_\+error\+\_\+linear\+\_\+ = 0.\+0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00037}{37}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!target\_pose\_@{target\_pose\_}}
\index{target\_pose\_@{target\_pose\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{target\_pose\_}{target\_pose\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_acfd6926ba77b3c5f96265182a33f066f} 
geometry\+\_\+msgs\+::msg\+::\+Pose cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::target\+\_\+pose\+\_\+}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00054}{54}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__navigate__next__waypoint__free_8cpp_source_l00029}{cl\+\_\+nav2z\+::\+Cb\+Navigate\+Next\+Waypoint\+Free\+::on\+Entry()}}, and \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_afb9ad508b6a0f6f3ead54777f5744de8}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!targetYaw\_@{targetYaw\_}}
\index{targetYaw\_@{targetYaw\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{targetYaw\_}{targetYaw\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_afb9ad508b6a0f6f3ead54777f5744de8} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::target\+Yaw\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00032}{32}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a4adcb7de008328296d9c3878e1908cd0}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!threshold\_distance\_@{threshold\_distance\_}}
\index{threshold\_distance\_@{threshold\_distance\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{threshold\_distance\_}{threshold\_distance\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a4adcb7de008328296d9c3878e1908cd0} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::threshold\+\_\+distance\+\_\+ = 3.\+0}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00052}{52}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



Referenced by \mbox{\hyperlink{cb__position__control__free__space_8cpp_source_l00037}{on\+Entry()}}.

\Hypertarget{structcl__nav2z_1_1CbPositionControlFreeSpace_a53b707e4c081b0b0366e653439c657b4}\index{cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}!yaw\_goal\_tolerance\_rads\_@{yaw\_goal\_tolerance\_rads\_}}
\index{yaw\_goal\_tolerance\_rads\_@{yaw\_goal\_tolerance\_rads\_}!cl\_nav2z::CbPositionControlFreeSpace@{cl\_nav2z::CbPositionControlFreeSpace}}
\doxysubsubsection{\texorpdfstring{yaw\_goal\_tolerance\_rads\_}{yaw\_goal\_tolerance\_rads\_}}
{\footnotesize\ttfamily \label{structcl__nav2z_1_1CbPositionControlFreeSpace_a53b707e4c081b0b0366e653439c657b4} 
double cl\+\_\+nav2z\+::\+Cb\+Position\+Control\+Free\+Space\+::yaw\+\_\+goal\+\_\+tolerance\+\_\+rads\+\_\+ = 0.\+1}



Definition at line \mbox{\hyperlink{cb__position__control__free__space_8hpp_source_l00050}{50}} of file \mbox{\hyperlink{cb__position__control__free__space_8hpp_source}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}.



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/nav2z\+\_\+client/nav2z\+\_\+client/include/nav2z\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__position__control__free__space_8hpp}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+hpp}}\item 
smacc2\+\_\+client\+\_\+library/nav2z\+\_\+client/nav2z\+\_\+client/src/nav2z\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__position__control__free__space_8cpp}{cb\+\_\+position\+\_\+control\+\_\+free\+\_\+space.\+cpp}}\end{DoxyCompactItemize}
