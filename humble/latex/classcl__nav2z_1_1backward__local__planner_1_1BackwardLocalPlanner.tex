\doxysection{cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner Class Reference}
\hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner}{}\label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}


{\ttfamily \#include $<$backward\+\_\+local\+\_\+planner.\+hpp$>$}



Inheritance diagram for cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::Backward\+Local\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ade4eb16110ef8720454535db315d1b03}{Backward\+Local\+Planner}} ()
\item 
virtual \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a812f81f8712b1875d2173183ebd9ba0c}{\texorpdfstring{$\sim$}{\string~}\+Backward\+Local\+Planner}} ()
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac804afd283107858f418b31e6a248df1}{configure}} (const rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Weak\+Ptr \&parent, std\+::string name, const std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$ tf, const std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$ costmap\+\_\+ros) override
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0a5c8692921a23ab9a3dbe1a20a5a34}{activate}} () override
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22fac9f377f322b14c0a4aaaeb02db08}{deactivate}} () override
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3aef2a8959e8139e9e6b954fb2c7d33a}{cleanup}} () override
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b1fd356d7eac7a5b146a1868facf00d}{set\+Plan}} (const nav\+\_\+msgs\+::msg\+::\+Path \&path) override
\begin{DoxyCompactList}\small\item\em nav2\+\_\+core set\+Plan -\/ Sets the global plan \end{DoxyCompactList}\item 
virtual geometry\+\_\+msgs\+::msg\+::\+Twist\+Stamped \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a32ec394e239dc3e8ef8c862b908c9a00}{compute\+Velocity\+Commands}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose, const geometry\+\_\+msgs\+::msg\+::\+Twist \&velocity, nav2\+\_\+core\+::\+Goal\+Checker \texorpdfstring{$\ast$}{*}goal\+\_\+checker) override
\begin{DoxyCompactList}\small\item\em nav2\+\_\+core compute\+Velocity\+Commands -\/ calculates the best command given the current pose and velocity \end{DoxyCompactList}\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d970228d944900777af33c12ab46268}{is\+Goal\+Reached}} ()
\item 
virtual void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_adbd49d9903f1796877ca0cf0519f0b20}{set\+Speed\+Limit}} (const double \&speed\+\_\+limit, const \mbox{\hyperlink{classbool}{bool}} \&percentage) override
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c}{update\+Parameters}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56}{find\+Initial\+Carrot\+Goal}} (geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691}{update\+Carrot\+Goal}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0f67891c3cd3843dc86ab9194da9f01}{resample\+Precise\+Plan}} ()
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a68a9b887332f7d5a9a553804b1a80857}{straight\+Backwards\+And\+Pure\+Spin\+Cmd}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose, double \&vetta, double \&gamma, double alpha\+\_\+error, double betta\+\_\+error, double rho\+\_\+error)
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0}{clear\+Markers}} ()
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207}{publish\+Goal\+Marker}} (double x, double y, double phi)
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose, double \&dist, double \&angular\+\_\+error)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0f31caecaf64ef8ac1a48230b682d6ef}{check\+Goal\+Reached}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose, double vetta, double gamma, double alpha\+\_\+error, geometry\+\_\+msgs\+::msg\+::\+Twist \&cmd\+\_\+vel)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac155bae39ddf3257c6f1d4950b0633aa}{check\+Current\+Pose\+In\+Goal\+Range}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&tfpose, const geometry\+\_\+msgs\+::msg\+::\+Twist \&current\+Twist, double angle\+\_\+error, \mbox{\hyperlink{classbool}{bool}} \&linear\+Goal\+Reached, nav2\+\_\+core\+::\+Goal\+Checker \texorpdfstring{$\ast$}{*}goal\+Checker)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945}{reset\+Divergence\+Detection}} ()
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b}{divergence\+Detection\+Update}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose)
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0b525510926e54ef02b850ba051925c0}{check\+Carrot\+Half\+Plain\+Constraint}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&pose)
\item 
void \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb}{generate\+Trajectory}} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, float maxdist, float maxangle, float maxtime, float dt, std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&outtraj)
\item 
Eigen\+::\+Vector3f \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0e614005a2fa9c4e557b932d7546691e}{compute\+New\+Positions}} (const Eigen\+::\+Vector3f \&pos, const Eigen\+::\+Vector3f \&vel, double dt)
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Shared\+Ptr \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\+\_\+}}
\item 
std\+::string \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\+\_\+}}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwards\+Plan\+Path\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmap\+Ros\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a27dfd917864b054e867ec965fce8007d}{tf\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$ visualization\+\_\+msgs\+::msg\+::\+Marker\+Array $>$ $>$ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goal\+Marker\+Publisher\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Path $>$ $>$ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}{plan\+Pub\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\+\_\+rho\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\+\_\+alpha\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\+\_\+betta\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2065eea9c5900dddde843a3d782c4934}{pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}
\item 
const double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5a9d2148f2d199cac7908e037cb14329}{alpha\+\_\+offset\+\_\+}} = M\+\_\+\+PI
\item 
const double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a24828d4b3b9fc4cf2fa4de05f980696e}{betta\+\_\+offset\+\_\+}} = 0
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8hpp_ab6024a26b088c11b8a5218a469ae5a57}{meter}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\+\_\+distance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8hpp_a640effbe91ae9b25d698a883a9e80d96}{rad}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\+\_\+angular\+\_\+distance\+\_\+}}
\item 
\mbox{\hyperlink{backward__local__planner_8hpp_ab6024a26b088c11b8a5218a469ae5a57}{meter}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aee7e0f4d30ac5aaca483b5a4e354c7bc}{transform\+\_\+tolerance\+\_\+}}
\item 
rclcpp\+::\+Duration \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}{waiting\+Timeout\+\_\+}}
\item 
rclcpp\+::\+Time \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0e82d590ec70dd5684e6c6431c7867f}{waiting\+Stamp\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb}{goal\+Reached\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aeea4caeb7bc6a63029953dff2b35ef49}{initial\+Pure\+Spinning\+Stage\+\_\+}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}} = false
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}{enable\+\_\+obstacle\+\_\+checking\+\_\+}} = true
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{in\+Goal\+Pure\+Spinning\+State\+\_\+}} = false
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43}{waiting\+\_\+}}
\item 
int \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{current\+Carrot\+Pose\+Index\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00040}{40}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ade4eb16110ef8720454535db315d1b03}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!BackwardLocalPlanner@{BackwardLocalPlanner}}
\index{BackwardLocalPlanner@{BackwardLocalPlanner}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{BackwardLocalPlanner()}{BackwardLocalPlanner()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ade4eb16110ef8720454535db315d1b03} 
cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ade4eb16110ef8720454535db315d1b03}{Backward\+Local\+Planner()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00046}{46}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046\ :\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}{waitingTimeout\_}}(0s)\ \{\}}

\end{DoxyCode}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a812f81f8712b1875d2173183ebd9ba0c}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!````~BackwardLocalPlanner@{\texorpdfstring{$\sim$}{\string~}BackwardLocalPlanner}}
\index{````~BackwardLocalPlanner@{\texorpdfstring{$\sim$}{\string~}BackwardLocalPlanner}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}BackwardLocalPlanner()}{\string~BackwardLocalPlanner()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a812f81f8712b1875d2173183ebd9ba0c} 
cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::\texorpdfstring{$\sim$}{\string~}\+Backward\+Local\+Planner (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a812f81f8712b1875d2173183ebd9ba0c}{\texorpdfstring{$\sim$}{\string~}\+Backward\+Local\+Planner()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00053}{53}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0a5c8692921a23ab9a3dbe1a20a5a34}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!activate@{activate}}
\index{activate@{activate}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0a5c8692921a23ab9a3dbe1a20a5a34} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::activate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{55}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00056\ \{}
\DoxyCodeLine{00057\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}activating\ controller\ BackwardLocalPlanner"{}});}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c}{updateParameters}}();}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goalMarkerPublisher\_}}-\/>on\_activate();}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}{planPub\_}}-\/>on\_activate();}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.clear();}
\DoxyCodeLine{00063\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{goal\+Marker\+Publisher\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00133}{plan\+Pub\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa0a5c8692921a23ab9a3dbe1a20a5a34_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0b525510926e54ef02b850ba051925c0}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!checkCarrotHalfPlainConstraint@{checkCarrotHalfPlainConstraint}}
\index{checkCarrotHalfPlainConstraint@{checkCarrotHalfPlainConstraint}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{checkCarrotHalfPlainConstraint()}{checkCarrotHalfPlainConstraint()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0b525510926e54ef02b850ba051925c0} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Carrot\+Half\+Plain\+Constraint (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00385}{385}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00387\ \{}
\DoxyCodeLine{00388\ \ \ \textcolor{comment}{//\ this\ function\ is\ specially\ useful\ when\ we\ want\ to\ reach\ the\ goal\ with\ a\ lot}}
\DoxyCodeLine{00389\ \ \ \textcolor{comment}{//\ of\ precision.\ We\ may\ pass\ the\ goal\ and\ then\ the\ controller\ enters\ in\ some}}
\DoxyCodeLine{00390\ \ \ \textcolor{comment}{//\ unstable\ state.\ With\ this,\ we\ are\ able\ to\ detect\ when\ stop\ moving.}}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ \textcolor{comment}{//\ only\ apply\ if\ the\ carrot\ is\ in\ goal\ position\ and\ also\ if\ we\ are\ not\ in\ a\ pure\ spinning\ behavior\ v!=0}}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ \textcolor{keyword}{auto}\ \&\ carrot\_pose\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00395\ \ \ \textcolor{keyword}{const}\ geometry\_msgs::msg::Point\ \&\ carrot\_point\ =\ carrot\_pose.pose.position;}
\DoxyCodeLine{00396\ \ \ \textcolor{keywordtype}{double}\ yaw\ =\ tf2::getYaw(carrot\_pose.pose.orientation);}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \textcolor{comment}{//\ direction\ vector}}
\DoxyCodeLine{00399\ \ \ \textcolor{keywordtype}{double}\ vx\ =\ cos(yaw);}
\DoxyCodeLine{00400\ \ \ \textcolor{keywordtype}{double}\ vy\ =\ sin(yaw);}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \textcolor{comment}{//\ line\ implicit\ equation}}
\DoxyCodeLine{00403\ \ \ \textcolor{comment}{//\ ax\ +\ by\ +\ c\ =\ 0}}
\DoxyCodeLine{00404\ \ \ \textcolor{keywordtype}{double}\ c\ =\ -\/vx\ *\ carrot\_point.x\ -\/\ vy\ *\ carrot\_point.y;}
\DoxyCodeLine{00405\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ C\_OFFSET\_METERS\ =\ 0.05;\ \ \textcolor{comment}{//\ 5\ cm}}
\DoxyCodeLine{00406\ \ \ \textcolor{keywordtype}{double}\ check\ =\ vx\ *\ tfpose.pose.position.x\ +\ vy\ *\ tfpose.pose.position.y\ +\ c\ +\ C\_OFFSET\_METERS;}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00409\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ half\ plane\ constraint:"{}}\ <<\ vx\ <<\ \textcolor{stringliteral}{"{}*"{}}\ <<\ carrot\_point.x\ <<\ \textcolor{stringliteral}{"{}\ +\ "{}}\ <<\ vy}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}*"{}}\ <<\ carrot\_point.y\ <<\ \textcolor{stringliteral}{"{}\ +\ "{}}\ <<\ c);}
\DoxyCodeLine{00412\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00413\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ constraint\ evaluation:\ "{}}}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ vx\ <<\ \textcolor{stringliteral}{"{}*"{}}\ <<\ tfpose.pose.position.x\ <<\ \textcolor{stringliteral}{"{}\ +\ "{}}\ <<\ vy\ <<\ \textcolor{stringliteral}{"{}*"{}}}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ tfpose.pose.position.y\ <<\ \textcolor{stringliteral}{"{}\ +\ "{}}\ <<\ c\ <<\ \textcolor{stringliteral}{"{}\ =\ "{}}\ <<\ check);}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \textcolor{keywordflow}{return}\ check\ <\ 0;}
\DoxyCodeLine{00418\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0b525510926e54ef02b850ba051925c0_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac155bae39ddf3257c6f1d4950b0633aa}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!checkCurrentPoseInGoalRange@{checkCurrentPoseInGoalRange}}
\index{checkCurrentPoseInGoalRange@{checkCurrentPoseInGoalRange}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{checkCurrentPoseInGoalRange()}{checkCurrentPoseInGoalRange()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac155bae39ddf3257c6f1d4950b0633aa} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Current\+Pose\+In\+Goal\+Range (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{tfpose}{, }\item[{const geometry\+\_\+msgs\+::msg\+::\+Twist \&}]{current\+Twist}{, }\item[{double}]{angle\+\_\+error}{, }\item[{\mbox{\hyperlink{classbool}{bool}} \&}]{linear\+Goal\+Reached}{, }\item[{nav2\+\_\+core\+::\+Goal\+Checker \texorpdfstring{$\ast$}{*}}]{goal\+Checker}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{420}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00424\ \{}
\DoxyCodeLine{00425\ \ \ \textcolor{keyword}{auto}\ \&\ finalgoal\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.back();}
\DoxyCodeLine{00426\ \ \ \textcolor{keywordtype}{double}\ gdx\ =\ finalgoal.pose.position.x\ -\/\ tfpose.pose.position.x;}
\DoxyCodeLine{00427\ \ \ \textcolor{keywordtype}{double}\ gdy\ =\ finalgoal.pose.position.y\ -\/\ tfpose.pose.position.y;}
\DoxyCodeLine{00428\ \ \ \textcolor{keywordtype}{double}\ goaldist\ =\ sqrt(gdx\ *\ gdx\ +\ gdy\ *\ gdy);}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \textcolor{keyword}{auto}\ abs\_angle\_error\ =\ fabs(angle\_error);}
\DoxyCodeLine{00431\ \ \ \textcolor{comment}{//\ final\_alpha\_error\ =}}
\DoxyCodeLine{00432\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00433\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ goal\ check.\ linear\ dist:\ "{}}}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ goaldist\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ this-\/>xy\_goal\_tolerance\_\ <<\ \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{},\ angular\ dist:\ "{}}\ <<\ abs\_angle\_error\ <<\ \textcolor{stringliteral}{"{}("{}}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ this-\/>yaw\_goal\_tolerance\_\ <<\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ linearGoalReached\ =\ goaldist\ <\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \textcolor{keywordflow}{return}\ linearGoalReached\ \&\&\ abs\_angle\_error\ <\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00441\ \ \ \textcolor{comment}{//\ return\ goal\_checker-\/>isGoalReached(tfpose.pose,\ finalgoal.pose,\ currentTwist);}}
\DoxyCodeLine{00442\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac155bae39ddf3257c6f1d4950b0633aa_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0f31caecaf64ef8ac1a48230b682d6ef}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!checkGoalReached@{checkGoalReached}}
\index{checkGoalReached@{checkGoalReached}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{checkGoalReached()}{checkGoalReached()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0f31caecaf64ef8ac1a48230b682d6ef} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::check\+Goal\+Reached (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{, }\item[{double}]{vetta}{, }\item[{double}]{gamma}{, }\item[{double}]{alpha\+\_\+error}{, }\item[{geometry\+\_\+msgs\+::msg\+::\+Twist \&}]{cmd\+\_\+vel}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3aef2a8959e8139e9e6b954fb2c7d33a}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{cleanup()}{cleanup()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3aef2a8959e8139e9e6b954fb2c7d33a} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::cleanup (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00073}{73}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074\ \{}
\DoxyCodeLine{00075\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0}{clearMarkers}}();}
\DoxyCodeLine{00076\ \ \ RCLCPP\_WARN\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ cleanup"{}});}
\DoxyCodeLine{00077\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.clear();}
\DoxyCodeLine{00078\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ =\ 0;}
\DoxyCodeLine{00079\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{clear\+Markers()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3aef2a8959e8139e9e6b954fb2c7d33a_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!clearMarkers@{clearMarkers}}
\index{clearMarkers@{clearMarkers}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{clearMarkers()}{clearMarkers()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::clear\+Markers (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{1167}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01168\ \{}
\DoxyCodeLine{01169\ \ \ visualization\_msgs::msg::Marker\ marker;}
\DoxyCodeLine{01170\ \ \ marker.header.frame\_id\ =\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{01171\ \ \ marker.header.stamp\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>now();}
\DoxyCodeLine{01172\ }
\DoxyCodeLine{01173\ \ \ marker.ns\ =\ \textcolor{stringliteral}{"{}my\_namespace2"{}};}
\DoxyCodeLine{01174\ \ \ marker.id\ =\ 0;}
\DoxyCodeLine{01175\ \ \ marker.type\ =\ visualization\_msgs::msg::Marker::ARROW;}
\DoxyCodeLine{01176\ \ \ marker.action\ =\ visualization\_msgs::msg::Marker::DELETEALL;}
\DoxyCodeLine{01177\ }
\DoxyCodeLine{01178\ \ \ visualization\_msgs::msg::MarkerArray\ ma;}
\DoxyCodeLine{01179\ \ \ ma.markers.push\_back(marker);}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goalMarkerPublisher\_}}-\/>publish(ma);}
\DoxyCodeLine{01182\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{goal\+Marker\+Publisher\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00073}{cleanup()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00065}{deactivate()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!computeCurrentEuclideanAndAngularErrorsToCarrotGoal@{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}
\index{computeCurrentEuclideanAndAngularErrorsToCarrotGoal@{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeCurrentEuclideanAndAngularErrorsToCarrotGoal()}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{tfpose}{, }\item[{double \&}]{dist}{, }\item[{double \&}]{angular\+\_\+error}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

auxiliary functions 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{245}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00247\ \{}
\DoxyCodeLine{00248\ \ \ \textcolor{keywordtype}{double}\ angle\ =\ tf2::getYaw(tfpose.pose.orientation);}
\DoxyCodeLine{00249\ \ \ \textcolor{keyword}{auto}\ \&\ carrot\_pose\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00250\ \ \ \textcolor{keyword}{const}\ geometry\_msgs::msg::Point\ \&\ carrot\_point\ =\ carrot\_pose.pose.position;}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ tf2::Quaternion\ carrot\_orientation;}
\DoxyCodeLine{00253\ \ \ tf2::convert(carrot\_pose.pose.orientation,\ carrot\_orientation);}
\DoxyCodeLine{00254\ \ \ geometry\_msgs::msg::Pose\ currentPoseDebugMsg\ =\ tfpose.pose;}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \textcolor{comment}{//\ take\ error\ from\ the\ current\ position\ to\ the\ path\ point}}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordtype}{double}\ dx\ =\ carrot\_point.x\ -\/\ tfpose.pose.position.x;}
\DoxyCodeLine{00258\ \ \ \textcolor{keywordtype}{double}\ dy\ =\ carrot\_point.y\ -\/\ tfpose.pose.position.y;}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ dist\ =\ sqrt(dx\ *\ dx\ +\ dy\ *\ dy);}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{keywordtype}{double}\ pangle\ =\ tf2::getYaw(carrot\_orientation);}
\DoxyCodeLine{00263\ \ \ angular\_error\ =\ fabs(angles::shortest\_angular\_distance(pangle,\ angle));}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00266\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Compute\ carrot\ errors\ from\ current\ pose.\ (linear\ "{}}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ dist\ <<\ \textcolor{stringliteral}{"{})(angular\ "{}}\ <<\ angular\_error\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ std::endl}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Current\ carrot\ pose:\ "{}}\ <<\ std::endl}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ carrot\_pose\ <<\ std::endl}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Current\ actual\ pose:"{}}\ <<\ std::endl}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ currentPoseDebugMsg);}
\DoxyCodeLine{00272\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00348}{divergence\+Detection\+Update()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0e614005a2fa9c4e557b932d7546691e}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!computeNewPositions@{computeNewPositions}}
\index{computeNewPositions@{computeNewPositions}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeNewPositions()}{computeNewPositions()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0e614005a2fa9c4e557b932d7546691e} 
Eigen\+::\+Vector3f cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+New\+Positions (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos}{, }\item[{const Eigen\+::\+Vector3f \&}]{vel}{, }\item[{double}]{dt}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l01157}{1157}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01159\ \{}
\DoxyCodeLine{01160\ \ \ Eigen::Vector3f\ new\_pos\ =\ Eigen::Vector3f::Zero();}
\DoxyCodeLine{01161\ \ \ new\_pos[0]\ =\ pos[0]\ +\ (vel[0]\ *\ cos(pos[2])\ +\ vel[1]\ *\ cos(M\_PI\_2\ +\ pos[2]))\ *\ dt;}
\DoxyCodeLine{01162\ \ \ new\_pos[1]\ =\ pos[1]\ +\ (vel[0]\ *\ sin(pos[2])\ +\ vel[1]\ *\ sin(M\_PI\_2\ +\ pos[2]))\ *\ dt;}
\DoxyCodeLine{01163\ \ \ new\_pos[2]\ =\ pos[2]\ +\ vel[2]\ *\ dt;}
\DoxyCodeLine{01164\ \ \ \textcolor{keywordflow}{return}\ new\_pos;}
\DoxyCodeLine{01165\ \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01092}{generate\+Trajectory()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0e614005a2fa9c4e557b932d7546691e_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a32ec394e239dc3e8ef8c862b908c9a00}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!computeVelocityCommands@{computeVelocityCommands}}
\index{computeVelocityCommands@{computeVelocityCommands}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{computeVelocityCommands()}{computeVelocityCommands()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a32ec394e239dc3e8ef8c862b908c9a00} 
geometry\+\_\+msgs\+::msg\+::\+Twist\+Stamped cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::compute\+Velocity\+Commands (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{, }\item[{const geometry\+\_\+msgs\+::msg\+::\+Twist \&}]{velocity}{, }\item[{nav2\+\_\+core\+::\+Goal\+Checker \texorpdfstring{$\ast$}{*}}]{goal\+\_\+checker}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



nav2\+\_\+core compute\+Velocity\+Commands -\/ calculates the best command given the current pose and velocity 

It is presumed that the global plan is already set.

This is mostly a wrapper for the protected compute\+Velocity\+Commands function which has additional debugging info.


\begin{DoxyParams}{Parameters}
{\em pose} & Current robot pose \\
\hline
{\em velocity} & Current robot velocity \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The best command for the robot to drive
\end{DoxyReturn}
\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a32ec394e239dc3e8ef8c862b908c9a00}{compute\+Velocity\+Commands()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{470}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00473\ \{}
\DoxyCodeLine{00474\ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00475\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ LOCAL\ PLANNER\ LOOP\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00477\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c}{updateParameters}}();}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \textcolor{comment}{//\ consistency\ check}}
\DoxyCodeLine{00480\ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ >\ 0)}
\DoxyCodeLine{00481\ \ \ \{}
\DoxyCodeLine{00482\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Current\ pose\ frame\ id:\ "{}}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.front().header.frame\_id}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{},\ path\ pose\ frame\ id:\ "{}}\ <<\ pose.header.frame\_id);}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.front().header.frame\_id\ !=\ pose.header.frame\_id)}
\DoxyCodeLine{00488\ \ \ \ \ \{}
\DoxyCodeLine{00489\ \ \ \ \ \ \ RCLCPP\_ERROR\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Inconsistent\ frames"{}});}
\DoxyCodeLine{00490\ \ \ \ \ \}}
\DoxyCodeLine{00491\ \ \ \}}
\DoxyCodeLine{00492\ }
\DoxyCodeLine{00493\ \ \ \textcolor{comment}{//\ xy\_goal\_tolerance\ and\ yaw\_goal\_tolerance\ are\ just\ used\ for\ logging\ proposes\ and\ clamping\ the\ carrot}}
\DoxyCodeLine{00494\ \ \ \textcolor{comment}{//\ goal\ distance\ (parameter\ safety)}}
\DoxyCodeLine{00495\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}\ ==\ -\/1\ ||\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}\ ==\ -\/1)}
\DoxyCodeLine{00496\ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ geometry\_msgs::msg::Pose\ posetol;}
\DoxyCodeLine{00498\ \ \ \ \ geometry\_msgs::msg::Twist\ twistol;}
\DoxyCodeLine{00499\ \ \ \ \ \textcolor{keywordflow}{if}\ (goal\_checker-\/>getTolerances(posetol,\ twistol))}
\DoxyCodeLine{00500\ \ \ \ \ \{}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}\ =\ posetol.position.x;}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}\ =\ tf2::getYaw(posetol.orientation);}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \textcolor{comment}{//xy\_goal\_tolerance\_\ =\ posetol.position.x\ *\ 0.35;\ \ //\ WORKAROUND\ ISSUE\ GOAL\ CHECKER\ NAV\_CONTROLLER\ DIFF}}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \textcolor{comment}{//yaw\_goal\_tolerance\_\ =\ tf2::getYaw(posetol.orientation)\ *\ 0.35;}}
\DoxyCodeLine{00505\ \ \ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ xy\_goal\_tolerance\_:\ "{}}}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{},\ yaw\_goal\_tolerance\_:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{00509\ \ \ \ \ \}}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00511\ \ \ \ \ \{}
\DoxyCodeLine{00512\ \ \ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00513\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ could\ not\ get\ tolerances\ from\ goal\ checker"{}});}
\DoxyCodeLine{00514\ \ \ \ \ \}}
\DoxyCodeLine{00515\ \ \ \}}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00518\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ LOCAL\ PLANNER\ LOOP\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ geometry\_msgs::msg::TwistStamped\ cmd\_vel;}
\DoxyCodeLine{00522\ \ \ RCLCPP\_INFO(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ LOCAL\ PLANNER\ LOOP"{}});}
\DoxyCodeLine{00523\ \ \ geometry\_msgs::msg::PoseStamped\ paux;}
\DoxyCodeLine{00524\ \ \ geometry\_msgs::msg::PoseStamped\ tfpose;}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getRobotPose(tfpose))}
\DoxyCodeLine{00527\ \ \ \{}
\DoxyCodeLine{00528\ \ \ \ \ RCLCPP\_ERROR(}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ missing\ robot\ pose,\ canceling\ compute\ Velocity\ Command"{}});}
\DoxyCodeLine{00531\ \ \ \}\ \ \textcolor{comment}{//\ it\ is\ not\ working\ in\ the\ pure\ spinning\ reel\ example,\ maybe\ the\ hyperplane\ check\ is\ enough}}
\DoxyCodeLine{00532\ \ \ \textcolor{keywordtype}{bool}\ divergenceDetected\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00533\ }
\DoxyCodeLine{00534\ \ \ \textcolor{keywordtype}{bool}\ emergency\_stop\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00535\ \ \ \textcolor{keywordflow}{if}\ (divergenceDetected)}
\DoxyCodeLine{00536\ \ \ \{}
\DoxyCodeLine{00537\ \ \ \ \ RCLCPP\_ERROR(}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Divergence\ detected.\ Sending\ emergency\ stop."{}});}
\DoxyCodeLine{00539\ \ \ \ \ emergency\_stop\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00540\ \ \ \}}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \textcolor{keywordtype}{bool}\ carrotInLinearGoalRange\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691}{updateCarrotGoal}}(tfpose);}
\DoxyCodeLine{00543\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\ goal\ created"{}});}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \textcolor{keywordflow}{if}\ (emergency\_stop)}
\DoxyCodeLine{00546\ \ \ \{}
\DoxyCodeLine{00547\ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00548\ \ \ \ \ cmd\_vel.twist.angular.z\ =\ 0;}
\DoxyCodeLine{00549\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ emergency\ stop,\ exit\ compute\ commands"{}});}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{comment}{//\ return\ false;}}
\DoxyCodeLine{00552\ \ \ \ \ \textcolor{keywordflow}{return}\ cmd\_vel;}
\DoxyCodeLine{00553\ \ \ \}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/\ Evaluate\ the\ current\ context\ -\/-\/-\/-\/}}
\DoxyCodeLine{00556\ \ \ \textcolor{keywordtype}{double}\ rho\_error,\ betta\_error,\ alpha\_error;}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \textcolor{comment}{//\ getting\ carrot\ goal\ information}}
\DoxyCodeLine{00559\ \ \ tf2::Quaternion\ q;}
\DoxyCodeLine{00560\ \ \ tf2::convert(tfpose.pose.orientation,\ q);}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00563\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\ goal:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <<\ \textcolor{stringliteral}{"{}/"{}}}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00565\ \ \ \textcolor{keyword}{const}\ geometry\_msgs::msg::PoseStamped\ \&\ carrotgoalpose\ =}
\DoxyCodeLine{00566\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}[\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}];}
\DoxyCodeLine{00567\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00568\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\ goal\ pose\ current\ index:\ "{}}}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ <<\ \textcolor{stringliteral}{"{}:\ "{}}}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ carrotgoalpose);}
\DoxyCodeLine{00571\ \ \ \textcolor{keyword}{const}\ geometry\_msgs::msg::Point\ \&\ carrotGoalPosition\ =\ carrotgoalpose.pose.position;}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00573\ \ \ tf2::Quaternion\ goalQ;}
\DoxyCodeLine{00574\ \ \ tf2::fromMsg(carrotgoalpose.pose.orientation,\ goalQ);}
\DoxyCodeLine{00575\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ -\/-\/\ Control\ Policy\ -\/-\/"{}});}
\DoxyCodeLine{00576\ \ \ \textcolor{comment}{//\ goal\ orientation\ (global\ frame)}}
\DoxyCodeLine{00577\ \ \ \textcolor{keywordtype}{double}\ betta\ =\ tf2::getYaw(goalQ);}
\DoxyCodeLine{00578\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ goal\ orientation:\ "{}}\ <<\ betta);}
\DoxyCodeLine{00579\ \ \ betta\ =\ betta\ +\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a24828d4b3b9fc4cf2fa4de05f980696e}{betta\_offset\_}};}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \ \ \textcolor{keywordtype}{double}\ dx\ =\ carrotGoalPosition.x\ -\/\ tfpose.pose.position.x;}
\DoxyCodeLine{00582\ \ \ \textcolor{keywordtype}{double}\ dy\ =\ carrotGoalPosition.y\ -\/\ tfpose.pose.position.y;}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00584\ \ \ \textcolor{comment}{//\ distance\ error\ to\ the\ targetpoint}}
\DoxyCodeLine{00585\ \ \ rho\_error\ =\ sqrt(dx\ *\ dx\ +\ dy\ *\ dy);}
\DoxyCodeLine{00586\ }
\DoxyCodeLine{00587\ \ \ \textcolor{comment}{//\ heading\ to\ goal\ angle}}
\DoxyCodeLine{00588\ \ \ \textcolor{keywordtype}{double}\ theta\ =\ tf2::getYaw(q);}
\DoxyCodeLine{00589\ \ \ \textcolor{keywordtype}{double}\ alpha\ =\ atan2(dy,\ dx);}
\DoxyCodeLine{00590\ \ \ alpha\ =\ alpha\ +\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5a9d2148f2d199cac7908e037cb14329}{alpha\_offset\_}};}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \ alpha\_error\ =\ angles::shortest\_angular\_distance(alpha,\ theta);}
\DoxyCodeLine{00593\ \ \ betta\_error\ =\ angles::shortest\_angular\_distance(betta,\ theta);}
\DoxyCodeLine{00594\ \ \ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ END\ CONTEXT\ EVAL\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \textcolor{keywordtype}{bool}\ linearGoalReached;}
\DoxyCodeLine{00597\ \ \ \textcolor{keywordtype}{bool}\ currentPoseInGoal\ =}
\DoxyCodeLine{00598\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac155bae39ddf3257c6f1d4950b0633aa}{checkCurrentPoseInGoalRange}}(tfpose,\ velocity,\ betta\_error,\ linearGoalReached,\ goal\_checker);}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \textcolor{comment}{//\ Make\ sure\ the\ robot\ is\ very\ close\ to\ the\ goal\ and\ it\ is\ really\ in\ the\ the\ last\ goal\ point.}}
\DoxyCodeLine{00601\ \ \ \textcolor{keywordtype}{bool}\ carrotInFinalGoalIndex\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ ==\ (int)\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ -\/\ 1;}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \ \ \textcolor{comment}{//\ checking\ if\ we\ are\ really\ in\ the\ end\ goal\ pose}}
\DoxyCodeLine{00604\ \ \ \textcolor{keywordflow}{if}\ (currentPoseInGoal\ \&\&\ carrotInFinalGoalIndex)}
\DoxyCodeLine{00605\ \ \ \{}
\DoxyCodeLine{00606\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb}{goalReached\_}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{comment}{//\ backwardsPlanPath\_.clear();}}
\DoxyCodeLine{00608\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ GOAL\ REACHED.\ Send\ stop\ command\ and\ skipping\ trajectory\ collision:\ "{}}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ <<\ cmd\_vel.twist);}
\DoxyCodeLine{00612\ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00613\ \ \ \ \ cmd\_vel.twist.angular.z\ =\ 0;}
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keywordflow}{return}\ cmd\_vel;}
\DoxyCodeLine{00615\ \ \ \}}
\DoxyCodeLine{00616\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{00617\ \ \ \ \ carrotInLinearGoalRange\ \&\&}
\DoxyCodeLine{00618\ \ \ \ \ linearGoalReached)\ \ \textcolor{comment}{//\ checking\ if\ we\ are\ in\ the\ end\ goal\ point\ but\ with\ incorrect}}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ orientation}}
\DoxyCodeLine{00620\ \ \ \{}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{comment}{//\ this\ means\ that\ we\ are\ not\ in\ the\ final\ angular\ distance,\ and\ we\ may\ even\ not\ be\ in\ the\ last\ carrot\ index}}
\DoxyCodeLine{00622\ \ \ \ \ \textcolor{comment}{//\ (several\ intermediate\ angular\ poses\ until\ the\ last\ goal\ pose)}}
\DoxyCodeLine{00623\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{inGoalPureSpinningState\_}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00624\ \ \ \}}
\DoxyCodeLine{00625\ }
\DoxyCodeLine{00626\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00627\ \ \ \textcolor{keywordtype}{double}\ vetta,\ gamma;}
\DoxyCodeLine{00628\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}})}
\DoxyCodeLine{00629\ \ \ \{}
\DoxyCodeLine{00630\ \ \ \ \ \textcolor{comment}{//\ decorated\ control\ rule\ for\ this\ mode}}
\DoxyCodeLine{00631\ \ \ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a68a9b887332f7d5a9a553804b1a80857}{straightBackwardsAndPureSpinCmd}}(}
\DoxyCodeLine{00632\ \ \ \ \ \ \ tfpose,\ vetta,\ gamma,\ alpha\_error,\ betta\_error,\ rho\_error);}
\DoxyCodeLine{00633\ \ \ \}}
\DoxyCodeLine{00634\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{comment}{//\ default\ free\ navigation\ backward\ motion\ mode}}
\DoxyCodeLine{00635\ \ \ \{}
\DoxyCodeLine{00636\ \ \ \ \ \textcolor{comment}{//\ regular\ control\ rule}}
\DoxyCodeLine{00637\ \ \ \ \ vetta\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}}\ *\ rho\_error;}
\DoxyCodeLine{00638\ \ \ \ \ gamma\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}}\ *\ alpha\_error\ +\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}}\ *\ betta\_error;}
\DoxyCodeLine{00639\ }
\DoxyCodeLine{00640\ \ \ \ \ \textcolor{comment}{//\ Even\ if\ we\ are\ in\ free\ navigation,\ we\ can\ enter\ in\ the\ pure\ spinning\ state.}}
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{comment}{//\ then,\ the\ linear\ motion\ is\ deactivated.}}
\DoxyCodeLine{00642\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{inGoalPureSpinningState\_}})}
\DoxyCodeLine{00643\ \ \ \ \ \{}
\DoxyCodeLine{00644\ \ \ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ we\ entered\ in\ a\ pure\ spinning\ state\ even\ in\ not\ pure-\/spining\ "{}}}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}configuration,\ "{}}}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}carrotDistanceGoalReached:\ \%d"{}},}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ carrotInLinearGoalRange);}
\DoxyCodeLine{00650\ \ \ \ \ \ \ gamma\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}}\ *\ betta\_error;}
\DoxyCodeLine{00651\ \ \ \ \ \ \ vetta\ =\ 0;}
\DoxyCodeLine{00652\ \ \ \ \ \}}
\DoxyCodeLine{00653\ }
\DoxyCodeLine{00654\ \ \ \ \ \textcolor{comment}{//\ classical\ control\ to\ reach\ a\ goal\ backwards}}
\DoxyCodeLine{00655\ \ \ \}}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ \ \ \textcolor{comment}{//\ Apply\ command\ and\ Clamp\ to\ limits}}
\DoxyCodeLine{00658\ \ \ cmd\_vel.twist.linear.x\ =\ vetta;}
\DoxyCodeLine{00659\ \ \ cmd\_vel.twist.angular.z\ =\ gamma;}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \textcolor{keywordflow}{if}\ (cmd\_vel.twist.linear.x\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}})}
\DoxyCodeLine{00662\ \ \ \{}
\DoxyCodeLine{00663\ \ \ \ \ cmd\_vel.twist.linear.x\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}};}
\DoxyCodeLine{00664\ \ \ \}}
\DoxyCodeLine{00665\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmd\_vel.twist.linear.x\ <\ -\/\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}})}
\DoxyCodeLine{00666\ \ \ \{}
\DoxyCodeLine{00667\ \ \ \ \ cmd\_vel.twist.linear.x\ =\ -\/\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}};}
\DoxyCodeLine{00668\ \ \ \}}
\DoxyCodeLine{00669\ }
\DoxyCodeLine{00670\ \ \ \textcolor{keywordflow}{if}\ (cmd\_vel.twist.angular.z\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}})}
\DoxyCodeLine{00671\ \ \ \{}
\DoxyCodeLine{00672\ \ \ \ \ cmd\_vel.twist.angular.z\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}};}
\DoxyCodeLine{00673\ \ \ \}}
\DoxyCodeLine{00674\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (cmd\_vel.twist.angular.z\ <\ -\/\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}})}
\DoxyCodeLine{00675\ \ \ \{}
\DoxyCodeLine{00676\ \ \ \ \ cmd\_vel.twist.angular.z\ =\ -\/\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}};}
\DoxyCodeLine{00677\ \ \ \}}
\DoxyCodeLine{00678\ }
\DoxyCodeLine{00679\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207}{publishGoalMarker}}(carrotGoalPosition.x,\ carrotGoalPosition.y,\ betta);}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00682\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ local\ planner,"{}}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::endl}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ current\ pose\ in\ goal:\ "{}}\ <<\ currentPoseInGoal\ <<\ std::endl}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ carrot\ in\ final\ goal\ index:\ "{}}\ <<\ carrotInFinalGoalIndex\ <<\ std::endl}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ carrot\ in\ linear\ goal\ range:\ "{}}\ <<\ carrotInLinearGoalRange\ <<\ std::endl}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ straightAnPureSpiningMode:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ std::endl}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ inGoalPureSpinningState:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{inGoalPureSpinningState\_}}\ <<\ std::endl}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ theta:\ "{}}\ <<\ theta\ <<\ std::endl}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ betta:\ "{}}\ <<\ theta\ <<\ std::endl}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ err\_x:\ "{}}\ <<\ dx\ <<\ std::endl}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ err\_y:"{}}\ <<\ dy\ <<\ std::endl}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ rho\_error:"{}}\ <<\ rho\_error\ <<\ std::endl}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ alpha\_error:"{}}\ <<\ alpha\_error\ <<\ std::endl}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ betta\_error:"{}}\ <<\ betta\_error\ <<\ std::endl}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ vetta:"{}}\ <<\ vetta\ <<\ std::endl}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ gamma:"{}}\ <<\ gamma\ <<\ std::endl}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ cmd\_vel.lin.x:"{}}\ <<\ cmd\_vel.twist.linear.x\ <<\ std::endl}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ cmd\_vel.ang.z:"{}}\ <<\ cmd\_vel.twist.angular.z);}
\DoxyCodeLine{00701\ }
\DoxyCodeLine{00702\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{inGoalPureSpinningState\_}})}
\DoxyCodeLine{00703\ \ \ \{}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{keywordtype}{bool}\ carrotHalfPlaneConstraintFailure\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0b525510926e54ef02b850ba051925c0}{checkCarrotHalfPlainConstraint}}(tfpose);}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{keywordflow}{if}\ (carrotHalfPlaneConstraintFailure)}
\DoxyCodeLine{00707\ \ \ \ \ \{}
\DoxyCodeLine{00708\ \ \ \ \ \ \ RCLCPP\_ERROR(}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ CarrotHalfPlaneConstraintFailure\ detected.\ Sending\ "{}}}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}emergency\ stop\ and\ success\ to\ the\ planner."{}});}
\DoxyCodeLine{00712\ \ \ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00713\ \ \ \ \ \}}
\DoxyCodeLine{00714\ \ \ \}}
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00716\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ TRAJECTORY\ PREDICTION\ AND\ COLLISION\ AVOIDANCE\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00717\ \ \ \textcolor{comment}{//\ cmd\_vel.twist.linear.x=0;}}
\DoxyCodeLine{00718\ \ \ \textcolor{comment}{//\ cmd\_vel.twist.angular.z\ =\ 0;}}
\DoxyCodeLine{00719\ }
\DoxyCodeLine{00720\ \ \ geometry\_msgs::msg::PoseStamped\ global\_pose;}
\DoxyCodeLine{00721\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getRobotPose(global\_pose);}
\DoxyCodeLine{00722\ }
\DoxyCodeLine{00723\ \ \ \textcolor{keyword}{auto}\ *\ costmap2d\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getCostmap();}
\DoxyCodeLine{00724\ \ \ \textcolor{keyword}{auto}\ yaw\ =\ tf2::getYaw(global\_pose.pose.orientation);}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \ \ \textcolor{keyword}{auto}\ \&\ pos\ =\ global\_pose.pose.position;}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \ \ Eigen::Vector3f\ currentpose(pos.x,\ pos.y,\ yaw);}
\DoxyCodeLine{00729\ \ \ Eigen::Vector3f\ currentvel(}
\DoxyCodeLine{00730\ \ \ \ \ cmd\_vel.twist.linear.x,\ cmd\_vel.twist.linear.y,\ cmd\_vel.twist.angular.z);}
\DoxyCodeLine{00731\ \ \ std::vector<Eigen::Vector3f>\ trajectory;}
\DoxyCodeLine{00732\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb}{generateTrajectory}}(}
\DoxyCodeLine{00733\ \ \ \ \ currentpose,\ currentvel,\ 0.8\ \textcolor{comment}{/*meters*/},\ M\_PI\ /\ 8\ \textcolor{comment}{/*rads*/},\ 3.0\ \textcolor{comment}{/*seconds*/},\ 0.05\ \textcolor{comment}{/*seconds*/},}
\DoxyCodeLine{00734\ \ \ \ \ trajectory);}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ \textcolor{comment}{//\ check\ plan\ rejection}}
\DoxyCodeLine{00737\ \ \ \textcolor{keywordtype}{bool}\ acceptedLocalTrajectoryFreeOfObstacles\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00738\ }
\DoxyCodeLine{00739\ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ mx,\ my;}
\DoxyCodeLine{00740\ }
\DoxyCodeLine{00741\ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}{enable\_obstacle\_checking\_}})}
\DoxyCodeLine{00742\ \ \ \{}
\DoxyCodeLine{00743\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ >\ 0)}
\DoxyCodeLine{00744\ \ \ \ \ \{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \&\ finalgoalpose\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.back();}
\DoxyCodeLine{00746\ }
\DoxyCodeLine{00747\ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ 0;}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO\_STREAM(nh\_-\/>get\_logger(),\ "{}lplanner\ goal:\ "{}\ <<\ finalgoalpose.pose.position);}}
\DoxyCodeLine{00749\ \ \ \ \ \ \ geometry\_msgs::msg::Twist\ mockzerospeed;}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&\ p\ :\ trajectory)}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*geometry\_msgs::msg::Pose\ pg;}}
\DoxyCodeLine{00754\ \textcolor{comment}{\ \ \ \ \ \ \ \ pg.position.x\ =\ p[0];}}
\DoxyCodeLine{00755\ \textcolor{comment}{\ \ \ \ \ \ \ \ pg.position.y\ =\ p[1];}}
\DoxyCodeLine{00756\ \textcolor{comment}{\ \ \ \ \ \ \ \ tf2::Quaternion\ q;}}
\DoxyCodeLine{00757\ \textcolor{comment}{\ \ \ \ \ \ \ \ q.setRPY(0,\ 0,\ p[2]);}}
\DoxyCodeLine{00758\ \textcolor{comment}{\ \ \ \ \ \ \ \ pg.orientation\ =\ tf2::toMsg(q);}}
\DoxyCodeLine{00759\ \textcolor{comment}{}}
\DoxyCodeLine{00760\ \textcolor{comment}{\ \ \ \ \ \ \ \ //\ WARNING\ I\ CAN'T\ USE\ isGoalReached\ because\ I\ can\ change\ the\ state\ of\ a\ stateful\ goal\ checker}}
\DoxyCodeLine{00761\ \textcolor{comment}{\ \ \ \ \ \ \ \ if\ (goal\_checker-\/>isGoalReached(pg,\ finalgoalpose.pose,\ mockzerospeed))*/}}
\DoxyCodeLine{00762\ }
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ dx\ =\ p[0]\ -\/\ finalgoalpose.pose.position.x;}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ dy\ =\ p[1]\ -\/\ finalgoalpose.pose.position.y;}
\DoxyCodeLine{00765\ }
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ dst\ =\ sqrt(dx\ *\ dx\ +\ dy\ *\ dy);}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (dst\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ trajectory\ simulation\ for\ collision\ checking:\ goal\ "{}}}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}reached\ with\ no\ collision"{}});}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00775\ }
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ costmap2d-\/>worldToMap(p[0],\ p[1],\ mx,\ my);}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ unsigned\ int\ cost\ =\ costmap2d-\/>getCost(mx,\ my);}}
\DoxyCodeLine{00778\ }
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),"{}[BackwardLocalPlanner]\ checking\ cost\ pt\ \%d\ [\%lf,\ \%lf]\ cell[\%d,\%d]\ =\ \%d"{},\ i,}}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ p[0],\ p[1],\ mx,\ my,\ cost);\ RCLCPP\_INFO\_STREAM(nh\_-\/>get\_logger(),\ "{}[BackwardLocalPlanner]\ cost:\ "{}\ <<\ cost);}}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ static\ const\ unsigned\ char\ NO\_INFORMATION\ =\ 255;}}
\DoxyCodeLine{00783\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ static\ const\ unsigned\ char\ LETHAL\_OBSTACLE\ =\ 254;}}
\DoxyCodeLine{00784\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ static\ const\ unsigned\ char\ INSCRIBED\_INFLATED\_OBSTACLE\ =\ 253;}}
\DoxyCodeLine{00785\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ static\ const\ unsigned\ char\ FREE\_SPACE\ =\ 0;}}
\DoxyCodeLine{00786\ }
\DoxyCodeLine{00787\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (costmap2d-\/>getCost(mx,\ my)\ >=\ nav2\_costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)}
\DoxyCodeLine{00788\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \ \ \ \ acceptedLocalTrajectoryFreeOfObstacles\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ ABORTED\ LOCAL\ PLAN\ BECAUSE\ OBSTACLE\ DETEDTED\ at\ point\ "{}}}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ i\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ trajectory.size()\ <<\ std::endl}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ p[0]\ <<\ \textcolor{stringliteral}{"{},\ "{}}\ <<\ p[1]);}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00799\ \ \ \ \ \}}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00801\ \ \ \ \ \{}
\DoxyCodeLine{00802\ \ \ \ \ \ \ RCLCPP\_WARN(}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Abort\ local\ -\/\ Backwards\ global\ plan\ size:\ \%ld"{}},}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00805\ \ \ \ \ \ \ cmd\_vel.twist.angular.z\ =\ 0;}
\DoxyCodeLine{00806\ \ \ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \textcolor{comment}{//\ return\ false;}}
\DoxyCodeLine{00808\ \ \ \ \ \}}
\DoxyCodeLine{00809\ \ \ \}}
\DoxyCodeLine{00810\ }
\DoxyCodeLine{00811\ \ \ \textcolor{keywordflow}{if}\ (acceptedLocalTrajectoryFreeOfObstacles)}
\DoxyCodeLine{00812\ \ \ \{}
\DoxyCodeLine{00813\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43}{waiting\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00814\ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ accepted\ local\ trajectory\ free\ of\ obstacle.\ Local\ planner\ "{}}}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}continues."{}});}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{return}\ cmd\_vel;}
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{comment}{//\ return\ true;}}
\DoxyCodeLine{00820\ \ \ \}}
\DoxyCodeLine{00821\ \ \ \textcolor{keywordflow}{else}\ \ \textcolor{comment}{//\ that\ is\ not\ appceted\ because\ existence\ of\ obstacles}}
\DoxyCodeLine{00822\ \ \ \{}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{comment}{//\ emergency\ stop\ for\ collision:\ waiting\ a\ while\ before\ sending\ error}}
\DoxyCodeLine{00824\ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00825\ \ \ \ \ cmd\_vel.twist.angular.z\ =\ 0;}
\DoxyCodeLine{00826\ }
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43}{waiting\_}}\ ==\ \textcolor{keyword}{false})}
\DoxyCodeLine{00828\ \ \ \ \ \{}
\DoxyCodeLine{00829\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43}{waiting\_}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0e82d590ec70dd5684e6c6431c7867f}{waitingStamp\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>now();}
\DoxyCodeLine{00831\ \ \ \ \ \ \ RCLCPP\_WARN(}
\DoxyCodeLine{00832\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner][Not\ accepted\ local\ plan]\ starting\ countdown"{}});}
\DoxyCodeLine{00833\ \ \ \ \ \}}
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00835\ \ \ \ \ \{}
\DoxyCodeLine{00836\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ waitingduration\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>now()\ -\/\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0e82d590ec70dd5684e6c6431c7867f}{waitingStamp\_}};}
\DoxyCodeLine{00837\ }
\DoxyCodeLine{00838\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (waitingduration\ >\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}{waitingTimeout\_}})}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ RCLCPP\_WARN(}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner][Abort\ local]\ timeout!\ duration\ \%lf/\%f"{}},}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \ \ \ \ waitingduration.seconds(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}{waitingTimeout\_}}.seconds());}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ false;}}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ cmd\_vel.twist.linear.x\ =\ 0;}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ cmd\_vel.twist.angular.z\ =\ 0;}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cmd\_vel;}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00848\ \ \ \ \ \}}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{return}\ cmd\_vel;}
\DoxyCodeLine{00851\ \ \ \}}
\DoxyCodeLine{00852\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00142}{alpha\+\_\+offset\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00143}{betta\+\_\+offset\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00385}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00164}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01092}{generate\+Trajectory()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00161}{goal\+Reached\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00165}{in\+Goal\+Pure\+Spinning\+State\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00137}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00138}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00136}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00146}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00145}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01189}{publish\+Goal\+Marker()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00163}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00166}{waiting\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00158}{waiting\+Stamp\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00157}{waiting\+Timeout\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a32ec394e239dc3e8ef8c862b908c9a00_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac804afd283107858f418b31e6a248df1}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!configure@{configure}}
\index{configure@{configure}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac804afd283107858f418b31e6a248df1} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::configure (\begin{DoxyParamCaption}\item[{const rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Weak\+Ptr \&}]{parent}{, }\item[{std\+::string}]{name}{, }\item[{const std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$}]{tf}{, }\item[{const std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$}]{costmap\+\_\+ros}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{96}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}\ =\ costmap\_ros;}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ rclcpp::Node::SharedPtr\ nh("{}\string~/BackwardLocalPlanner"{});}}
\DoxyCodeLine{00103\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}\ =\ parent.lock();}
\DoxyCodeLine{00104\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ =\ name;}
\DoxyCodeLine{00105\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a27dfd917864b054e867ec965fce8007d}{tf\_}}\ =\ tf;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}}\ =\ -\/1.0;}
\DoxyCodeLine{00108\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}}\ =\ 0.5;}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}}\ =\ -\/1.0;\ \ \textcolor{comment}{//\ set\ to\ zero\ means\ that\ orientation\ is\ not\ important}}
\DoxyCodeLine{00110\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}\ =\ 0.4;}
\DoxyCodeLine{00111\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\_mode\_rho\_error\_threshold\_}}\ =\ 0.02;}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}}\ =\ 1.0;}
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}}\ =\ 2.0;}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}\ =\ -\/1;}
\DoxyCodeLine{00116\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}\ =\ -\/1;}
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}{waitingTimeout\_}}\ =\ rclcpp::Duration(10s);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ =\ 0;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(}
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.pure\_spinning\_straight\_line\_mode"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}});}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_rho"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}});}
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_alpha"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}});}
\DoxyCodeLine{00126\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_betta"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}});}
\DoxyCodeLine{00127\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.linear\_mode\_rho\_error\_threshold"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\_mode\_rho\_error\_threshold\_}});}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}});}
\DoxyCodeLine{00130\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_angular\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00131\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.enable\_obstacle\_checking"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}{enable\_obstacle\_checking\_}});}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_linear\_x\_speed"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}});}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_angular\_z\_speed"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}});}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \textcolor{comment}{//\ we\ have\ to\ do\ this,\ for\ example\ for\ the\ case\ we\ are\ refining\ the\ final\ orientation.}}
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//\ check\ at\ some\ point\ if\ the\ carrot\ is\ reached\ in\ "{}goal\ linear\ distance"{},\ then\ we\ go\ into}}
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ some\ automatic\ pure-\/spinning\ mode\ where\ we\ only\ update\ the\ orientation}}
\DoxyCodeLine{00139\ \ \ \textcolor{comment}{//\ This\ means\ that\ if\ we\ reach\ the\ carrot\ with\ precision\ we\ go\ into\ pure\ spinning\ mode\ but\ we\ cannot}}
\DoxyCodeLine{00140\ \ \ \textcolor{comment}{//\ leave\ that\ point\ (maybe\ this\ could\ be\ improved)}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}\ !=\ -\/1\ \&\&\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}})}
\DoxyCodeLine{00143\ \ \ \{}
\DoxyCodeLine{00144\ \ \ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\_angular\_distance\ ("{}}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ cannot\ be\ lower\ than\ yaw\_goal\_tolerance\ ("{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ setting\ carrot\_angular\_distance\ =\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00150\ \ \ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}\ !=\ -\/1\ \&\&\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00153\ \ \ \{}
\DoxyCodeLine{00154\ \ \ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\_linear\_distance\ ("{}}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ <<\ \textcolor{stringliteral}{"{})\ cannot\ be\ lower\ than\ xy\_goal\_tolerance\_\ ("{}}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ setting\ carrot\_angular\_distance\ =\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}});}
\DoxyCodeLine{00159\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00160\ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goalMarkerPublisher\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>create\_publisher<visualization\_msgs::msg::MarkerArray>(}
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{stringliteral}{"{}backward\_local\_planner/goal\_marker"{}},\ rclcpp::QoS(1));}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}{planPub\_}}\ =}
\DoxyCodeLine{00166\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>create\_publisher<nav\_msgs::msg::Path>(\textcolor{stringliteral}{"{}backward\_local\_planner/path"{}},\ rclcpp::QoS(1));}
\DoxyCodeLine{00167\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_source_l00034}{declare\+Or\+Set()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00164}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{goal\+Marker\+Publisher\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00137}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00138}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00136}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00140}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00146}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00145}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00125}{name\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00133}{plan\+Pub\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00163}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00129}{tf\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00157}{waiting\+Timeout\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac804afd283107858f418b31e6a248df1_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22fac9f377f322b14c0a4aaaeb02db08}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22fac9f377f322b14c0a4aaaeb02db08} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::deactivate (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00065}{65}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a81eb6fc653297d7e6d1fa1e59b2271e0}{clearMarkers}}();}
\DoxyCodeLine{00068\ \ \ RCLCPP\_WARN\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ deactivated"{}});}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}{planPub\_}}-\/>on\_deactivate();}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goalMarkerPublisher\_}}-\/>on\_deactivate();}
\DoxyCodeLine{00071\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{clear\+Markers()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{goal\+Marker\+Publisher\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00133}{plan\+Pub\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a22fac9f377f322b14c0a4aaaeb02db08_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!divergenceDetectionUpdate@{divergenceDetectionUpdate}}
\index{divergenceDetectionUpdate@{divergenceDetectionUpdate}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{divergenceDetectionUpdate()}{divergenceDetectionUpdate()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Update (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00348}{348}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00349\ \{}
\DoxyCodeLine{00350\ \ \ \textcolor{keywordtype}{double}\ disterr\ =\ 0,\ angleerr\ =\ 0;}
\DoxyCodeLine{00351\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose,\ disterr,\ angleerr);}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00354\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Divergence\ check.\ carrot\ goal\ distance.\ was:\ "{}}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}}}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{},\ now\ it\ is:\ "{}}\ <<\ disterr);}
\DoxyCodeLine{00357\ \ \ \textcolor{keywordflow}{if}\ (disterr\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}})}
\DoxyCodeLine{00358\ \ \ \{}
\DoxyCodeLine{00359\ \ \ \ \ \textcolor{comment}{//\ candidate\ of\ divergence,\ we\ do\ not\ throw\ the\ divergence\ alarm\ yet}}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{comment}{//\ but\ we\ neither\ update\ the\ distance\ since\ it\ is\ worse\ than\ the\ one}}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{comment}{//\ we\ had\ previously\ with\ the\ same\ carrot.}}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ MARGIN\_FACTOR\ =\ 1.2;}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{keywordflow}{if}\ (disterr\ >\ MARGIN\_FACTOR\ *\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}})}
\DoxyCodeLine{00364\ \ \ \ \ \{}
\DoxyCodeLine{00365\ \ \ \ \ \ \ RCLCPP\_ERROR\_STREAM(}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Divergence\ detected.\ The\ same\ carrot\ goal\ distance\ was\ previously:\ "{}}}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}}\ <<\ \textcolor{stringliteral}{"{}but\ now\ it\ is:\ "{}}\ <<\ disterr);}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00370\ \ \ \ \ \}}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00372\ \ \ \ \ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \textcolor{comment}{//\ divergence\ candidate}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00375\ \ \ \ \ \}}
\DoxyCodeLine{00376\ \ \ \}}
\DoxyCodeLine{00377\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00378\ \ \ \{}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{comment}{//\ update:}}
\DoxyCodeLine{00380\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}}\ =\ disterr;}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00382\ \ \ \}}
\DoxyCodeLine{00383\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00153}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!findInitialCarrotGoal@{findInitialCarrotGoal}}
\index{findInitialCarrotGoal@{findInitialCarrotGoal}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{findInitialCarrotGoal()}{findInitialCarrotGoal()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::find\+Initial\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{865}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00866\ \{}
\DoxyCodeLine{00867\ \ \ \textcolor{keywordtype}{double}\ lineardisterr,\ angleerr;}
\DoxyCodeLine{00868\ \ \ \textcolor{keywordtype}{bool}\ inCarrotRange\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00870\ \ \ \textcolor{comment}{//\ initial\ state\ check}}
\DoxyCodeLine{00871\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose,\ lineardisterr,\ angleerr);}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ \ \ \textcolor{comment}{//\ double\ minpointdist\ =\ std::numeric\_limits<double>::max();}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \textcolor{comment}{//\ lets\ set\ the\ carrot-\/goal\ in\ the\ correct\ place\ with\ this\ loop}}
\DoxyCodeLine{00876\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <\ (\textcolor{keywordtype}{int})\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ \&\&\ !inCarrotRange)}
\DoxyCodeLine{00877\ \ \ \{}
\DoxyCodeLine{00878\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose,\ lineardisterr,\ angleerr);}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00880\ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Finding\ initial\ carrot\ goal\ i=\%d\ -\/\ error\ to\ carrot,\ linear\ =\ \%lf\ "{}}}
\DoxyCodeLine{00883\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}(\%lf),\ "{}}}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}angular\ :\ \%lf\ (\%lf)"{}},}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}},\ lineardisterr,\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}},\ angleerr,\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \ \ \ \ \textcolor{comment}{//\ current\ path\ point\ is\ inside\ the\ carrot\ distance\ range,\ goal\ carrot\ tries\ to\ escape!}}
\DoxyCodeLine{00888\ \ \ \ \ \textcolor{keywordflow}{if}\ (lineardisterr\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ \&\&\ angleerr\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}})}
\DoxyCodeLine{00889\ \ \ \ \ \{}
\DoxyCodeLine{00890\ \ \ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Finding\ initial\ carrot\ goal\ i=\%d\ -\/\ in\ carrot\ Range"{}},}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00894\ \ \ \ \ \ \ inCarrotRange\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ are\ inside\ the\ goal\ range}}
\DoxyCodeLine{00896\ \ \ \ \ \}}
\DoxyCodeLine{00897\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{00898\ \ \ \ \ \ \ inCarrotRange\ \&\&\ (lineardisterr\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ ||\ angleerr\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}))}
\DoxyCodeLine{00899\ \ \ \ \ \{}
\DoxyCodeLine{00900\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ were\ inside\ the\ carrot\ range\ but\ not\ anymore,\ now\ we\ are\ just\ leaving.\ we\ want\ to\ continue\ forward}}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \textcolor{comment}{//\ (currentCarrotPoseIndex\_++)\ unless\ we\ go\ out\ of\ the\ carrot\ range}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \ \ \ \ \ \ \textcolor{comment}{//\ but\ we\ rollback\ last\ index\ increment\ (to\ go\ back\ inside\ the\ carrot\ goal\ scope)\ and\ start\ motion\ with\ that}}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \textcolor{comment}{//\ carrot\ goal\ we\ found}}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}-\/-\/;}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00907\ \ \ \ \ \}}
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00909\ \ \ \ \ \{}
\DoxyCodeLine{00910\ \ \ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ Finding\ initial\ carrot\ goal\ i=\%d\ -\/\ carrot\ out\ of\ range,\ searching\ "{}}}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}coincidence..."{}},}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00915\ \ \ \ \ \}}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}++;}
\DoxyCodeLine{00918\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ setPlan:\ fw"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00920\ \ \ \}}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00923\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ setPlan:\ (found\ first\ carrot:"{}}}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ inCarrotRange\ <<\ \textcolor{stringliteral}{"{})\ initial\ carrot\ point\ index:\ "{}}}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \ \ \textcolor{keywordflow}{return}\ inCarrotRange;}
\DoxyCodeLine{00928\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!generateTrajectory@{generateTrajectory}}
\index{generateTrajectory@{generateTrajectory}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{generateTrajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::generate\+Trajectory (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector3f \&}]{pos}{, }\item[{const Eigen\+::\+Vector3f \&}]{vel}{, }\item[{float}]{maxdist}{, }\item[{float}]{maxangle}{, }\item[{float}]{maxtime}{, }\item[{float}]{dt}{, }\item[{std\+::vector$<$ Eigen\+::\+Vector3f $>$ \&}]{outtraj}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l01092}{1092}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01095\ \{}
\DoxyCodeLine{01096\ \ \ \textcolor{comment}{//\ simulate\ the\ trajectory\ and\ check\ for\ collisions,\ updating\ costs\ along\ the\ way}}
\DoxyCodeLine{01097\ \ \ \textcolor{keywordtype}{bool}\ end\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01098\ \ \ \textcolor{keywordtype}{float}\ time\ =\ 0;}
\DoxyCodeLine{01099\ \ \ Eigen::Vector3f\ currentpos\ =\ pos;}
\DoxyCodeLine{01100\ \ \ \textcolor{keywordtype}{int}\ i\ =\ 0;}
\DoxyCodeLine{01101\ \ \ \textcolor{keywordflow}{while}\ (!end)}
\DoxyCodeLine{01102\ \ \ \{}
\DoxyCodeLine{01103\ \ \ \ \ \textcolor{comment}{//\ add\ the\ point\ to\ the\ trajectory\ so\ we\ can\ draw\ it\ later\ if\ we\ want}}
\DoxyCodeLine{01104\ \ \ \ \ \textcolor{comment}{//\ traj.addPoint(pos[0],\ pos[1],\ pos[2]);}}
\DoxyCodeLine{01105\ }
\DoxyCodeLine{01106\ \ \ \ \ \textcolor{comment}{//\ if\ (continued\_acceleration\_)\ \{}}
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{comment}{//\ \ \ //calculate\ velocities}}
\DoxyCodeLine{01108\ \ \ \ \ \textcolor{comment}{//\ \ \ loop\_vel\ =\ computeNewVelocities(sample\_target\_vel,\ loop\_vel,\ limits\_-\/>getAccLimits(),\ dt);}}
\DoxyCodeLine{01109\ \ \ \ \ \textcolor{comment}{//\ \ \ //RCLCPP\_WARN\_NAMED(nh\_-\/>get\_logger(),\ "{}Generator"{},\ "{}Flag:\ \%d,\ Loop\_Vel\ \%f,\ \%f,\ \%f"{},\ continued\_acceleration\_,}}
\DoxyCodeLine{01110\ \ \ \ \ \textcolor{comment}{//\ \ \ loop\_vel[0],\ loop\_vel[1],\ loop\_vel[2]);}}
\DoxyCodeLine{01111\ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{01112\ }
\DoxyCodeLine{01113\ \ \ \ \ \textcolor{keyword}{auto}\ loop\_vel\ =\ vel;}
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{comment}{//\ update\ the\ position\ of\ the\ robot\ using\ the\ velocities\ passed\ in}}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keyword}{auto}\ newpos\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a0e614005a2fa9c4e557b932d7546691e}{computeNewPositions}}(currentpos,\ loop\_vel,\ dt);}
\DoxyCodeLine{01116\ }
\DoxyCodeLine{01117\ \ \ \ \ \textcolor{keyword}{auto}\ dx\ =\ newpos[0]\ -\/\ currentpos[0];}
\DoxyCodeLine{01118\ \ \ \ \ \textcolor{keyword}{auto}\ dy\ =\ newpos[1]\ -\/\ currentpos[1];}
\DoxyCodeLine{01119\ \ \ \ \ \textcolor{keywordtype}{float}\ dist,\ angledist;}
\DoxyCodeLine{01120\ }
\DoxyCodeLine{01121\ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),\ "{}traj\ point\ \%d"{},\ i);}}
\DoxyCodeLine{01122\ \ \ \ \ dist\ =\ sqrt(dx\ *\ dx\ +\ dy\ *\ dy);}
\DoxyCodeLine{01123\ \ \ \ \ \textcolor{keywordflow}{if}\ (dist\ >\ maxdist)}
\DoxyCodeLine{01124\ \ \ \ \ \{}
\DoxyCodeLine{01125\ \ \ \ \ \ \ end\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01126\ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),\ "{}dist\ break:\ \%f"{},\ dist);}}
\DoxyCodeLine{01127\ \ \ \ \ \}}
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01129\ \ \ \ \ \{}
\DoxyCodeLine{01130\ \ \ \ \ \ \ \textcolor{comment}{//\ ouble\ from,\ double\ to}}
\DoxyCodeLine{01131\ \ \ \ \ \ \ angledist\ =\ angles::shortest\_angular\_distance(currentpos[2],\ newpos[2]);}
\DoxyCodeLine{01132\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (angledist\ >\ maxanglediff)}
\DoxyCodeLine{01133\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01134\ \ \ \ \ \ \ \ \ end\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01135\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),\ "{}angle\ dist\ break:\ \%f"{},\ angledist);}}
\DoxyCodeLine{01136\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01139\ \ \ \ \ \ \ \ \ outtraj.push\_back(newpos);}
\DoxyCodeLine{01140\ }
\DoxyCodeLine{01141\ \ \ \ \ \ \ \ \ time\ +=\ dt;}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (time\ >\ maxtime)}
\DoxyCodeLine{01143\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \ \ end\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{01145\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),\ "{}time\ break:\ \%f"{},\ time);}}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01147\ }
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),\ "{}dist:\ \%f,\ angledist:\ \%f,\ time:\ \%f"{},\ dist,\ angledist,\ time);}}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01150\ \ \ \ \ \}}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \ \ \ \ currentpos\ =\ newpos;}
\DoxyCodeLine{01153\ \ \ \ \ i++;}
\DoxyCodeLine{01154\ \ \ \}\ \ \textcolor{comment}{//\ end\ for\ simulation\ steps}}
\DoxyCodeLine{01155\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8cpp_source_l01157}{compute\+New\+Positions()}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a766482b9e0cd9443d911e73f766223bb_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d970228d944900777af33c12ab46268}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!isGoalReached@{isGoalReached}}
\index{isGoalReached@{isGoalReached}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{isGoalReached()}{isGoalReached()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d970228d944900777af33c12ab46268} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::is\+Goal\+Reached (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d970228d944900777af33c12ab46268}{is\+Goal\+Reached()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00859}{859}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00860\ \{}
\DoxyCodeLine{00861\ \ \ RCLCPP\_INFO(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ isGoalReached\ call"{}});}
\DoxyCodeLine{00862\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb}{goalReached\_}};}
\DoxyCodeLine{00863\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00161}{goal\+Reached\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!publishGoalMarker@{publishGoalMarker}}
\index{publishGoalMarker@{publishGoalMarker}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{publishGoalMarker()}{publishGoalMarker()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{double}]{x}{, }\item[{double}]{y}{, }\item[{double}]{phi}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207}{publish\+Goal\+Marker()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l01189}{1189}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01190\ \{}
\DoxyCodeLine{01191\ \ \ visualization\_msgs::msg::Marker\ marker;}
\DoxyCodeLine{01192\ \ \ marker.header.frame\_id\ =\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{01193\ \ \ marker.header.stamp\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>now();}
\DoxyCodeLine{01194\ }
\DoxyCodeLine{01195\ \ \ marker.ns\ =\ \textcolor{stringliteral}{"{}my\_namespace2"{}};}
\DoxyCodeLine{01196\ \ \ marker.id\ =\ 0;}
\DoxyCodeLine{01197\ \ \ marker.type\ =\ visualization\_msgs::msg::Marker::ARROW;}
\DoxyCodeLine{01198\ \ \ marker.action\ =\ visualization\_msgs::msg::Marker::ADD;}
\DoxyCodeLine{01199\ \ \ marker.lifetime\ =\ rclcpp::Duration(1.0s);}
\DoxyCodeLine{01200\ }
\DoxyCodeLine{01201\ \ \ marker.pose.orientation.w\ =\ 1;}
\DoxyCodeLine{01202\ }
\DoxyCodeLine{01203\ \ \ marker.scale.x\ =\ 0.05;}
\DoxyCodeLine{01204\ \ \ marker.scale.y\ =\ 0.15;}
\DoxyCodeLine{01205\ \ \ marker.scale.z\ =\ 0.05;}
\DoxyCodeLine{01206\ \ \ marker.color.a\ =\ 1.0;}
\DoxyCodeLine{01207\ }
\DoxyCodeLine{01208\ \ \ \textcolor{comment}{//\ red\ marker}}
\DoxyCodeLine{01209\ \ \ marker.color.r\ =\ 1;}
\DoxyCodeLine{01210\ \ \ marker.color.g\ =\ 0;}
\DoxyCodeLine{01211\ \ \ marker.color.b\ =\ 0;}
\DoxyCodeLine{01212\ }
\DoxyCodeLine{01213\ \ \ geometry\_msgs::msg::Point\ start,\ end;}
\DoxyCodeLine{01214\ \ \ start.x\ =\ x;}
\DoxyCodeLine{01215\ \ \ start.y\ =\ y;}
\DoxyCodeLine{01216\ }
\DoxyCodeLine{01217\ \ \ end.x\ =\ x\ +\ 0.5\ *\ cos(phi);}
\DoxyCodeLine{01218\ \ \ end.y\ =\ y\ +\ 0.5\ *\ sin(phi);}
\DoxyCodeLine{01219\ }
\DoxyCodeLine{01220\ \ \ marker.points.push\_back(start);}
\DoxyCodeLine{01221\ \ \ marker.points.push\_back(end);}
\DoxyCodeLine{01222\ }
\DoxyCodeLine{01223\ \ \ visualization\_msgs::msg::MarkerArray\ ma;}
\DoxyCodeLine{01224\ \ \ ma.markers.push\_back(marker);}
\DoxyCodeLine{01225\ }
\DoxyCodeLine{01226\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}{goalMarkerPublisher\_}}-\/>publish(ma);}
\DoxyCodeLine{01227\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{goal\+Marker\+Publisher\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a1c2b7748964c5917111711ff0c916207_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0f67891c3cd3843dc86ab9194da9f01}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!resamplePrecisePlan@{resamplePrecisePlan}}
\index{resamplePrecisePlan@{resamplePrecisePlan}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{resamplePrecisePlan()}{resamplePrecisePlan()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0f67891c3cd3843dc86ab9194da9f01} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::resample\+Precise\+Plan (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{930}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00931\ \{}
\DoxyCodeLine{00932\ \ \ \textcolor{comment}{//\ this\ algorithm\ is\ really\ important\ to\ have\ a\ precise\ carrot\ (linear\ or\ angular)}}
\DoxyCodeLine{00933\ \ \ \textcolor{comment}{//\ and\ not\ being\ considered\ as\ a\ divergence\ from\ the\ path}}
\DoxyCodeLine{00934\ }
\DoxyCodeLine{00935\ \ \ RCLCPP\_INFO(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ resample\ precise"{}});}
\DoxyCodeLine{00936\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ <=\ 1)}
\DoxyCodeLine{00937\ \ \ \{}
\DoxyCodeLine{00938\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ resample\ precise\ skipping,\ size:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00941\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00942\ \ \ \}}
\DoxyCodeLine{00943\ }
\DoxyCodeLine{00944\ \ \ \textcolor{keywordtype}{int}\ counter\ =\ 0;}
\DoxyCodeLine{00945\ \ \ \textcolor{keywordtype}{double}\ maxallowedAngularError\ =\ 0.45\ *\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}};\ \ \textcolor{comment}{//\ nyquist}}
\DoxyCodeLine{00946\ \ \ \textcolor{keywordtype}{double}\ maxallowedLinearError\ =\ 0.45\ *\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}};\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ nyquist}}
\DoxyCodeLine{00947\ }
\DoxyCodeLine{00948\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (int)\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ -\/\ 1;\ i++)}
\DoxyCodeLine{00949\ \ \ \{}
\DoxyCodeLine{00950\ \ \ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ resample\ precise,\ check:\ "{}}\ <<\ i);}
\DoxyCodeLine{00951\ \ \ \ \ \textcolor{keyword}{auto}\ \&\ currpose\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}[i];}
\DoxyCodeLine{00952\ \ \ \ \ \textcolor{keyword}{auto}\ \&\ nextpose\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}[i\ +\ 1];}
\DoxyCodeLine{00953\ }
\DoxyCodeLine{00954\ \ \ \ \ tf2::Quaternion\ qCurrent,\ qNext;}
\DoxyCodeLine{00955\ \ \ \ \ tf2::convert(currpose.pose.orientation,\ qCurrent);}
\DoxyCodeLine{00956\ \ \ \ \ tf2::convert(nextpose.pose.orientation,\ qNext);}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00958\ \ \ \ \ \textcolor{keywordtype}{double}\ dx\ =\ nextpose.pose.position.x\ -\/\ currpose.pose.position.x;}
\DoxyCodeLine{00959\ \ \ \ \ \textcolor{keywordtype}{double}\ dy\ =\ nextpose.pose.position.y\ -\/\ currpose.pose.position.y;}
\DoxyCodeLine{00960\ \ \ \ \ \textcolor{keywordtype}{double}\ dist\ =\ sqrt(dx\ *\ dx\ +\ dy\ *\ dy);}
\DoxyCodeLine{00961\ }
\DoxyCodeLine{00962\ \ \ \ \ \textcolor{keywordtype}{bool}\ resample\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00963\ \ \ \ \ \textcolor{keywordflow}{if}\ (dist\ >\ maxallowedLinearError)}
\DoxyCodeLine{00964\ \ \ \ \ \{}
\DoxyCodeLine{00965\ \ \ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00966\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ resampling\ point,\ linear\ distance:"{}}}
\DoxyCodeLine{00967\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ dist\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ maxallowedLinearError\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ i);}
\DoxyCodeLine{00968\ \ \ \ \ \ \ resample\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00969\ \ \ \ \ \}}
\DoxyCodeLine{00970\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00971\ \ \ \ \ \{}
\DoxyCodeLine{00972\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ currentAngle\ =\ tf2::getYaw(qCurrent);}
\DoxyCodeLine{00973\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ nextAngle\ =\ tf2::getYaw(qNext);}
\DoxyCodeLine{00974\ }
\DoxyCodeLine{00975\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ angularError\ =\ fabs(angles::shortest\_angular\_distance(currentAngle,\ nextAngle));}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (angularError\ >\ maxallowedAngularError)}
\DoxyCodeLine{00977\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00978\ \ \ \ \ \ \ \ \ resample\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00979\ \ \ \ \ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00980\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ resampling\ point,\ angular\ distance:"{}}}
\DoxyCodeLine{00981\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ angularError\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ maxallowedAngularError\ <<\ \textcolor{stringliteral}{"{})"{}}\ <<\ i);}
\DoxyCodeLine{00982\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00983\ \ \ \ \ \}}
\DoxyCodeLine{00984\ }
\DoxyCodeLine{00985\ \ \ \ \ \textcolor{keywordflow}{if}\ (resample)}
\DoxyCodeLine{00986\ \ \ \ \ \{}
\DoxyCodeLine{00987\ \ \ \ \ \ \ geometry\_msgs::msg::PoseStamped\ pintermediate;}
\DoxyCodeLine{00988\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ duration\ =\ rclcpp::Time(nextpose.header.stamp)\ -\/\ rclcpp::Time(currpose.header.stamp);}
\DoxyCodeLine{00989\ }
\DoxyCodeLine{00990\ \ \ \ \ \ \ pintermediate.header.frame\_id\ =\ currpose.header.frame\_id;}
\DoxyCodeLine{00991\ \ \ \ \ \ \ pintermediate.header.stamp\ =\ rclcpp::Time(currpose.header.stamp)\ +\ duration\ *\ 0.5;}
\DoxyCodeLine{00992\ }
\DoxyCodeLine{00993\ \ \ \ \ \ \ pintermediate.pose.position.x\ =\ 0.5\ *\ (currpose.pose.position.x\ +\ nextpose.pose.position.x);}
\DoxyCodeLine{00994\ \ \ \ \ \ \ pintermediate.pose.position.y\ =\ 0.5\ *\ (currpose.pose.position.y\ +\ nextpose.pose.position.y);}
\DoxyCodeLine{00995\ \ \ \ \ \ \ pintermediate.pose.position.z\ =\ 0.5\ *\ (currpose.pose.position.z\ +\ nextpose.pose.position.z);}
\DoxyCodeLine{00996\ \ \ \ \ \ \ tf2::Quaternion\ intermediateQuat\ =\ tf2::slerp(qCurrent,\ qNext,\ 0.5);}
\DoxyCodeLine{00997\ \ \ \ \ \ \ pintermediate.pose.orientation\ =\ tf2::toMsg(intermediateQuat);}
\DoxyCodeLine{00998\ }
\DoxyCodeLine{00999\ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.insert(this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.begin()\ +\ i\ +\ 1,\ pintermediate);}
\DoxyCodeLine{01000\ }
\DoxyCodeLine{01001\ \ \ \ \ \ \ \textcolor{comment}{//\ retry\ this\ point}}
\DoxyCodeLine{01002\ \ \ \ \ \ \ i-\/-\/;}
\DoxyCodeLine{01003\ \ \ \ \ \ \ counter++;}
\DoxyCodeLine{01004\ \ \ \ \ \}}
\DoxyCodeLine{01005\ \ \ \}}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{01008\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ End\ resampling.\ resampled:"{}}\ <<\ counter}
\DoxyCodeLine{01009\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}\ new\ inserted\ poses\ "{}}}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}during\ precise\ "{}}}
\DoxyCodeLine{01011\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}resmapling."{}});}
\DoxyCodeLine{01012\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01013\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{carrot\+\_\+distance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0f67891c3cd3843dc86ab9194da9f01_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!resetDivergenceDetection@{resetDivergenceDetection}}
\index{resetDivergenceDetection@{resetDivergenceDetection}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{resetDivergenceDetection()}{resetDivergenceDetection()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::reset\+Divergence\+Detection (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00341}{341}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00342\ \{}
\DoxyCodeLine{00343\ \ \ \textcolor{comment}{//\ this\ function\ should\ be\ called\ always\ the\ carrot\ is\ updated}}
\DoxyCodeLine{00344\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}{divergenceDetectionLastCarrotLinearDistance\_}}\ =\ std::numeric\_limits<double>::max();}
\DoxyCodeLine{00345\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00346\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00153}{divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b1fd356d7eac7a5b146a1868facf00d}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!setPlan@{setPlan}}
\index{setPlan@{setPlan}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{setPlan()}{setPlan()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b1fd356d7eac7a5b146a1868facf00d} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::set\+Plan (\begin{DoxyParamCaption}\item[{const nav\+\_\+msgs\+::msg\+::\+Path \&}]{path}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



nav2\+\_\+core set\+Plan -\/ Sets the global plan 


\begin{DoxyParams}{Parameters}
{\em path} & The global plan\\
\hline
\end{DoxyParams}
\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b1fd356d7eac7a5b146a1868facf00d}{set\+Plan()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{1020}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01021\ \{}
\DoxyCodeLine{01022\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{01023\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{01024\ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ setPlan:\ new\ global\ plan\ received\ (\ "{}}\ <<\ path.poses.size()\ <<\ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{01025\ }
\DoxyCodeLine{01026\ \ \ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ TRANSFORM\ TO\ LOCAL\ FRAME\ PATH\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01027\ \ \ nav\_msgs::msg::Path\ transformedPlan;}
\DoxyCodeLine{01028\ \ \ rclcpp::Duration\ ttol\ =\ rclcpp::Duration::from\_seconds(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aee7e0f4d30ac5aaca483b5a4e354c7bc}{transform\_tolerance\_}});}
\DoxyCodeLine{01029\ \ \ \textcolor{comment}{//\ transform\ global\ plan\ to\ the\ navigation\ reference\ frame}}
\DoxyCodeLine{01030\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&\ p\ :\ path.poses)}
\DoxyCodeLine{01031\ \ \ \{}
\DoxyCodeLine{01032\ \ \ \ \ geometry\_msgs::msg::PoseStamped\ transformedPose;}
\DoxyCodeLine{01033\ \ \ \ \ nav\_2d\_utils::transformPose(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a27dfd917864b054e867ec965fce8007d}{tf\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getGlobalFrameID(),\ p,\ transformedPose,\ ttol);}
\DoxyCodeLine{01034\ \ \ \ \ transformedPose.header.frame\_id\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{01035\ \ \ \ \ transformedPlan.poses.push\_back(transformedPose);}
\DoxyCodeLine{01036\ \ \ \}}
\DoxyCodeLine{01037\ }
\DoxyCodeLine{01038\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}\ =\ transformedPlan.poses;}
\DoxyCodeLine{01039\ }
\DoxyCodeLine{01040\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/\ resampling\ path\ feature\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01041\ \ \ geometry\_msgs::msg::PoseStamped\ tfpose;}
\DoxyCodeLine{01042\ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getRobotPose(tfpose))}
\DoxyCodeLine{01043\ \ \ \{}
\DoxyCodeLine{01044\ \ \ \ \ RCLCPP\_ERROR(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}Failure\ getting\ pose\ from\ Backward\ local\ planner"{}});}
\DoxyCodeLine{01045\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01046\ \ \ \}}
\DoxyCodeLine{01047\ }
\DoxyCodeLine{01048\ \ \ geometry\_msgs::msg::PoseStamped\ posestamped\ =\ tfpose;}
\DoxyCodeLine{01049\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.insert(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.begin(),\ posestamped);}
\DoxyCodeLine{01050\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0f67891c3cd3843dc86ab9194da9f01}{resamplePrecisePlan}}();}
\DoxyCodeLine{01051\ }
\DoxyCodeLine{01052\ \ \ nav\_msgs::msg::Path\ planMsg;}
\DoxyCodeLine{01053\ \ \ planMsg.poses\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}};}
\DoxyCodeLine{01054\ \ \ planMsg.header.frame\_id\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{01055\ \ \ planMsg.header.stamp\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>now();}
\DoxyCodeLine{01056\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}{planPub\_}}-\/>publish(planMsg);}
\DoxyCodeLine{01057\ }
\DoxyCodeLine{01058\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/\ reset\ controller\ state\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01059\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb}{goalReached\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01060\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}{inGoalPureSpinningState\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01061\ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ =\ 0;}
\DoxyCodeLine{01062\ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945}{resetDivergenceDetection}}();}
\DoxyCodeLine{01063\ }
\DoxyCodeLine{01064\ \ \ \textcolor{keywordflow}{if}\ (path.poses.size()\ ==\ 0)}
\DoxyCodeLine{01065\ \ \ \{}
\DoxyCodeLine{01066\ \ \ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ received\ plan\ without\ any\ pose"{}});}
\DoxyCodeLine{01067\ \ \ \ \ \textcolor{comment}{//\ return\ true;}}
\DoxyCodeLine{01068\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01069\ \ \ \}}
\DoxyCodeLine{01070\ }
\DoxyCodeLine{01071\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/\ initialize\ carrot\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01072\ \ \ \textcolor{keywordtype}{bool}\ foundInitialCarrotGoal\ =\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d4e77c0a8225c6bbd828a16a02cda56}{findInitialCarrotGoal}}(tfpose);}
\DoxyCodeLine{01073\ \ \ \textcolor{keywordflow}{if}\ (!foundInitialCarrotGoal)}
\DoxyCodeLine{01074\ \ \ \{}
\DoxyCodeLine{01075\ \ \ \ \ RCLCPP\_ERROR(}
\DoxyCodeLine{01076\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{01077\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ new\ plan\ rejected.\ The\ initial\ point\ in\ the\ global\ path\ is\ "{}}}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}too\ much\ far\ away\ from\ the\ current\ state\ (according\ to\ carrot\_distance\ "{}}}
\DoxyCodeLine{01079\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}parameter)"{}});}
\DoxyCodeLine{01080\ \ \ \ \ \textcolor{comment}{//\ return\ false;\ //\ in\ this\ case,\ the\ new\ plan\ broke\ the\ current\ execution}}
\DoxyCodeLine{01081\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01082\ \ \ \}}
\DoxyCodeLine{01083\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01084\ \ \ \{}
\DoxyCodeLine{01085\ \ \ \ \ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7d84bf50ca0fce6c110ea142ea47592b}{divergenceDetectionUpdate}}(tfpose);}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{comment}{//\ SANDARD\ AND\ PREFERRED\ CASE\ ON\ NEW\ PLAN}}
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{comment}{//\ return\ true;}}
\DoxyCodeLine{01088\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01089\ \ \ \}}
\DoxyCodeLine{01090\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{costmap\+Ros\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00348}{divergence\+Detection\+Update()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00161}{goal\+Reached\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00165}{in\+Goal\+Pure\+Spinning\+State\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00133}{plan\+Pub\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00341}{reset\+Divergence\+Detection()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00129}{tf\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00155}{transform\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a8b1fd356d7eac7a5b146a1868facf00d_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_adbd49d9903f1796877ca0cf0519f0b20}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!setSpeedLimit@{setSpeedLimit}}
\index{setSpeedLimit@{setSpeedLimit}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{setSpeedLimit()}{setSpeedLimit()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_adbd49d9903f1796877ca0cf0519f0b20} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::set\+Speed\+Limit (\begin{DoxyParamCaption}\item[{const double \&}]{speed\+\_\+limit}{, }\item[{const \mbox{\hyperlink{classbool}{bool}} \&}]{percentage}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00232}{232}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00234\ \{}
\DoxyCodeLine{00235\ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00236\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{stringliteral}{"{}BackwardLocalPlanner::setSpeedLimit\ invoked.\ Ignored,\ funcionality\ not\ "{}}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{stringliteral}{"{}implemented."{}});}
\DoxyCodeLine{00239\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a68a9b887332f7d5a9a553804b1a80857}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!straightBackwardsAndPureSpinCmd@{straightBackwardsAndPureSpinCmd}}
\index{straightBackwardsAndPureSpinCmd@{straightBackwardsAndPureSpinCmd}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{straightBackwardsAndPureSpinCmd()}{straightBackwardsAndPureSpinCmd()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a68a9b887332f7d5a9a553804b1a80857} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spin\+Cmd (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{pose}{, }\item[{double \&}]{vetta}{, }\item[{double \&}]{gamma}{, }\item[{double}]{alpha\+\_\+error}{, }\item[{double}]{betta\+\_\+error}{, }\item[{double}]{rho\+\_\+error}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

pure\+Spinning\+Cmd() 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{449}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00452\ \{}
\DoxyCodeLine{00453\ \ \ \textcolor{keywordflow}{if}\ (rho\_error\ >\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\_mode\_rho\_error\_threshold\_}})\ \ \textcolor{comment}{//\ works\ in\ straight\ motion\ mode}}
\DoxyCodeLine{00454\ \ \ \{}
\DoxyCodeLine{00455\ \ \ \ \ vetta\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}}\ *\ rho\_error;}
\DoxyCodeLine{00456\ \ \ \ \ gamma\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}}\ *\ alpha\_error;}
\DoxyCodeLine{00457\ \ \ \}}
\DoxyCodeLine{00458\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (fabs(betta\_error)\ >=\ this-\/>\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}})\ \ \textcolor{comment}{//\ works\ in\ pure\ spinning\ mode}}
\DoxyCodeLine{00459\ \ \ \{}
\DoxyCodeLine{00460\ \ \ \ \ vetta\ =\ 0;\ \ \textcolor{comment}{//\ disable\ linear}}
\DoxyCodeLine{00461\ \ \ \ \ gamma\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}}\ *\ betta\_error;}
\DoxyCodeLine{00462\ \ \ \}}
\DoxyCodeLine{00463\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00137}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00138}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00136}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00140}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a68a9b887332f7d5a9a553804b1a80857_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!updateCarrotGoal@{updateCarrotGoal}}
\index{updateCarrotGoal@{updateCarrotGoal}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{updateCarrotGoal()}{updateCarrotGoal()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::update\+Carrot\+Goal (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{tfpose}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\doxylink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691}{update\+Carrot\+Goal()} 

Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{279}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00280\ \{}
\DoxyCodeLine{00281\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ -\/-\/-\/\ Carrot\ update\ -\/-\/-\/"{}});}
\DoxyCodeLine{00282\ \ \ \textcolor{keywordtype}{double}\ disterr\ =\ 0,\ angleerr\ =\ 0;}
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{//\ iterate\ the\ point\ from\ the\ current\ position\ and\ backward\ until\ reaching\ a\ new\ goal\ point\ in\ the\ path}}
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{//\ this\ algorithm\ among\ other\ advantages\ has\ that\ skip\ the\ looping\ with\ an\ eager\ global\ planner}}
\DoxyCodeLine{00285\ \ \ \textcolor{comment}{//\ that\ recalls\ the\ same\ plan\ (the\ already\ performed\ part\ of\ the\ plan\ in\ the\ current\ pose\ is\ skipped)}}
\DoxyCodeLine{00286\ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <\ (\textcolor{keywordtype}{long})\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ -\/\ 1)}
\DoxyCodeLine{00287\ \ \ \{}
\DoxyCodeLine{00288\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose,\ disterr,\ angleerr);}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ update\ carrot\ goal:\ Current\ index:\ "{}}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00293\ \ \ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ update\ carrot\ goal:\ linear\ error\ \%lf,\ angular\ error:\ \%lf"{}},\ disterr,}
\DoxyCodeLine{00296\ \ \ \ \ \ \ angleerr);}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{comment}{//\ target\ pose\ found,\ goal\ carrot\ tries\ to\ escape!}}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordflow}{if}\ (disterr\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ \&\&\ angleerr\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}})}
\DoxyCodeLine{00300\ \ \ \ \ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}++;}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_afb3c41be9cb79827ccee2dc61bdbd945}{resetDivergenceDetection}}();}
\DoxyCodeLine{00303\ \ \ \ \ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ move\ carrot\ fw\ "{}}}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ <<\ \textcolor{stringliteral}{"{}/"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size());}
\DoxyCodeLine{00306\ \ \ \ \ \}}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00308\ \ \ \ \ \{}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \textcolor{comment}{//\ carrot\ already\ escaped}}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00311\ \ \ \ \ \}}
\DoxyCodeLine{00312\ \ \ \}}
\DoxyCodeLine{00313\ \ \ \textcolor{comment}{//\ RCLCPP\_INFO(nh\_-\/>get\_logger(),"{}[BackwardsLocalPlanner]\ computing\ angular\ error"{});}}
\DoxyCodeLine{00314\ \ \ \textcolor{keywordflow}{if}\ (}
\DoxyCodeLine{00315\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ >=\ (\textcolor{keywordtype}{long})\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ -\/\ 1\ \&\&\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ >\ 0)}
\DoxyCodeLine{00316\ \ \ \{}
\DoxyCodeLine{00317\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}{backwardsPlanPath\_}}.size()\ -\/\ 1;}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{//\ reupdated\ errors}}
\DoxyCodeLine{00319\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aae4124b8b7b8bb69b5415ec03e4d152b}{computeCurrentEuclideanAndAngularErrorsToCarrotGoal}}(tfpose,\ disterr,\ angleerr);}
\DoxyCodeLine{00320\ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00323\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ Current\ index\ carrot\ goal:\ \%d"{}},}
\DoxyCodeLine{00324\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}{currentCarrotPoseIndex\_}});}
\DoxyCodeLine{00325\ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00326\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ Update\ carrot\ goal:\ linear\ error\ \ \%lf\ (xytol:\ \%lf),\ angular\ error:\ "{}}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{stringliteral}{"{}\%lf"{}},}
\DoxyCodeLine{00329\ \ \ \ \ disterr,\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}},\ angleerr);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \textcolor{keywordtype}{bool}\ carrotInGoalLinearRange\ =\ disterr\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00332\ \ \ RCLCPP\_INFO(}
\DoxyCodeLine{00333\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ carrot\ in\ goal\ radius:\ \%d"{}},}
\DoxyCodeLine{00334\ \ \ \ \ carrotInGoalLinearRange);}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ RCLCPP\_INFO(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardsLocalPlanner]\ -\/-\/-\/End\ carrot\ update-\/-\/-\/"{}});}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \textcolor{keywordflow}{return}\ carrotInGoalLinearRange;}
\DoxyCodeLine{00339\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{backwards\+Plan\+Path\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{current\+Carrot\+Pose\+Index\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00341}{reset\+Divergence\+Detection()}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a041b542c60c5820c36b6d4e07aca7691_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!updateParameters@{updateParameters}}
\index{updateParameters@{updateParameters}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{updateParameters()}{updateParameters()}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c} 
void cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::update\+Parameters (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{169}} of file \mbox{\hyperlink{backward__local__planner_8cpp_source}{backward\+\_\+local\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00170\ \{}
\DoxyCodeLine{00171\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}-\/-\/-\/\ parameters\ -\/-\/-\/"{}});}
\DoxyCodeLine{00172\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_rho"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}});}
\DoxyCodeLine{00173\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_rho:"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}{k\_rho\_}});}
\DoxyCodeLine{00174\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_alpha"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}});}
\DoxyCodeLine{00175\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_alpha:"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}{k\_alpha\_}});}
\DoxyCodeLine{00176\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_betta"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}});}
\DoxyCodeLine{00177\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.k\_betta:"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}{k\_betta\_}});}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.enable\_obstacle\_checking"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}{enable\_obstacle\_checking\_}});}
\DoxyCodeLine{00180\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00181\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.enable\_obstacle\_checking:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}{enable\_obstacle\_checking\_}});}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}});}
\DoxyCodeLine{00184\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_distance:"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}});}
\DoxyCodeLine{00185\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_angular\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00186\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00187\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_angular\_distance:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(}
\DoxyCodeLine{00190\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.pure\_spinning\_straight\_line\_mode"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}});}
\DoxyCodeLine{00191\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00192\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00193\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.pure\_spinning\_straight\_line\_mode:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}{straightBackwardsAndPureSpinningMode\_}});}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.linear\_mode\_rho\_error\_threshold"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\_mode\_rho\_error\_threshold\_}});}
\DoxyCodeLine{00196\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00198\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.linear\_mode\_rho\_error\_threshold:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}{linear\_mode\_rho\_error\_threshold\_}});}
\DoxyCodeLine{00199\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_linear\_x\_speed"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}});}
\DoxyCodeLine{00200\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_linear\_x\_speed:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}{max\_linear\_x\_speed\_}});}
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{namespacecl__nav2z_1_1backward__local__planner_a432d8eb2168129213955575a2da12e19}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_angular\_z\_speed"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}});}
\DoxyCodeLine{00202\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.max\_angular\_z\_speed:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}{max\_angular\_z\_speed\_}});}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}\ !=\ -\/1\ \&\&\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}})}
\DoxyCodeLine{00205\ \ \ \{}
\DoxyCodeLine{00206\ \ \ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\_angular\_distance\ ("{}}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ cannot\ be\ lower\ than\ yaw\_goal\_tolerance\ ("{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ setting\ carrot\_angular\_distance\ =\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{00211\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}};}
\DoxyCodeLine{00212\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>set\_parameter(}
\DoxyCodeLine{00213\ \ \ \ \ \ \ rclcpp::Parameter(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_angular\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}}));}
\DoxyCodeLine{00214\ \ \ \}}
\DoxyCodeLine{00215\ \ \ RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_angular\_distance:\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}{carrot\_angular\_distance\_}});}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}}\ !=\ -\/1\ \&\&\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ <\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}})}
\DoxyCodeLine{00219\ \ \ \{}
\DoxyCodeLine{00220\ \ \ \ \ RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}[BackwardLocalPlanner]\ carrot\_linear\_distance\ ("{}}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ <<\ \textcolor{stringliteral}{"{})\ cannot\ be\ lower\ than\ xy\_goal\_tolerance\_\ ("{}}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}{yaw\_goal\_tolerance\_}}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{})\ setting\ carrot\_angular\_distance\ =\ "{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}});}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}\ =\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}{xy\_goal\_tolerance\_}};}
\DoxyCodeLine{00226\ \ \ \ \ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>set\_parameter(rclcpp::Parameter(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_distance"{}},\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}}));}
\DoxyCodeLine{00227\ \ \ \}}
\DoxyCodeLine{00228\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}{name\_}}\ +\ \textcolor{stringliteral}{"{}.carrot\_distance:"{}}\ <<\ \mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}{carrot\_distance\_}});}
\DoxyCodeLine{00229\ \ \ RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}{nh\_}}-\/>get\_logger(),\ \textcolor{stringliteral}{"{}-\/-\/-\/\ end\ params\ -\/-\/-\/"{}});}
\DoxyCodeLine{00230\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{carrot\+\_\+angular\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{carrot\+\_\+distance\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00164}{enable\+\_\+obstacle\+\_\+checking\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00137}{k\+\_\+alpha\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00138}{k\+\_\+betta\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00136}{k\+\_\+rho\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00140}{linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00146}{max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00145}{max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00125}{name\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{nh\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00163}{straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00088}{cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::try\+Get\+Or\+Set()}}, \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{xy\+\_\+goal\+\_\+tolerance\+\_\+}}, and \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{yaw\+\_\+goal\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{activate()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3f28a41f4a818c41f2026c216e0bd39c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5a9d2148f2d199cac7908e037cb14329}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!alpha\_offset\_@{alpha\_offset\_}}
\index{alpha\_offset\_@{alpha\_offset\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{alpha\_offset\_}{alpha\_offset\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a5a9d2148f2d199cac7908e037cb14329} 
const double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::alpha\+\_\+offset\+\_\+ = M\+\_\+\+PI\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00142}{142}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!backwardsPlanPath\_@{backwardsPlanPath\_}}
\index{backwardsPlanPath\_@{backwardsPlanPath\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{backwardsPlanPath\_}{backwardsPlanPath\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a6933ac8a75eea700e856de609393c4e5} 
std\+::vector$<$geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped$>$ cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::backwards\+Plan\+Path\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00127}{127}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{activate()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00385}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00073}{cleanup()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a24828d4b3b9fc4cf2fa4de05f980696e}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!betta\_offset\_@{betta\_offset\_}}
\index{betta\_offset\_@{betta\_offset\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{betta\_offset\_}{betta\_offset\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a24828d4b3b9fc4cf2fa4de05f980696e} 
const double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::betta\+\_\+offset\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00143}{143}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!carrot\_angular\_distance\_@{carrot\_angular\_distance\_}}
\index{carrot\_angular\_distance\_@{carrot\_angular\_distance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{carrot\_angular\_distance\_}{carrot\_angular\_distance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a05fc1ea1ebf3445586746e08850b5dcf} 
\mbox{\hyperlink{backward__local__planner_8hpp_a640effbe91ae9b25d698a883a9e80d96}{rad}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+angular\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00152}{152}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!carrot\_distance\_@{carrot\_distance\_}}
\index{carrot\_distance\_@{carrot\_distance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{carrot\_distance\_}{carrot\_distance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a9d633880d95db0c9158942d8ae2ef5b4} 
\mbox{\hyperlink{backward__local__planner_8hpp_ab6024a26b088c11b8a5218a469ae5a57}{meter}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::carrot\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00151}{151}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!costmapRos\_@{costmapRos\_}}
\index{costmapRos\_@{costmapRos\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{costmapRos\_}{costmapRos\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af865c848295cf5d51ea99ce8557f0532} 
std\+::shared\+\_\+ptr$<$nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS$>$ cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::costmap\+Ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00128}{128}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{clear\+Markers()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01189}{publish\+Goal\+Marker()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!currentCarrotPoseIndex\_@{currentCarrotPoseIndex\_}}
\index{currentCarrotPoseIndex\_@{currentCarrotPoseIndex\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{currentCarrotPoseIndex\_}{currentCarrotPoseIndex\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af2fa315561d15df910110b6f0e658e31} 
int cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::current\+Carrot\+Pose\+Index\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00169}{169}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00385}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00073}{cleanup()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!divergenceDetectionLastCarrotLinearDistance\_@{divergenceDetectionLastCarrotLinearDistance\_}}
\index{divergenceDetectionLastCarrotLinearDistance\_@{divergenceDetectionLastCarrotLinearDistance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{divergenceDetectionLastCarrotLinearDistance\_}{divergenceDetectionLastCarrotLinearDistance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a173474714240068e283c6d4533fd5826} 
\mbox{\hyperlink{backward__local__planner_8hpp_ab6024a26b088c11b8a5218a469ae5a57}{meter}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::divergence\+Detection\+Last\+Carrot\+Linear\+Distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00153}{153}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00348}{divergence\+Detection\+Update()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00341}{reset\+Divergence\+Detection()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!enable\_obstacle\_checking\_@{enable\_obstacle\_checking\_}}
\index{enable\_obstacle\_checking\_@{enable\_obstacle\_checking\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{enable\_obstacle\_checking\_}{enable\_obstacle\_checking\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abcdb6844c16f7ab47e5ecea03dc398d5} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::enable\+\_\+obstacle\+\_\+checking\+\_\+ = true\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00164}{164}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!goalMarkerPublisher\_@{goalMarkerPublisher\_}}
\index{goalMarkerPublisher\_@{goalMarkerPublisher\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{goalMarkerPublisher\_}{goalMarkerPublisher\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a7a82ffecbd669dad86c3fc9ed2235f09} 
std\+::shared\+\_\+ptr$<$rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$visualization\+\_\+msgs\+::msg\+::\+Marker\+Array$>$ $>$ cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Marker\+Publisher\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00132}{132}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{activate()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{clear\+Markers()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00065}{deactivate()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01189}{publish\+Goal\+Marker()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!goalReached\_@{goalReached\_}}
\index{goalReached\_@{goalReached\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{goalReached\_}{goalReached\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae8d2d86a913b05378bb47aeda431d3bb} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::goal\+Reached\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00161}{161}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00859}{is\+Goal\+Reached()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!inGoalPureSpinningState\_@{inGoalPureSpinningState\_}}
\index{inGoalPureSpinningState\_@{inGoalPureSpinningState\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{inGoalPureSpinningState\_}{inGoalPureSpinningState\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a96b5e19b11d6b9fa5b376f344e207d75} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::in\+Goal\+Pure\+Spinning\+State\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00165}{165}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aeea4caeb7bc6a63029953dff2b35ef49}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!initialPureSpinningStage\_@{initialPureSpinningStage\_}}
\index{initialPureSpinningStage\_@{initialPureSpinningStage\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{initialPureSpinningStage\_}{initialPureSpinningStage\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aeea4caeb7bc6a63029953dff2b35ef49} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::initial\+Pure\+Spinning\+Stage\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00162}{162}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!k\_alpha\_@{k\_alpha\_}}
\index{k\_alpha\_@{k\_alpha\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_alpha\_}{k\_alpha\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a06e7ff485822fb137794ae8c264dd7c3} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+alpha\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00137}{137}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!k\_betta\_@{k\_betta\_}}
\index{k\_betta\_@{k\_betta\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_betta\_}{k\_betta\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3709a94dc9ba100c71d7ccecee640bf6} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+betta\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00138}{138}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!k\_rho\_@{k\_rho\_}}
\index{k\_rho\_@{k\_rho\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{k\_rho\_}{k\_rho\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_abf6612304de64a5544dccdc9a4b8f3fe} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::k\+\_\+rho\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00136}{136}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!linear\_mode\_rho\_error\_threshold\_@{linear\_mode\_rho\_error\_threshold\_}}
\index{linear\_mode\_rho\_error\_threshold\_@{linear\_mode\_rho\_error\_threshold\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{linear\_mode\_rho\_error\_threshold\_}{linear\_mode\_rho\_error\_threshold\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac0652a1b652c0aa237716670de3a1896} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::linear\+\_\+mode\+\_\+rho\+\_\+error\+\_\+threshold\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00140}{140}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!max\_angular\_z\_speed\_@{max\_angular\_z\_speed\_}}
\index{max\_angular\_z\_speed\_@{max\_angular\_z\_speed\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{max\_angular\_z\_speed\_}{max\_angular\_z\_speed\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ae2b7f8a1362393b79c5b5101c64a7cff} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+angular\+\_\+z\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00146}{146}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!max\_linear\_x\_speed\_@{max\_linear\_x\_speed\_}}
\index{max\_linear\_x\_speed\_@{max\_linear\_x\_speed\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{max\_linear\_x\_speed\_}{max\_linear\_x\_speed\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aa92f43e24759e45ee06b47d1f79d0349} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::max\+\_\+linear\+\_\+x\+\_\+speed\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00145}{145}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!name\_@{name\_}}
\index{name\_@{name\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{name\_}{name\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3dd03d37682cf9f5f85688d98bf73b29} 
std\+::string cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::name\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00125}{125}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!nh\_@{nh\_}}
\index{nh\_@{nh\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{nh\_}{nh\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af94bb5246bafe4731b8ab5475f4b55dc} 
rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Shared\+Ptr cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::nh\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00124}{124}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{activate()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00385}{check\+Carrot\+Half\+Plain\+Constraint()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00073}{cleanup()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01167}{clear\+Markers()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00245}{compute\+Current\+Euclidean\+And\+Angular\+Errors\+To\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00065}{deactivate()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00348}{divergence\+Detection\+Update()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00865}{find\+Initial\+Carrot\+Goal()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00859}{is\+Goal\+Reached()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01189}{publish\+Goal\+Marker()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00930}{resample\+Precise\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00232}{set\+Speed\+Limit()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!planPub\_@{planPub\_}}
\index{planPub\_@{planPub\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{planPub\_}{planPub\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_ac589ee463e043e842b69d5227f952181} 
std\+::shared\+\_\+ptr$<$rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$nav\+\_\+msgs\+::msg\+::\+Path$>$ $>$ cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::plan\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00133}{133}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00055}{activate()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00065}{deactivate()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2065eea9c5900dddde843a3d782c4934}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!pure\_spinning\_allowed\_betta\_error\_@{pure\_spinning\_allowed\_betta\_error\_}}
\index{pure\_spinning\_allowed\_betta\_error\_@{pure\_spinning\_allowed\_betta\_error\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{pure\_spinning\_allowed\_betta\_error\_}{pure\_spinning\_allowed\_betta\_error\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2065eea9c5900dddde843a3d782c4934} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::pure\+\_\+spinning\+\_\+allowed\+\_\+betta\+\_\+error\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00139}{139}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!straightBackwardsAndPureSpinningMode\_@{straightBackwardsAndPureSpinningMode\_}}
\index{straightBackwardsAndPureSpinningMode\_@{straightBackwardsAndPureSpinningMode\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{straightBackwardsAndPureSpinningMode\_}{straightBackwardsAndPureSpinningMode\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_acd70c44ee86b741a1533695ca0350f7c} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::straight\+Backwards\+And\+Pure\+Spinning\+Mode\+\_\+ = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00163}{163}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a27dfd917864b054e867ec965fce8007d}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!tf\_@{tf\_}}
\index{tf\_@{tf\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{tf\_}{tf\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a27dfd917864b054e867ec965fce8007d} 
std\+::shared\+\_\+ptr$<$tf2\+\_\+ros\+::\+Buffer$>$ cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::tf\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00129}{129}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aee7e0f4d30ac5aaca483b5a4e354c7bc}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!transform\_tolerance\_@{transform\_tolerance\_}}
\index{transform\_tolerance\_@{transform\_tolerance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{transform\_tolerance\_}{transform\_tolerance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_aee7e0f4d30ac5aaca483b5a4e354c7bc} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::transform\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00155}{155}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l01020}{set\+Plan()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!waiting\_@{waiting\_}}
\index{waiting\_@{waiting\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waiting\_}{waiting\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a29686ac7ea408ece992ae0d53a3c0b43} 
\mbox{\hyperlink{classbool}{bool}} cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00166}{166}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0e82d590ec70dd5684e6c6431c7867f}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!waitingStamp\_@{waitingStamp\_}}
\index{waitingStamp\_@{waitingStamp\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waitingStamp\_}{waitingStamp\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_af0e82d590ec70dd5684e6c6431c7867f} 
rclcpp\+::\+Time cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Stamp\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00158}{158}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!waitingTimeout\_@{waitingTimeout\_}}
\index{waitingTimeout\_@{waitingTimeout\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{waitingTimeout\_}{waitingTimeout\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a2c7479db401f67dc09c945e303745a9f} 
rclcpp\+::\+Duration cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::waiting\+Timeout\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00157}{157}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!xy\_goal\_tolerance\_@{xy\_goal\_tolerance\_}}
\index{xy\_goal\_tolerance\_@{xy\_goal\_tolerance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{xy\_goal\_tolerance\_}{xy\_goal\_tolerance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a90dc1cbfb781b465c9d3aa546f458fa9} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::xy\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00149}{149}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00279}{update\+Carrot\+Goal()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.

\Hypertarget{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5}\index{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}!yaw\_goal\_tolerance\_@{yaw\_goal\_tolerance\_}}
\index{yaw\_goal\_tolerance\_@{yaw\_goal\_tolerance\_}!cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner@{cl\_nav2z::backward\_local\_planner::BackwardLocalPlanner}}
\doxysubsubsection{\texorpdfstring{yaw\_goal\_tolerance\_}{yaw\_goal\_tolerance\_}}
{\footnotesize\ttfamily \label{classcl__nav2z_1_1backward__local__planner_1_1BackwardLocalPlanner_a3c4a8ede3168c5b14067e2d1d5c25af5} 
double cl\+\_\+nav2z\+::backward\+\_\+local\+\_\+planner\+::\+Backward\+Local\+Planner\+::yaw\+\_\+goal\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{backward__local__planner_8hpp_source_l00148}{148}} of file \mbox{\hyperlink{backward__local__planner_8hpp_source}{backward\+\_\+local\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{backward__local__planner_8cpp_source_l00420}{check\+Current\+Pose\+In\+Goal\+Range()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00470}{compute\+Velocity\+Commands()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00096}{configure()}}, \mbox{\hyperlink{backward__local__planner_8cpp_source_l00449}{straight\+Backwards\+And\+Pure\+Spin\+Cmd()}}, and \mbox{\hyperlink{backward__local__planner_8cpp_source_l00169}{update\+Parameters()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/nav2z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/include/backward\+\_\+local\+\_\+planner/\mbox{\hyperlink{backward__local__planner_8hpp}{backward\+\_\+local\+\_\+planner.\+hpp}}\item 
smacc2\+\_\+client\+\_\+library/nav2z\+\_\+client/custom\+\_\+planners/backward\+\_\+local\+\_\+planner/src/backward\+\_\+local\+\_\+planner/\mbox{\hyperlink{backward__local__planner_8cpp}{backward\+\_\+local\+\_\+planner.\+cpp}}\end{DoxyCompactItemize}
