\doxysection{cl\+\_\+http\+::http\+\_\+session Class Reference}
\hypertarget{classcl__http_1_1http__session}{}\label{classcl__http_1_1http__session}\index{cl\_http::http\_session@{cl\_http::http\_session}}


{\ttfamily \#include $<$http\+\_\+session.\+hpp$>$}



Inheritance diagram for cl\+\_\+http\+::http\+\_\+session\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__http_1_1http__session__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+http\+::http\+\_\+session\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__http_1_1http__session_a4adc34a7d7a1c096dcd36d3313e6ceb1}{http\+\_\+session}} (boost\+::asio\+::any\+\_\+io\+\_\+executor ioc, const std\+::function$<$ void(const \mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} \&)$>$ response)
\item 
virtual \mbox{\hyperlink{classcl__http_1_1http__session_a762d41044a534134cd2a8d0aff1ea6a7}{\texorpdfstring{$\sim$}{\string~}http\+\_\+session}} ()
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a21e347fa663815a13787b76ca358f7d7}{run}} (const std\+::string \&host, const std\+::string \&target, const boost\+::beast\+::http\+::verb http\+\_\+method, const int \&version) override
\item 
std\+::string \mbox{\hyperlink{classcl__http_1_1http__session_a50a4143ef88af8eea644d2f70c5f0476}{get\+Port}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classcl__http_1_1http__session__base}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classcl__http_1_1http__session__base_a8ec3df713ddfdd6b9c9fe6d273866fe9}{\texorpdfstring{$\sim$}{\string~}http\+\_\+session\+\_\+base}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80}{on\+\_\+resolve}} (boost\+::beast\+::error\+\_\+code ec, boost\+::asio\+::ip\+::tcp\+::resolver\+::results\+\_\+type results) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}} (boost\+::beast\+::error\+\_\+code ec, const char \texorpdfstring{$\ast$}{*}what) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3}{on\+\_\+connect}} (boost\+::beast\+::error\+\_\+code ec, boost\+::asio\+::ip\+::tcp\+::resolver\+::results\+\_\+type\+::endpoint\+\_\+type) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8}{on\+\_\+write}} (boost\+::beast\+::error\+\_\+code ec, std\+::size\+\_\+t bytes\+\_\+transferred) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785}{on\+\_\+read}} (boost\+::beast\+::error\+\_\+code ec, std\+::size\+\_\+t bytes\+\_\+transferred) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a20796fc9d0a3a62d2c48e936965875bd}{set\+Body}} (const std\+::string \&body) override
\item 
void \mbox{\hyperlink{classcl__http_1_1http__session_a07ece543c0e4ac0ff1f3853a420336d4}{set\+Headers}} (const std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \&headers) override
\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const std\+::string \mbox{\hyperlink{classcl__http_1_1http__session_a1e4e46833143a7588aa09a3a11cbb6a2}{k\+Port}} = "{}80"{}
\item 
std\+::function$<$ void(const \mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} \&)$>$ \mbox{\hyperlink{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13}{on\+Response}}
\item 
boost\+::asio\+::ip\+::tcp\+::resolver \mbox{\hyperlink{classcl__http_1_1http__session_a689ee53fafd3f68ad082337d5b59db17}{resolver\+\_\+}}
\item 
boost\+::beast\+::tcp\+\_\+stream \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\+\_\+}}
\item 
boost\+::beast\+::flat\+\_\+buffer \mbox{\hyperlink{classcl__http_1_1http__session_a0fdddd1d6b47c6768b1bca80a8c549d2}{buffer\+\_\+}}
\item 
boost\+::beast\+::http\+::request$<$ boost\+::beast\+::http\+::string\+\_\+body $>$ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\+\_\+}}
\item 
\mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} \mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Public Types inherited from \mbox{\hyperlink{classcl__http_1_1http__session__base}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} = boost\+::beast\+::http\+::response$<$boost\+::beast\+::http\+::string\+\_\+body$>$
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classcl__http_1_1http__session__base}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classcl__http_1_1http__session__base_af52479fac0346d6348bddb44e4b337d4}{on\+\_\+handshake}} (boost\+::beast\+::error\+\_\+code ec)
\item 
virtual void \mbox{\hyperlink{classcl__http_1_1http__session__base_a45e792b39c5c487b6bd5927c11f323fe}{on\+\_\+shutdown}} (boost\+::beast\+::error\+\_\+code ec)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00035}{35}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classcl__http_1_1http__session_a4adc34a7d7a1c096dcd36d3313e6ceb1}\index{cl\_http::http\_session@{cl\_http::http\_session}!http\_session@{http\_session}}
\index{http\_session@{http\_session}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{http\_session()}{http\_session()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a4adc34a7d7a1c096dcd36d3313e6ceb1} 
cl\+\_\+http\+::http\+\_\+session\+::http\+\_\+session (\begin{DoxyParamCaption}\item[{boost\+::asio\+::any\+\_\+io\+\_\+executor}]{ioc}{, }\item[{const std\+::function$<$ void(const \mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} \&)$>$}]{response}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00027}{27}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ :\ \mbox{\hyperlink{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13}{onResponse}}\{response\},\ \mbox{\hyperlink{classcl__http_1_1http__session_a689ee53fafd3f68ad082337d5b59db17}{resolver\_}}\{ioc\},\ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}}\{ioc\}}
\DoxyCodeLine{00030\ \{}
\DoxyCodeLine{00031\ \}}

\end{DoxyCode}
\Hypertarget{classcl__http_1_1http__session_a762d41044a534134cd2a8d0aff1ea6a7}\index{cl\_http::http\_session@{cl\_http::http\_session}!````~http\_session@{\texorpdfstring{$\sim$}{\string~}http\_session}}
\index{````~http\_session@{\texorpdfstring{$\sim$}{\string~}http\_session}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}http\_session()}{\string~http\_session()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a762d41044a534134cd2a8d0aff1ea6a7} 
virtual cl\+\_\+http\+::http\+\_\+session\+::\texorpdfstring{$\sim$}{\string~}http\+\_\+session (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00043}{43}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00043\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}\index{cl\_http::http\_session@{cl\_http::http\_session}!fail@{fail}}
\index{fail@{fail}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{fail()}{fail()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4} 
void cl\+\_\+http\+::http\+\_\+session\+::fail (\begin{DoxyParamCaption}\item[{boost\+::beast\+::error\+\_\+code}]{ec}{, }\item[{const char \texorpdfstring{$\ast$}{*}}]{what}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_ab43cf0d271bda757bb8c9ebfcc06293e}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00065}{65}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Failure!..."{}}\ <<\ std::endl;}
\DoxyCodeLine{00068\ \ \ std::cerr\ <<\ what\ <<\ \textcolor{stringliteral}{"{}:\ "{}}\ <<\ ec.message()\ <<\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\_}}.result(boost::beast::http::status::bad\_request);}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\_}}.reason()\ =\ ec.message();}
\DoxyCodeLine{00071\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13}{onResponse}}(\mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\_}});}
\DoxyCodeLine{00072\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8hpp_source_l00066}{on\+Response}}, and \mbox{\hyperlink{http__session_8hpp_source_l00072}{res\+\_\+}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00074}{on\+\_\+connect()}}, \mbox{\hyperlink{http__session_8cpp_source_l00099}{on\+\_\+read()}}, \mbox{\hyperlink{http__session_8cpp_source_l00052}{on\+\_\+resolve()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_a50a4143ef88af8eea644d2f70c5f0476}\index{cl\_http::http\_session@{cl\_http::http\_session}!getPort@{getPort}}
\index{getPort@{getPort}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{getPort()}{getPort()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a50a4143ef88af8eea644d2f70c5f0476} 
std\+::string cl\+\_\+http\+::http\+\_\+session\+::get\+Port (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a6e560a11925e22d8442aa9d2538b9943}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00050}{50}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a1e4e46833143a7588aa09a3a11cbb6a2}{kPort}};\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8hpp_source_l00053}{k\+Port}}.

\Hypertarget{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3}\index{cl\_http::http\_session@{cl\_http::http\_session}!on\_connect@{on\_connect}}
\index{on\_connect@{on\_connect}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{on\_connect()}{on\_connect()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3} 
void cl\+\_\+http\+::http\+\_\+session\+::on\+\_\+connect (\begin{DoxyParamCaption}\item[{boost\+::beast\+::error\+\_\+code}]{ec}{, }\item[{boost\+::asio\+::ip\+::tcp\+::resolver\+::results\+\_\+type\+::endpoint\+\_\+type}]{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a12142799cc1cfc920f35b33abf5bdecb}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00074}{74}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00076\ \{}
\DoxyCodeLine{00077\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}}(ec,\ \textcolor{stringliteral}{"{}connect"{}});}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ Set\ a\ timeout\ on\ the\ operation}}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}}.expires\_after(std::chrono::seconds(1));}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ Send\ the\ HTTP\ request\ to\ the\ remote\ host}}
\DoxyCodeLine{00083\ \ \ boost::beast::http::async\_write(}
\DoxyCodeLine{00084\ \ \ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}},\ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}},\ boost::beast::bind\_front\_handler(\&\mbox{\hyperlink{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8}{http\_session::on\_write}},\ shared\_from\_this()));}
\DoxyCodeLine{00085\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}, \mbox{\hyperlink{http__session_8hpp_source_l00071}{req\+\_\+}}, and \mbox{\hyperlink{http__session_8hpp_source_l00069}{stream\+\_\+}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00052}{on\+\_\+resolve()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785}\index{cl\_http::http\_session@{cl\_http::http\_session}!on\_read@{on\_read}}
\index{on\_read@{on\_read}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{on\_read()}{on\_read()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785} 
void cl\+\_\+http\+::http\+\_\+session\+::on\+\_\+read (\begin{DoxyParamCaption}\item[{boost\+::beast\+::error\+\_\+code}]{ec}{, }\item[{std\+::size\+\_\+t}]{bytes\+\_\+transferred}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_ab5c46a037a01c683373ba7c492d789ad}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00099}{99}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00100\ \{}
\DoxyCodeLine{00101\ \ \ boost::ignore\_unused(bytes\_transferred);}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}}(ec,\ \textcolor{stringliteral}{"{}read"{}});}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{comment}{//\ Gracefully\ close\ the\ socket}}
\DoxyCodeLine{00106\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}}.socket().shutdown(boost::asio::ip::tcp::socket::shutdown\_both,\ ec);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ not\_connected\ happens\ sometimes\ so\ don't\ bother\ reporting\ it.}}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{if}\ (ec\ \&\&\ ec\ !=\ boost::beast::errc::not\_connected)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}}(ec,\ \textcolor{stringliteral}{"{}shutdown"{}});}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ If\ we\ get\ here\ then\ the\ connection\ is\ closed\ gracefully}}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13}{onResponse}}(\mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\_}});}
\DoxyCodeLine{00113\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, \mbox{\hyperlink{http__session_8hpp_source_l00066}{on\+Response}}, \mbox{\hyperlink{http__session_8hpp_source_l00072}{res\+\_\+}}, and \mbox{\hyperlink{http__session_8hpp_source_l00069}{stream\+\_\+}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80}\index{cl\_http::http\_session@{cl\_http::http\_session}!on\_resolve@{on\_resolve}}
\index{on\_resolve@{on\_resolve}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{on\_resolve()}{on\_resolve()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80} 
void cl\+\_\+http\+::http\+\_\+session\+::on\+\_\+resolve (\begin{DoxyParamCaption}\item[{boost\+::beast\+::error\+\_\+code}]{ec}{, }\item[{boost\+::asio\+::ip\+::tcp\+::resolver\+::results\+\_\+type}]{results}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a85e58cb1be5cd08366082b5e06fe2112}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00052}{52}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00054\ \{}
\DoxyCodeLine{00055\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}}(ec,\ \textcolor{stringliteral}{"{}resolve"{}});}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \textcolor{comment}{//\ Set\ a\ timeout\ on\ the\ operation}}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}}.expires\_after(std::chrono::seconds(1));}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ Make\ the\ connection\ on\ the\ IP\ address\ we\ get\ from\ a\ lookup}}
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}}.async\_connect(}
\DoxyCodeLine{00062\ \ \ \ \ results,\ boost::beast::bind\_front\_handler(\&\mbox{\hyperlink{classcl__http_1_1http__session_a70e753424263bbac3ea55c75497736f3}{http\_session::on\_connect}},\ shared\_from\_this()));}
\DoxyCodeLine{00063\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, \mbox{\hyperlink{http__session_8cpp_source_l00074}{on\+\_\+connect()}}, and \mbox{\hyperlink{http__session_8hpp_source_l00069}{stream\+\_\+}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00035}{run()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=345pt]{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8}\index{cl\_http::http\_session@{cl\_http::http\_session}!on\_write@{on\_write}}
\index{on\_write@{on\_write}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{on\_write()}{on\_write()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8} 
void cl\+\_\+http\+::http\+\_\+session\+::on\+\_\+write (\begin{DoxyParamCaption}\item[{boost\+::beast\+::error\+\_\+code}]{ec}{, }\item[{std\+::size\+\_\+t}]{bytes\+\_\+transferred}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a4a9c8531104476f4090cbd438b68d8ea}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00087}{87}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088\ \{}
\DoxyCodeLine{00089\ \ \ boost::ignore\_unused(bytes\_transferred);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keywordflow}{if}\ (ec)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classcl__http_1_1http__session_a954e89b874ee90cb1ae575ef54720fd4}{fail}}(ec,\ \textcolor{stringliteral}{"{}write"{}});}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{comment}{//\ Receive\ the\ HTTP\ response}}
\DoxyCodeLine{00094\ \ \ boost::beast::http::async\_read(}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}{stream\_}},\ \mbox{\hyperlink{classcl__http_1_1http__session_a0fdddd1d6b47c6768b1bca80a8c549d2}{buffer\_}},\ \mbox{\hyperlink{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}{res\_}},}
\DoxyCodeLine{00096\ \ \ \ \ boost::beast::bind\_front\_handler(\&\mbox{\hyperlink{classcl__http_1_1http__session_a0d198a18f1a9e4ea125351f6e3377785}{http\_session::on\_read}},\ shared\_from\_this()));}
\DoxyCodeLine{00097\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8hpp_source_l00070}{buffer\+\_\+}}, \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, \mbox{\hyperlink{http__session_8cpp_source_l00099}{on\+\_\+read()}}, \mbox{\hyperlink{http__session_8hpp_source_l00072}{res\+\_\+}}, and \mbox{\hyperlink{http__session_8hpp_source_l00069}{stream\+\_\+}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00074}{on\+\_\+connect()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_aa71e7107fb3e13020fc3aaab4e0853d8_icgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_a21e347fa663815a13787b76ca358f7d7}\index{cl\_http::http\_session@{cl\_http::http\_session}!run@{run}}
\index{run@{run}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a21e347fa663815a13787b76ca358f7d7} 
void cl\+\_\+http\+::http\+\_\+session\+::run (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{host}{, }\item[{const std\+::string \&}]{target}{, }\item[{const boost\+::beast\+::http\+::verb}]{http\+\_\+method}{, }\item[{const int \&}]{version}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_aec8f22a7efaa80b0989d1426218de390}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00035}{35}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Set\ up\ an\ HTTP\ request}}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.version(version);}
\DoxyCodeLine{00041\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.method(http\_method);}
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.target(target);}
\DoxyCodeLine{00043\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.set(boost::beast::http::field::host,\ host);}
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.set(boost::beast::http::field::user\_agent,\ BOOST\_BEAST\_VERSION\_STRING);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ Look\ up\ the\ domain\ name}}
\DoxyCodeLine{00047\ \ \ \mbox{\hyperlink{classcl__http_1_1http__session_a689ee53fafd3f68ad082337d5b59db17}{resolver\_}}.async\_resolve(}
\DoxyCodeLine{00048\ \ \ \ \ host.c\_str(),\ \mbox{\hyperlink{classcl__http_1_1http__session_a1e4e46833143a7588aa09a3a11cbb6a2}{kPort}}.c\_str(),}
\DoxyCodeLine{00049\ \ \ \ \ boost::beast::bind\_front\_handler(\&\mbox{\hyperlink{classcl__http_1_1http__session_a0cd341815a1b6ad6360865bbc7f62a80}{http\_session::on\_resolve}},\ shared\_from\_this()));}
\DoxyCodeLine{00050\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8hpp_source_l00053}{k\+Port}}, \mbox{\hyperlink{http__session_8cpp_source_l00052}{on\+\_\+resolve()}}, \mbox{\hyperlink{http__session_8hpp_source_l00071}{req\+\_\+}}, and \mbox{\hyperlink{http__session_8hpp_source_l00068}{resolver\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__http_1_1http__session_a21e347fa663815a13787b76ca358f7d7_cgraph}
\end{center}
\end{figure}
\Hypertarget{classcl__http_1_1http__session_a20796fc9d0a3a62d2c48e936965875bd}\index{cl\_http::http\_session@{cl\_http::http\_session}!setBody@{setBody}}
\index{setBody@{setBody}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{setBody()}{setBody()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a20796fc9d0a3a62d2c48e936965875bd} 
void cl\+\_\+http\+::http\+\_\+session\+::set\+Body (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{body}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a008ac6e43ba92e15004fa62333c6560a}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8cpp_source_l00033}{33}} of file \mbox{\hyperlink{http__session_8cpp_source}{http\+\_\+session.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \{\ \mbox{\hyperlink{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}{req\_}}.body()\ =\ body;\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{http__session_8hpp_source_l00071}{req\+\_\+}}.

\Hypertarget{classcl__http_1_1http__session_a07ece543c0e4ac0ff1f3853a420336d4}\index{cl\_http::http\_session@{cl\_http::http\_session}!setHeaders@{setHeaders}}
\index{setHeaders@{setHeaders}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{setHeaders()}{setHeaders()}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a07ece543c0e4ac0ff1f3853a420336d4} 
void cl\+\_\+http\+::http\+\_\+session\+::set\+Headers (\begin{DoxyParamCaption}\item[{const std\+::unordered\+\_\+map$<$ std\+::string, std\+::string $>$ \&}]{headers}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [private]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classcl__http_1_1http__session__base_a2e030ae4e236942e4bfa6be4fb0af95f}{cl\+\_\+http\+::http\+\_\+session\+\_\+base}}.



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00064}{64}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064\ \{\}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classcl__http_1_1http__session_a0fdddd1d6b47c6768b1bca80a8c549d2}\index{cl\_http::http\_session@{cl\_http::http\_session}!buffer\_@{buffer\_}}
\index{buffer\_@{buffer\_}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{buffer\_}{buffer\_}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a0fdddd1d6b47c6768b1bca80a8c549d2} 
boost\+::beast\+::flat\+\_\+buffer cl\+\_\+http\+::http\+\_\+session\+::buffer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00070}{70}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}.

\Hypertarget{classcl__http_1_1http__session_a1e4e46833143a7588aa09a3a11cbb6a2}\index{cl\_http::http\_session@{cl\_http::http\_session}!kPort@{kPort}}
\index{kPort@{kPort}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{kPort}{kPort}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a1e4e46833143a7588aa09a3a11cbb6a2} 
const std\+::string cl\+\_\+http\+::http\+\_\+session\+::k\+Port = "{}80"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00053}{53}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8hpp_source_l00050}{get\+Port()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00035}{run()}}.

\Hypertarget{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13}\index{cl\_http::http\_session@{cl\_http::http\_session}!onResponse@{onResponse}}
\index{onResponse@{onResponse}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{onResponse}{onResponse}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a7ecb962d1678a0877b8dd2224cb4ca13} 
std\+::function$<$void(const \mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} \&)$>$ cl\+\_\+http\+::http\+\_\+session\+::on\+Response\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00066}{66}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00099}{on\+\_\+read()}}.

\Hypertarget{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619}\index{cl\_http::http\_session@{cl\_http::http\_session}!req\_@{req\_}}
\index{req\_@{req\_}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{req\_}{req\_}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a219d11703d4bd9f938febd24b8ea0619} 
boost\+::beast\+::http\+::request$<$boost\+::beast\+::http\+::string\+\_\+body$>$ cl\+\_\+http\+::http\+\_\+session\+::req\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00071}{71}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00074}{on\+\_\+connect()}}, \mbox{\hyperlink{http__session_8cpp_source_l00035}{run()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00033}{set\+Body()}}.

\Hypertarget{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0}\index{cl\_http::http\_session@{cl\_http::http\_session}!res\_@{res\_}}
\index{res\_@{res\_}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{res\_}{res\_}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a241bb9bbc717593ba5227163bf46d1f0} 
\mbox{\hyperlink{classcl__http_1_1http__session__base_aea2d08afac60fd6a5797d6affdeeef0b}{TResponse}} cl\+\_\+http\+::http\+\_\+session\+::res\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00072}{72}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00065}{fail()}}, \mbox{\hyperlink{http__session_8cpp_source_l00099}{on\+\_\+read()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}.

\Hypertarget{classcl__http_1_1http__session_a689ee53fafd3f68ad082337d5b59db17}\index{cl\_http::http\_session@{cl\_http::http\_session}!resolver\_@{resolver\_}}
\index{resolver\_@{resolver\_}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{resolver\_}{resolver\_}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a689ee53fafd3f68ad082337d5b59db17} 
boost\+::asio\+::ip\+::tcp\+::resolver cl\+\_\+http\+::http\+\_\+session\+::resolver\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00068}{68}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00035}{run()}}.

\Hypertarget{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4}\index{cl\_http::http\_session@{cl\_http::http\_session}!stream\_@{stream\_}}
\index{stream\_@{stream\_}!cl\_http::http\_session@{cl\_http::http\_session}}
\doxysubsubsection{\texorpdfstring{stream\_}{stream\_}}
{\footnotesize\ttfamily \label{classcl__http_1_1http__session_a752d924c51490fe249b70ac412f6a9b4} 
boost\+::beast\+::tcp\+\_\+stream cl\+\_\+http\+::http\+\_\+session\+::stream\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{http__session_8hpp_source_l00069}{69}} of file \mbox{\hyperlink{http__session_8hpp_source}{http\+\_\+session.\+hpp}}.



Referenced by \mbox{\hyperlink{http__session_8cpp_source_l00074}{on\+\_\+connect()}}, \mbox{\hyperlink{http__session_8cpp_source_l00099}{on\+\_\+read()}}, \mbox{\hyperlink{http__session_8cpp_source_l00052}{on\+\_\+resolve()}}, and \mbox{\hyperlink{http__session_8cpp_source_l00087}{on\+\_\+write()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/http\+\_\+client/include/http\+\_\+client/\mbox{\hyperlink{http__session_8hpp}{http\+\_\+session.\+hpp}}\item 
smacc2\+\_\+client\+\_\+library/http\+\_\+client/src/http\+\_\+client/\mbox{\hyperlink{http__session_8cpp}{http\+\_\+session.\+cpp}}\end{DoxyCompactItemize}
