\hypertarget{pure__spinning__local__planner_8cpp_source}{}\doxysection{pure\+\_\+spinning\+\_\+local\+\_\+planner.\+cpp}
\label{pure__spinning__local__planner_8cpp_source}\index{smacc2\_client\_library/nav2z\_client/custom\_planners/pure\_spinning\_local\_planner/src/pure\_spinning\_local\_planner/pure\_spinning\_local\_planner.cpp@{smacc2\_client\_library/nav2z\_client/custom\_planners/pure\_spinning\_local\_planner/src/pure\_spinning\_local\_planner/pure\_spinning\_local\_planner.cpp}}
\mbox{\hyperlink{pure__spinning__local__planner_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00001}00001 \textcolor{comment}{// Copyright 2021 RobosoftAI Inc.}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00002}00002 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00003}00003 \textcolor{comment}{// Licensed under the Apache License, Version 2.0 (the "{}License"{});}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00004}00004 \textcolor{comment}{// you may not use this file except in compliance with the License.}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00005}00005 \textcolor{comment}{// You may obtain a copy of the License at}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00006}00006 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00007}00007 \textcolor{comment}{//     http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00008}00008 \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00009}00009 \textcolor{comment}{// Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00010}00010 \textcolor{comment}{// distributed under the License is distributed on an "{}AS IS"{} BASIS,}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00011}00011 \textcolor{comment}{// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00012}00012 \textcolor{comment}{// See the License for the specific language governing permissions and}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00013}00013 \textcolor{comment}{// limitations under the License.}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include <angles/angles.h>}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp}{nav2z\_planners\_common/common.hpp}}>}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00017}00017 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{pure__spinning__local__planner_8hpp}{pure\_spinning\_local\_planner/pure\_spinning\_local\_planner.hpp}}>}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#include <nav\_2d\_utils/tf\_help.hpp>}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00020}00020 \textcolor{preprocessor}{\#include <pluginlib/class\_list\_macros.hpp>}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00022}00022 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecl__nav2z}{cl\_nav2z}}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00023}00023 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00024}00024 \textcolor{keyword}{namespace }pure\_spinning\_local\_planner}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00025}00025 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00026}00026 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00027}\mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{00027}} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(rclcpp\_lifecycle::LifecycleNode::SharedPtr \& node, std::string param, T \& value)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00028}00028 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00029}00029   \textcolor{keywordflow}{if} (!node-\/>get\_parameter(param, value))}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00030}00030   \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00031}00031     node-\/>set\_parameter(rclcpp::Parameter(param, value));}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00032}00032   \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00033}00033 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00034}00034 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00035}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0854e89ac5e7911dea7ca074b48d01e7}{00035}} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0854e89ac5e7911dea7ca074b48d01e7}{PureSpinningLocalPlanner::PureSpinningLocalPlanner}}() \{\}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00037}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a73c5b3df31c97b29ed36a668e73e7491}{00037}} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a73c5b3df31c97b29ed36a668e73e7491}{PureSpinningLocalPlanner::\string~PureSpinningLocalPlanner}}() \{\}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00039}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a7f6401bcd4f147569252854cc6a2ca40}{00039}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a7f6401bcd4f147569252854cc6a2ca40}{PureSpinningLocalPlanner::activate}}()}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00040}00040 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00041}00041   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}activating controller PureSpinningLocalPlanner"{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00042}00042   this-\/>\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a98edf2ca12cd81634c54e3fe84254a82}{updateParameters}}();}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00043}00043 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00045}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a85eaa2de42b96d4172ba47bcfafa3ba6}{00045}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a85eaa2de42b96d4172ba47bcfafa3ba6}{PureSpinningLocalPlanner::deactivate}}() \{\}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00047}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a50c9fb02bce7a66ab8e2a9067b4a799e}{00047}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a50c9fb02bce7a66ab8e2a9067b4a799e}{PureSpinningLocalPlanner::cleanup}}()}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00048}00048 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00049}00049   this-\/>\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.clear();}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00050}00050   this-\/>\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} = 0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00051}00051   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}} = -\/1.0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00052}00052 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00054}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a844230a7120d6a325669590833064c57}{00054}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a844230a7120d6a325669590833064c57}{PureSpinningLocalPlanner::configure}}(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00055}00055   \textcolor{keyword}{const} rclcpp\_lifecycle::LifecycleNode::WeakPtr \& node, std::string name,}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00056}00056   \textcolor{keyword}{const} std::shared\_ptr<tf2\_ros::Buffer> \& tf,}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00057}00057   \textcolor{keyword}{const} std::shared\_ptr<nav2\_costmap\_2d::Costmap2DROS> \& costmap\_ros)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00058}00058 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00059}00059   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1a1b4b85c8ad12d703474ff22dbf77a6}{costmapRos\_}} = costmap\_ros;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00060}00060   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} = name;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00061}00061   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}} = node.lock();}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00062}00062   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a3e7977f384e79d92a99656b7a0fd4ca1}{k\_betta\_}} = 1.0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00063}00063   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a049f867cd89634989f10ddac20ae9718}{intermediate\_goal\_yaw\_tolerance\_}} = 0.12;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00064}00064   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a365438b4bb9352a6e2f5ddcb81abeeed}{max\_angular\_z\_speed\_}} = 1.0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00065}00065   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}} = -\/1.0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00066}00066   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ae15fbf4b6ff680bae0c56e10f37a299a}{transform\_tolerance\_}} = 0.1;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00067}00067   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_aaadaa3d1f88ee0eb9e51c476b86791e9}{tf\_}} = tf;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00069}00069   \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.k\_betta"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a3e7977f384e79d92a99656b7a0fd4ca1}{k\_betta\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00070}00070   \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.intermediate\_goals\_yaw\_tolerance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a049f867cd89634989f10ddac20ae9718}{intermediate\_goal\_yaw\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00071}00071   \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.max\_angular\_z\_speed"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a365438b4bb9352a6e2f5ddcb81abeeed}{max\_angular\_z\_speed\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00072}00072   \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.transform\_tolerance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ae15fbf4b6ff680bae0c56e10f37a299a}{transform\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00073}00073   \mbox{\hyperlink{client__library_2nav2z__client_2custom__planners_2nav2z__planners__common_2include_2nav2z__planners__common_2common_8hpp_a5f7dd4768483284ca2c1d26e7e9fde9e}{declareOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.use\_shortest\_angular\_distance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abfcac6d05332131b07fc83c2fd4902eb}{use\_shortest\_angular\_distance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00075}00075   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00076}00076     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] pure spinning planner already created"{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00077}00077 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00079}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a98edf2ca12cd81634c54e3fe84254a82}{00079}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a98edf2ca12cd81634c54e3fe84254a82}{PureSpinningLocalPlanner::updateParameters}}()}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00080}00080 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00081}00081   \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.k\_betta"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a3e7977f384e79d92a99656b7a0fd4ca1}{k\_betta\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00082}00082   \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.intermediate\_goals\_yaw\_tolerance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a049f867cd89634989f10ddac20ae9718}{intermediate\_goal\_yaw\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00083}00083   \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.max\_angular\_z\_speed"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a365438b4bb9352a6e2f5ddcb81abeeed}{max\_angular\_z\_speed\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00084}00084   \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.transform\_tolerance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ae15fbf4b6ff680bae0c56e10f37a299a}{transform\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00085}00085   \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_ae259356343718184bed39cb2a384ce45}{tryGetOrSet}}(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_af0d0b1feb4ffa85fabf1936a696b5c57}{name\_}} + \textcolor{stringliteral}{"{}.use\_shortest\_angular\_distance"{}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abfcac6d05332131b07fc83c2fd4902eb}{use\_shortest\_angular\_distance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00086}00086 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00088}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a9c925ab28a4ef04a306dc83da681cb22}{00088}} geometry\_msgs::msg::TwistStamped \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a9c925ab28a4ef04a306dc83da681cb22}{PureSpinningLocalPlanner::computeVelocityCommands}}(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00089}00089   \textcolor{keyword}{const} geometry\_msgs::msg::PoseStamped \& pose, \textcolor{keyword}{const} geometry\_msgs::msg::Twist \& \textcolor{comment}{/*velocity*/},}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00090}00090   nav2\_core::GoalChecker * goal\_checker)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00091}00091 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00092}00092   this-\/>\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a98edf2ca12cd81634c54e3fe84254a82}{updateParameters}}();}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00093}00093   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}} == -\/1)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00094}00094   \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00095}00095     geometry\_msgs::msg::Pose posetol;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00096}00096     geometry\_msgs::msg::Twist twistol;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00097}00097     \textcolor{keywordflow}{if} (goal\_checker-\/>getTolerances(posetol, twistol))}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00098}00098     \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00099}00099       \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}} = tf2::getYaw(posetol.orientation);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00100}00100       \textcolor{comment}{//yaw\_goal\_tolerance\_ = tf2::getYaw(posetol.orientation) * 0.35; // WORKAROUND GOAL CHECKER DIFFERENCE NAV CONTROLLER}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00101}00101       RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00102}00102         \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00103}00103         \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] yaw\_goal\_tolerance\_: "{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00104}00104     \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00105}00105     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00106}00106     \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00107}00107       RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00108}00108         \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] could not get tolerances from goal checker"{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00109}00109     \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00110}00110   \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00111}00111 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00112}00112   geometry\_msgs::msg::TwistStamped cmd\_vel;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00114}00114   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1d447f2bd381c4e958c3071e3c37e78f}{goalReached\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00115}00115   \textcolor{comment}{// RCLCPP\_DEBUG(nh\_-\/>get\_logger(), "{}LOCAL PLANNER LOOP"{});}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00116}00116 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00117}00117   geometry\_msgs::msg::PoseStamped currentPose = pose;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00119}00119   tf2::Quaternion q;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00120}00120   \mbox{\hyperlink{namespacecl__move__group__interface_ac9996bc735656bff769b0f3d0104d9cd}{tf2::fromMsg}}(currentPose.pose.orientation, q);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00121}00121   \textcolor{keyword}{auto} currentYaw = tf2::getYaw(currentPose.pose.orientation);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00122}00122   \textcolor{keywordtype}{double} angular\_error = 0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00123}00123   \textcolor{keywordtype}{double} targetYaw;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00125}00125   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00126}00126   \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00127}00127     \textcolor{keyword}{auto} \& goal = \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}[\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}}];}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00128}00128     targetYaw = tf2::getYaw(goal.pose.orientation);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00130}00130     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abfcac6d05332131b07fc83c2fd4902eb}{use\_shortest\_angular\_distance\_}})}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00131}00131       angular\_error = angles::shortest\_angular\_distance(currentYaw, targetYaw);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00132}00132     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00133}00133       angular\_error = targetYaw -\/ currentYaw;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00135}00135     \textcolor{comment}{// if it is in the following way, sometimes the direction is incorrect}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00136}00136     \textcolor{comment}{//angular\_error = targetYaw -\/ currentYaw;}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00138}00138     \textcolor{comment}{// all the points must be reached using the control rule, but the last one}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00139}00139     \textcolor{comment}{// have an special condition}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00140}00140     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} < (\textcolor{keywordtype}{int})\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.size() -\/ 1 \&\&}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00141}00141          fabs(angular\_error) < this-\/>\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a049f867cd89634989f10ddac20ae9718}{intermediate\_goal\_yaw\_tolerance\_}}))}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00142}00142     \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00143}00143       \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}}++;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00144}00144     \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00145}00145     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00146}00146     \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00147}00147       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00148}00148     \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00149}00149   \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} < (\textcolor{keywordtype}{int})\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.size());}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00151}00151   \textcolor{keyword}{auto} omega = angular\_error * \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a3e7977f384e79d92a99656b7a0fd4ca1}{k\_betta\_}};}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00152}00152   cmd\_vel.twist.angular.z =}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00153}00153     std::min(std::max(omega, -\/fabs(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a365438b4bb9352a6e2f5ddcb81abeeed}{max\_angular\_z\_speed\_}})), fabs(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a365438b4bb9352a6e2f5ddcb81abeeed}{max\_angular\_z\_speed\_}}));}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00155}00155   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00156}00156     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00157}00157     \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] pose index: "{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.size());}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00158}00158   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] k\_betta\_: "{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a3e7977f384e79d92a99656b7a0fd4ca1}{k\_betta\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00159}00159   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00160}00160     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] angular error: "{}} << angular\_error << \textcolor{stringliteral}{"{}(tol "{}}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00161}00161                                                                     << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}} << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00162}00162   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00163}00163     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00164}00164     \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] command angular speed: "{}} << cmd\_vel.twist.angular.z);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00165}00165   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00166}00166     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00167}00167     \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] completion "{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.size());}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00168}00168 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00169}00169   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} >= (\textcolor{keywordtype}{int})\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}}.size() -\/ 1 \&\& fabs(angular\_error) < \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a0170e42df806948ca056c6f901c5de06}{yaw\_goal\_tolerance\_}})}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00170}00170   \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00171}00171     RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00172}00172       \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[PureSpinningLocalPlanner] GOAL REACHED. Sending stop command."{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00173}00173     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1d447f2bd381c4e958c3071e3c37e78f}{goalReached\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00174}00174     cmd\_vel.twist.linear.x = 0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00175}00175     cmd\_vel.twist.angular.z = 0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00176}00176   \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00178}00178   \textcolor{keywordflow}{return} cmd\_vel;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00179}00179 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00181}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a5cec7e6144e5c806ed40fa9e843b1f74}{00181}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a5cec7e6144e5c806ed40fa9e843b1f74}{PureSpinningLocalPlanner::setSpeedLimit}}(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00182}00182   \textcolor{keyword}{const} \textcolor{keywordtype}{double} \& \textcolor{comment}{/*speed\_limit*/}, \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \& \textcolor{comment}{/*percentage*/})}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00183}00183 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00184}00184   RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00185}00185     \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00186}00186     \textcolor{stringliteral}{"{}PureSpinningLocalPlanner::setSpeedLimit invoked. Ignored, funcionality not "{}}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00187}00187     \textcolor{stringliteral}{"{}implemented."{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00188}00188 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00189}00189 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00190}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ab53d364864c723a16a5694f13bfe5412}{00190}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ab53d364864c723a16a5694f13bfe5412}{PureSpinningLocalPlanner::isGoalReached}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1d447f2bd381c4e958c3071e3c37e78f}{goalReached\_}}; \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00192}\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ac6078b8bdb1f397baa6d91f07d387cb4}{00192}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ac6078b8bdb1f397baa6d91f07d387cb4}{PureSpinningLocalPlanner::setPlan}}(\textcolor{keyword}{const} nav\_msgs::msg::Path \& path)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00193}00193 \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00194}00194   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_abb8d1b0e8080f0a97eeb0f333c28f27f}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}activating controller PureSpinningLocalPlanner"{}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00195}00195 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00196}00196   nav\_msgs::msg::Path transformedPlan;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00197}00197 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00198}00198   rclcpp::Duration ttol = rclcpp::Duration::from\_seconds(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_ae15fbf4b6ff680bae0c56e10f37a299a}{transform\_tolerance\_}});}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00199}00199   \textcolor{comment}{// transform global plan}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00200}00200   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& p : path.poses)}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00201}00201   \{}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00202}00202     geometry\_msgs::msg::PoseStamped transformedPose;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00203}00203     nav\_2d\_utils::transformPose(\mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_aaadaa3d1f88ee0eb9e51c476b86791e9}{tf\_}}, \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1a1b4b85c8ad12d703474ff22dbf77a6}{costmapRos\_}}-\/>getGlobalFrameID(), p, transformedPose, ttol);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00204}00204     transformedPose.header.frame\_id = \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1a1b4b85c8ad12d703474ff22dbf77a6}{costmapRos\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00205}00205     transformedPlan.poses.push\_back(transformedPose);}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00206}00206   \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00207}00207 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00208}00208   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8daab9c89364e3d4ec9c07bfcbcc661e}{plan\_}} = transformedPlan.poses;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00210}00210   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a1d447f2bd381c4e958c3071e3c37e78f}{goalReached\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00211}00211   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner_a8f9dc43729d7edf246e6e719ad3a44bb}{currentPoseIndex\_}} = 0;}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00212}00212 \}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00213}00213 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00214}\mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_a99ffde6602205523106be88388e6f389}{00214}} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacecl__nav2z_1_1pure__spinning__local__planner_a99ffde6602205523106be88388e6f389}{publishGoalMarker}}(\textcolor{keywordtype}{double} \textcolor{comment}{/*x*/}, \textcolor{keywordtype}{double} \textcolor{comment}{/*y*/}, \textcolor{keywordtype}{double} \textcolor{comment}{/*phi*/}) \{\}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00215}00215 \}  \textcolor{comment}{// namespace pure\_spinning\_local\_planner}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00216}00216 \}  \textcolor{comment}{// namespace cl\_nav2z}}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00217}00217 }
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00218}00218 PLUGINLIB\_EXPORT\_CLASS(}
\DoxyCodeLine{\Hypertarget{pure__spinning__local__planner_8cpp_source_l00219}00219   \mbox{\hyperlink{classcl__nav2z_1_1pure__spinning__local__planner_1_1PureSpinningLocalPlanner}{cl\_nav2z::pure\_spinning\_local\_planner::PureSpinningLocalPlanner}}, nav2\_core::Controller)}

\end{DoxyCode}
