\hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::Undo\+Path\+Global\+Planner Class Reference}
\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner}\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}


{\ttfamily \#include $<$undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::Undo\+Path\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::Undo\+Path\+Global\+Planner\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}{Undo\+Path\+Global\+Planner}} ()
\item 
virtual \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}{$\sim$\+Undo\+Path\+Global\+Planner}} ()
\begin{DoxyCompactList}\small\item\em Virtual destructor. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ac35d783de6adf9e4a3c33eb0bacf7892}{configure}} (const rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Weak\+Ptr \&parent, std\+::string name, std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$ tf, std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$ costmap\+\_\+ros)
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a802993bed51f09c07a0c93e608c8ee23}{cleanup}} ()
\begin{DoxyCompactList}\small\item\em Method to cleanup resources used on shutdown. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae68282596be3557dae6118d49bd4cacd}{activate}} ()
\begin{DoxyCompactList}\small\item\em Method to active planner and any threads involved in execution. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae2be0c7ba0543e736fcb68a6b7e6c1aa}{deactivate}} ()
\begin{DoxyCompactList}\small\item\em Method to deactivate planner and any threads involved in execution. \end{DoxyCompactList}\item 
virtual nav\+\_\+msgs\+::msg\+::\+Path \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0d7bf41d9f1c900cdb06c1526e1148c8}{create\+Plan}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&goal)
\begin{DoxyCompactList}\small\item\em Method create the plan from a starting and ending goal. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957}{on\+Forward\+Trail\+Msg}} (const nav\+\_\+msgs\+::msg\+::\+Path\+::\+Shared\+Ptr trail\+Message)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e}{publish\+Goal\+Marker}} (const geometry\+\_\+msgs\+::msg\+::\+Pose \&pose, double r, double g, double b)
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}{clear\+Goal\+Marker}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0c9812e093f5264acdc3e6269323ca3e}{create\+Default\+Undo\+Path\+Plan}} (const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&start, const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&goal, std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \&plan)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Shared\+Ptr \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\+\_\+}}
\item 
rclcpp\+::\+Subscription$<$ nav\+\_\+msgs\+::msg\+::\+Path $>$\+::\+Shared\+Ptr \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a27d593030d3805424bd452acd71f838f}{forward\+Path\+Sub\+\_\+}}
\item 
rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$ nav\+\_\+msgs\+::msg\+::\+Path $>$\+::\+Shared\+Ptr \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{plan\+Pub\+\_\+}}
\item 
rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$ visualization\+\_\+msgs\+::msg\+::\+Marker\+Array $>$\+::\+Shared\+Ptr \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markers\+Pub\+\_\+}}
\item 
nav\+\_\+msgs\+::msg\+::\+Path \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{last\+Forward\+Path\+Msg\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$ \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\+\_\+ros\+\_\+}}
\begin{DoxyCompactList}\small\item\em stored but almost not used \end{DoxyCompactList}\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}{pures\+Spinning\+Rad\+Step\+\_\+}}
\item 
double \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}{transform\+\_\+tolerance\+\_\+}}
\item 
std\+::string \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab75a2585ca821ae35f51eeb08eb9d3b5}{name\+\_\+}}
\item 
std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$ \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}{tf\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00031}{31}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aaea18b14afd15cd5160e34a3a829b46f}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!UndoPathGlobalPlanner@{UndoPathGlobalPlanner}}
\index{UndoPathGlobalPlanner@{UndoPathGlobalPlanner}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{UndoPathGlobalPlanner()}{UndoPathGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::\+Undo\+Path\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Constructor() 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00043}{43}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044 \{}
\DoxyCodeLine{00045   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}{skip\_straight\_motion\_distance\_}} = 0.2;}
\DoxyCodeLine{00046   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}{transform\_tolerance\_}} = 0.1;}
\DoxyCodeLine{00047 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00100}{skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00104}{transform\+\_\+tolerance\+\_\+}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aae5dcc1ca67cffca6b96fc3d267ba448}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!````~UndoPathGlobalPlanner@{$\sim$UndoPathGlobalPlanner}}
\index{````~UndoPathGlobalPlanner@{$\sim$UndoPathGlobalPlanner}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{$\sim$UndoPathGlobalPlanner()}{~UndoPathGlobalPlanner()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::$\sim$\+Undo\+Path\+Global\+Planner (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Virtual destructor. 



Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00049}{49}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050 \{}
\DoxyCodeLine{00051   \textcolor{comment}{// clear "{}rviz"{}-\/ publish empty path}}
\DoxyCodeLine{00052   nav\_msgs::msg::Path planMsg;}
\DoxyCodeLine{00053   planMsg.header.stamp = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00054   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{planPub\_}}-\/>publish(planMsg);}
\DoxyCodeLine{00055 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{plan\+Pub\+\_\+}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae68282596be3557dae6118d49bd4cacd}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae68282596be3557dae6118d49bd4cacd}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!activate@{activate}}
\index{activate@{activate}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Method to active planner and any threads involved in execution. 



Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00059}{59}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{}
\DoxyCodeLine{00061   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}activating planner UndoPathGlobalPlanner"{}});}
\DoxyCodeLine{00062   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{planPub\_}}-\/>on\_activate();}
\DoxyCodeLine{00063   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markersPub\_}}-\/>on\_activate();}
\DoxyCodeLine{00064 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{markers\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{plan\+Pub\+\_\+}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a802993bed51f09c07a0c93e608c8ee23}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a802993bed51f09c07a0c93e608c8ee23}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{cleanup()}{cleanup()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::cleanup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Method to cleanup resources used on shutdown. 



Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00057}{57}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057 \{ this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}{clearGoalMarker}}(); \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{clear\+Goal\+Marker()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a802993bed51f09c07a0c93e608c8ee23_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!clearGoalMarker@{clearGoalMarker}}
\index{clearGoalMarker@{clearGoalMarker}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{clearGoalMarker()}{clearGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::clear\+Goal\+Marker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}{clear\+Goal\+Marker()}} 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{120}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00121 \{}
\DoxyCodeLine{00122   visualization\_msgs::msg::Marker marker;}
\DoxyCodeLine{00123   marker.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00124   marker.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00125   marker.ns = \textcolor{stringliteral}{"{}my\_namespace2"{}};}
\DoxyCodeLine{00126   marker.id = 0;}
\DoxyCodeLine{00127   marker.type = visualization\_msgs::msg::Marker::ARROW;}
\DoxyCodeLine{00128   marker.action = visualization\_msgs::msg::Marker::DELETE;}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00130   visualization\_msgs::msg::MarkerArray ma;}
\DoxyCodeLine{00131   ma.markers.push\_back(marker);}
\DoxyCodeLine{00132   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markersPub\_}}-\/>publish(ma);}
\DoxyCodeLine{00133 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{costmap\+\_\+ros\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{markers\+Pub\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00057}{cleanup()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00066}{deactivate()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ac35d783de6adf9e4a3c33eb0bacf7892}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ac35d783de6adf9e4a3c33eb0bacf7892}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!configure@{configure}}
\index{configure@{configure}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{configure()}{configure()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::configure (\begin{DoxyParamCaption}\item[{const rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Weak\+Ptr \&}]{parent,  }\item[{std\+::string}]{name,  }\item[{std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Buffer $>$}]{tf,  }\item[{std\+::shared\+\_\+ptr$<$ nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS $>$}]{costmap\+\_\+ros }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyParams}{Parameters}
{\em parent} & pointer to user\textquotesingle{}s node \\
\hline
{\em name} & The name of this planner \\
\hline
{\em tf} & A pointer to a TF buffer \\
\hline
{\em costmap\+\_\+ros} & A pointer to the costmap\\
\hline
\end{DoxyParams}
initialize() 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{79}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00082 \{}
\DoxyCodeLine{00083   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}} = parent.lock();}
\DoxyCodeLine{00084   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}} = costmap\_ros;}
\DoxyCodeLine{00085   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}{tf\_}} = tf;}
\DoxyCodeLine{00086   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab75a2585ca821ae35f51eeb08eb9d3b5}{name\_}} = name;}
\DoxyCodeLine{00087   \textcolor{comment}{// RCLCPP\_WARN\_NAMED(nh\_-\/>get\_logger(), "{}Backwards"{}, "{}initializating global planner, costmap address: \%ld"{},}}
\DoxyCodeLine{00088   \textcolor{comment}{// (long)costmap\_ros);}}
\DoxyCodeLine{00089 }
\DoxyCodeLine{00090   rclcpp::SensorDataQoS qos;}
\DoxyCodeLine{00091   qos.keep\_last(2);}
\DoxyCodeLine{00092   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a27d593030d3805424bd452acd71f838f}{forwardPathSub\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>create\_subscription<nav\_msgs::msg::Path>(}
\DoxyCodeLine{00093     \textcolor{stringliteral}{"{}odom\_tracker\_path"{}}, qos,}
\DoxyCodeLine{00094     std::bind(\&\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957}{UndoPathGlobalPlanner::onForwardTrailMsg}}, \textcolor{keyword}{this}, std::placeholders::\_1));}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{planPub\_}} = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>create\_publisher<nav\_msgs::msg::Path>(\textcolor{stringliteral}{"{}undo\_path\_planner/global\_plan"{}}, 1);}
\DoxyCodeLine{00097   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markersPub\_}} =}
\DoxyCodeLine{00098     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>create\_publisher<visualization\_msgs::msg::MarkerArray>(\textcolor{stringliteral}{"{}undo\_path\_planner/markers"{}}, 1);}
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>declare\_parameter(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab75a2585ca821ae35f51eeb08eb9d3b5}{name\_}} + \textcolor{stringliteral}{"{}.transform\_tolerance"{}}, \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}{transform\_tolerance\_}});}
\DoxyCodeLine{00101 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{costmap\+\_\+ros\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00079}{forward\+Path\+Sub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{markers\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00106}{name\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00107}{on\+Forward\+Trail\+Msg()}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{plan\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00108}{tf\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00104}{transform\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ac35d783de6adf9e4a3c33eb0bacf7892_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0c9812e093f5264acdc3e6269323ca3e}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0c9812e093f5264acdc3e6269323ca3e}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!createDefaultUndoPathPlan@{createDefaultUndoPathPlan}}
\index{createDefaultUndoPathPlan@{createDefaultUndoPathPlan}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{createDefaultUndoPathPlan()}{createDefaultUndoPathPlan()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::create\+Default\+Undo\+Path\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{goal,  }\item[{std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \&}]{plan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}

default\+Backward\+Path() 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{181}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184 \{}
\DoxyCodeLine{00185   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ TRANSFORM TO GLOBAL FRAME PATH -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00186   \textcolor{comment}{// the forward plan might be recoreded in a different frame of the global (costmap) frame. Transform it.}}
\DoxyCodeLine{00187   \textcolor{comment}{// transform global plan to the navigation reference frame}}
\DoxyCodeLine{00188 }
\DoxyCodeLine{00189   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Transforming forward path"{}});}
\DoxyCodeLine{00190   nav\_msgs::msg::Path transformedPlan;}
\DoxyCodeLine{00191   rclcpp::Duration ttol = rclcpp::Duration::from\_seconds(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}{transform\_tolerance\_}});}
\DoxyCodeLine{00192   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} p : \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses)}
\DoxyCodeLine{00193   \{}
\DoxyCodeLine{00194     geometry\_msgs::msg::PoseStamped transformedPose;}
\DoxyCodeLine{00195     p.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();  \textcolor{comment}{// otherwise we can get some time tolerance error}}
\DoxyCodeLine{00196     transformedPose.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00197     transformedPose.header.frame\_id = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00198     nav\_2d\_utils::transformPose(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}{tf\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID(), p, transformedPose, ttol);}
\DoxyCodeLine{00199     transformedPlan.poses.push\_back(transformedPose);}
\DoxyCodeLine{00200   \}}
\DoxyCodeLine{00201 }
\DoxyCodeLine{00202   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}} = transformedPlan;}
\DoxyCodeLine{00203   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00204 }
\DoxyCodeLine{00205   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] finding goal closest point"{}});}
\DoxyCodeLine{00206   \textcolor{keywordtype}{int} i = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.size() -\/ 1;}
\DoxyCodeLine{00207   \textcolor{keywordtype}{double} linear\_mindist = std::numeric\_limits<double>::max();}
\DoxyCodeLine{00208   \textcolor{keywordtype}{int} mindistindex = -\/1;}
\DoxyCodeLine{00209   \textcolor{keywordtype}{double} startPoseAngle = tf2::getYaw(\mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.pose.orientation);}
\DoxyCodeLine{00210   geometry\_msgs::msg::Pose startPositionProjected;}
\DoxyCodeLine{00211 }
\DoxyCodeLine{00212   \textcolor{comment}{// The goal of this code is finding the most convenient initial path pose.}}
\DoxyCodeLine{00213   \textcolor{comment}{// first, find closest linear point to the current robot position}}
\DoxyCodeLine{00214   \textcolor{comment}{// we start from the final goal, that is, the beginning of the trajectory}}
\DoxyCodeLine{00215   \textcolor{comment}{// (since this was the forward motion from the odom tracker)}}
\DoxyCodeLine{00216   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& p : transformedPlan.poses \textcolor{comment}{/*| boost::adaptors::reversed*/})}
\DoxyCodeLine{00217   \{}
\DoxyCodeLine{00218     geometry\_msgs::msg::PoseStamped pose = p;}
\DoxyCodeLine{00219     pose.header.frame\_id = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00220 }
\DoxyCodeLine{00221     \textcolor{keywordtype}{double} dx = pose.pose.position.x -\/ \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.pose.position.x;}
\DoxyCodeLine{00222     \textcolor{keywordtype}{double} dy = pose.pose.position.y -\/ \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.pose.position.y;}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224     \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00225     \textcolor{keywordtype}{double} angleOrientation = tf2::getYaw(pose.pose.orientation);}
\DoxyCodeLine{00226     \textcolor{keywordtype}{double} angleError = fabs(angles::shortest\_angular\_distance(angleOrientation, startPoseAngle));}
\DoxyCodeLine{00227     \textcolor{keywordflow}{if} (dist <= linear\_mindist)}
\DoxyCodeLine{00228     \{}
\DoxyCodeLine{00229       mindistindex = i;}
\DoxyCodeLine{00230       linear\_mindist = dist;}
\DoxyCodeLine{00231       startPositionProjected = pose.pose;}
\DoxyCodeLine{00232 }
\DoxyCodeLine{00233       RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00234         \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] initial start point search, NEWBEST\_LINEAR= "{}}}
\DoxyCodeLine{00235                              << i << \textcolor{stringliteral}{"{}. error, linear: "{}} << linear\_mindist}
\DoxyCodeLine{00236                              << \textcolor{stringliteral}{"{}, angular: "{}} << angleError);}
\DoxyCodeLine{00237     \}}
\DoxyCodeLine{00238     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00239     \{}
\DoxyCodeLine{00240       RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00241         \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] initial start point search, skipped= "{}}}
\DoxyCodeLine{00242                              << i << \textcolor{stringliteral}{"{}. best linear error: "{}} << linear\_mindist}
\DoxyCodeLine{00243                              << \textcolor{stringliteral}{"{}. current error, linear: "{}} << dist << \textcolor{stringliteral}{"{} angular: "{}} << angleError);}
\DoxyCodeLine{00244     \}}
\DoxyCodeLine{00245 }
\DoxyCodeLine{00246     i-\/-\/;}
\DoxyCodeLine{00247   \}}
\DoxyCodeLine{00248 }
\DoxyCodeLine{00249   \textcolor{keywordtype}{double} \textcolor{keyword}{const} ERROR\_DISTANCE\_PURE\_SPINNING\_FACTOR = 1.5;}
\DoxyCodeLine{00250   \textcolor{comment}{// Concept of second pass: now we only consider a pure spinning motion in this point. We want to consume some very}}
\DoxyCodeLine{00251   \textcolor{comment}{// close angular targets, (accepting a larger linear minerror of 1.5 besterror. That is, more or less in the same}}
\DoxyCodeLine{00252   \textcolor{comment}{// point).}}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00254   RCLCPP\_DEBUG(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] second angular pass"{}});}
\DoxyCodeLine{00255   \textcolor{keywordtype}{double} angularMinDist = std::numeric\_limits<double>::max();}
\DoxyCodeLine{00256 }
\DoxyCodeLine{00257   \textcolor{keywordflow}{if} (mindistindex >= (\textcolor{keywordtype}{int})transformedPlan.poses.size())}
\DoxyCodeLine{00258     mindistindex =}
\DoxyCodeLine{00259       transformedPlan.poses.size() -\/}
\DoxyCodeLine{00260       1;  \textcolor{comment}{// workaround, something is making a out of bound exception in poses array access}}
\DoxyCodeLine{00261   \{}
\DoxyCodeLine{00262     \textcolor{keywordflow}{if} (transformedPlan.poses.size() == 0)}
\DoxyCodeLine{00263     \{}
\DoxyCodeLine{00264       RCLCPP\_WARN\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Warning possible bug"{}});}
\DoxyCodeLine{00265     \}}
\DoxyCodeLine{00266 }
\DoxyCodeLine{00267     \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/ FULL FORWARD PASS TO FIND THE STARTING POIINT OF THE FORWARD MOTION -\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00268     RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] second pass loop"{}});}
\DoxyCodeLine{00269     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = mindistindex; i >= 0; i-\/-\/)}
\DoxyCodeLine{00270     \{}
\DoxyCodeLine{00271       \textcolor{comment}{// warning this index, i refers to some inverse interpretation from the previous loop,}}
\DoxyCodeLine{00272       \textcolor{comment}{// (last indexes in this path corresponds to the poses closer to our current position)}}
\DoxyCodeLine{00273       RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00274         \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] "{}} << i << \textcolor{stringliteral}{"{}/"{}} << transformedPlan.poses.size());}
\DoxyCodeLine{00275       \textcolor{keyword}{auto} index = (int)transformedPlan.poses.size() -\/ i -\/ 1;}
\DoxyCodeLine{00276       \textcolor{keywordflow}{if} (index < 0 || (\textcolor{keywordtype}{size\_t})index >= transformedPlan.poses.size())}
\DoxyCodeLine{00277       \{}
\DoxyCodeLine{00278         RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00279           \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00280           \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] this should not happen. Check implementation."{}});}
\DoxyCodeLine{00281         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00282       \}}
\DoxyCodeLine{00283       geometry\_msgs::msg::PoseStamped pose =}
\DoxyCodeLine{00284         transformedPlan.poses[transformedPlan.poses.size() -\/ i -\/ 1];}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286       RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] global frame"{}});}
\DoxyCodeLine{00287       pose.header.frame\_id = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289       \textcolor{keywordtype}{double} dx = pose.pose.position.x -\/ \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.pose.position.x;}
\DoxyCodeLine{00290       \textcolor{keywordtype}{double} dy = pose.pose.position.y -\/ \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.pose.position.y;}
\DoxyCodeLine{00291 }
\DoxyCodeLine{00292       \textcolor{keywordtype}{double} dist = sqrt(dx * dx + dy * dy);}
\DoxyCodeLine{00293       \textcolor{keywordflow}{if} (dist <= linear\_mindist * ERROR\_DISTANCE\_PURE\_SPINNING\_FACTOR)}
\DoxyCodeLine{00294       \{}
\DoxyCodeLine{00295         \textcolor{keywordtype}{double} angleOrientation = tf2::getYaw(pose.pose.orientation);}
\DoxyCodeLine{00296         \textcolor{keywordtype}{double} angleError =}
\DoxyCodeLine{00297           fabs(angles::shortest\_angular\_distance(angleOrientation, startPoseAngle));}
\DoxyCodeLine{00298         \textcolor{keywordflow}{if} (angleError < angularMinDist)}
\DoxyCodeLine{00299         \{}
\DoxyCodeLine{00300           angularMinDist = angleError;}
\DoxyCodeLine{00301           mindistindex = i;}
\DoxyCodeLine{00302           RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00303             \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00304             \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] initial start point search (angular update), NEWBEST\_ANGULAR= "{}}}
\DoxyCodeLine{00305               << i << \textcolor{stringliteral}{"{}. error, linear: "{}} << dist << \textcolor{stringliteral}{"{}("{}} << linear\_mindist << \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{00306               << \textcolor{stringliteral}{"{}, angular: "{}} << angleError << \textcolor{stringliteral}{"{}("{}} << angularMinDist << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00307         \}}
\DoxyCodeLine{00308         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00309         \{}
\DoxyCodeLine{00310           RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00311             \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00312             \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] initial start point search (angular update), skipped= "{}}}
\DoxyCodeLine{00313               << i << \textcolor{stringliteral}{"{}. error, linear: "{}} << dist << \textcolor{stringliteral}{"{}("{}} << linear\_mindist << \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{00314               << \textcolor{stringliteral}{"{}, angular: "{}} << angleError << \textcolor{stringliteral}{"{}("{}} << angularMinDist << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00315         \}}
\DoxyCodeLine{00316       \}}
\DoxyCodeLine{00317       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00318       \{}
\DoxyCodeLine{00319         RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00320           \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00321           \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] initial start point search (angular update) not in linear "{}}}
\DoxyCodeLine{00322           \textcolor{stringliteral}{"{}range, skipped= "{}}}
\DoxyCodeLine{00323             << i << \textcolor{stringliteral}{"{} linear error: "{}} << dist << \textcolor{stringliteral}{"{}("{}} << linear\_mindist << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00324       \}}
\DoxyCodeLine{00325     \}}
\DoxyCodeLine{00326   \}}
\DoxyCodeLine{00327 }
\DoxyCodeLine{00328   \textcolor{comment}{// REVERSE FORWARD PASS}}
\DoxyCodeLine{00329   \textcolor{keywordflow}{if} (mindistindex != -\/1)}
\DoxyCodeLine{00330   \{}
\DoxyCodeLine{00331     \textcolor{comment}{// plan.push\_back(start);}}
\DoxyCodeLine{00332 }
\DoxyCodeLine{00333     RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00334       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00335       \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Creating the backwards plan from odom tracker path (, "{}}}
\DoxyCodeLine{00336         << transformedPlan.poses.size() << \textcolor{stringliteral}{"{}) poses"{}});}
\DoxyCodeLine{00337 }
\DoxyCodeLine{00338     RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00339       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] closer point to goal i="{}}}
\DoxyCodeLine{00340                            << mindistindex << \textcolor{stringliteral}{"{} (linear min dist "{}} << linear\_mindist << \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342     \textcolor{comment}{// copy the path at the inverse direction, but only up to the closest point to the goal in the path  (for partial undoing)}}
\DoxyCodeLine{00343     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = transformedPlan.poses.size() -\/ 1; i >= mindistindex; i-\/-\/)}
\DoxyCodeLine{00344     \{}
\DoxyCodeLine{00345       \textcolor{keyword}{auto} \& pose = transformedPlan.poses[i];}
\DoxyCodeLine{00346 }
\DoxyCodeLine{00347       rclcpp::Time t(pose.header.stamp);}
\DoxyCodeLine{00348 }
\DoxyCodeLine{00349       RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00350         \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00351         \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] adding to plan i = "{}} << i << \textcolor{stringliteral}{"{} stamp:"{}} << t.seconds());}
\DoxyCodeLine{00352       plan.push\_back(pose);}
\DoxyCodeLine{00353     \}}
\DoxyCodeLine{00354     RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{00355       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] refined plan has "{}} << plan.size() << \textcolor{stringliteral}{"{}  points"{}});}
\DoxyCodeLine{00356   \}}
\DoxyCodeLine{00357   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00358   \{}
\DoxyCodeLine{00359     RCLCPP\_ERROR\_STREAM(}
\DoxyCodeLine{00360       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner ] undo global plan size:  "{}} << plan.size());}
\DoxyCodeLine{00361   \}}
\DoxyCodeLine{00362 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{costmap\+\_\+ros\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00085}{last\+Forward\+Path\+Msg\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, \mbox{\hyperlink{sm__atomic__performance__test_2include_2sm__atomic__performance__test_2states_2st__state__2_8hpp_source_l00024}{sm\+\_\+atomic\+\_\+performance\+\_\+test\+::start}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00108}{tf\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00104}{transform\+\_\+tolerance\+\_\+}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0c9812e093f5264acdc3e6269323ca3e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0d7bf41d9f1c900cdb06c1526e1148c8}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0d7bf41d9f1c900cdb06c1526e1148c8}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!createPlan@{createPlan}}
\index{createPlan@{createPlan}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{createPlan()}{createPlan()}}
{\footnotesize\ttfamily nav\+\_\+msgs\+::msg\+::\+Path cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::create\+Plan (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{start,  }\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped \&}]{goal }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Method create the plan from a starting and ending goal. 


\begin{DoxyParams}{Parameters}
{\em start} & The starting pose of the robot \\
\hline
{\em goal} & The goal pose of the robot \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The sequence of poses to get from start to goal, if any
\end{DoxyReturn}
make\+Plan() 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{369}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00371 \{}
\DoxyCodeLine{00372   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ BASIC CHECKS -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Undo global plan start "{}});}
\DoxyCodeLine{00375   nav\_msgs::msg::Path planMsg;}
\DoxyCodeLine{00376   std::vector<geometry\_msgs::msg::PoseStamped> \& plan = planMsg.poses;}
\DoxyCodeLine{00377 }
\DoxyCodeLine{00378   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00379     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00380     \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] last forward path msg size: "{}} << \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.size());}
\DoxyCodeLine{00381   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00382     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] last forward path frame id: "{}}}
\DoxyCodeLine{00383                          << \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.front().header.frame\_id);}
\DoxyCodeLine{00384   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00385     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] start pose frame id: "{}} << \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.header.frame\_id);}
\DoxyCodeLine{00386   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00387     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] goal pose frame id: "{}} << goal.header.frame\_id);}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.size() == 0)}
\DoxyCodeLine{00390   \{}
\DoxyCodeLine{00391     \textcolor{keywordflow}{return} planMsg;}
\DoxyCodeLine{00392   \}}
\DoxyCodeLine{00393 }
\DoxyCodeLine{00394   \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ INPUTS ACCOMMODATION -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00395   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Inputs accommodation"{}});}
\DoxyCodeLine{00396   geometry\_msgs::msg::PoseStamped transformedStart, transformedGoal;}
\DoxyCodeLine{00397   \{}
\DoxyCodeLine{00398     rclcpp::Duration ttol = rclcpp::Duration::from\_seconds(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}{transform\_tolerance\_}});}
\DoxyCodeLine{00399 }
\DoxyCodeLine{00400     geometry\_msgs::msg::PoseStamped pstart = \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}};}
\DoxyCodeLine{00401     pstart.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00402     nav\_2d\_utils::transformPose(}
\DoxyCodeLine{00403       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}{tf\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID(), pstart, transformedStart, ttol);}
\DoxyCodeLine{00404     transformedStart.header.frame\_id = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00405 }
\DoxyCodeLine{00406     \textcolor{comment}{// geometry\_msgs::msg::PoseStamped pgoal = goal;}}
\DoxyCodeLine{00407     \textcolor{comment}{// pgoal.header.stamp = nh\_-\/>now();}}
\DoxyCodeLine{00408     \textcolor{comment}{// nav\_2d\_utils::transformPose(tf\_, costmap\_ros\_-\/>getGlobalFrameID(), pgoal, transformedGoal, ttol);}}
\DoxyCodeLine{00409     \textcolor{comment}{// transformedGoal.header.frame\_id = costmap\_ros\_-\/>getGlobalFrameID();}}
\DoxyCodeLine{00410 }
\DoxyCodeLine{00411     \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ FORCE GOAL POSE-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00412     RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Forced goal"{}});}
\DoxyCodeLine{00413     \textcolor{keyword}{auto} forcedGoal =}
\DoxyCodeLine{00414       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses[\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.size() -\/ 1];  \textcolor{comment}{// FORCE LAST POSE}}
\DoxyCodeLine{00415     forcedGoal.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00416     nav\_2d\_utils::transformPose(}
\DoxyCodeLine{00417       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}{tf\_}}, \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID(), forcedGoal, transformedGoal, ttol);}
\DoxyCodeLine{00418     transformedGoal.header.frame\_id = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00419   \}}
\DoxyCodeLine{00420 }
\DoxyCodeLine{00421   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ CREATING GLOBAL PLAN -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00422   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] Creating undo plan"{}});}
\DoxyCodeLine{00423   this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0c9812e093f5264acdc3e6269323ca3e}{createDefaultUndoPathPlan}}(transformedStart, transformedGoal, plan);}
\DoxyCodeLine{00424   planMsg.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00425 }
\DoxyCodeLine{00426   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] publishing goal markers"{}});}
\DoxyCodeLine{00427   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e}{publishGoalMarker}}(plan.back().pose, 1.0, 0, 1.0 \textcolor{comment}{/*purple color*/});}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/  CHECKING VALID PLAN -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00430   \textcolor{keywordtype}{bool} acceptedGlobalPlan = \textcolor{keyword}{true};}
\DoxyCodeLine{00431   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] valid plan checking"{}});}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \textcolor{keyword}{auto} costmap2d = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getCostmap();}
\DoxyCodeLine{00434   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& p : plan)}
\DoxyCodeLine{00435   \{}
\DoxyCodeLine{00436     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mx, my;}
\DoxyCodeLine{00437     costmap2d-\/>worldToMap(p.pose.position.x, p.pose.position.y, mx, my);}
\DoxyCodeLine{00438     \textcolor{keyword}{auto} cost = costmap2d-\/>getCost(mx, my);}
\DoxyCodeLine{00439 }
\DoxyCodeLine{00440     \textcolor{keywordflow}{if} (cost >= nav2\_costmap\_2d::INSCRIBED\_INFLATED\_OBSTACLE)}
\DoxyCodeLine{00441     \{}
\DoxyCodeLine{00442       acceptedGlobalPlan = \textcolor{keyword}{false};}
\DoxyCodeLine{00443       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00444     \}}
\DoxyCodeLine{00445   \}}
\DoxyCodeLine{00446 }
\DoxyCodeLine{00447   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/  PUBLISHING RESULTS -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00448   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00449     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] plan publishing. size: "{}} << plan.size());}
\DoxyCodeLine{00450   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{planPub\_}}-\/>publish(planMsg);}
\DoxyCodeLine{00451   \textcolor{keywordflow}{if} (!acceptedGlobalPlan)}
\DoxyCodeLine{00452   \{}
\DoxyCodeLine{00453     RCLCPP\_INFO(}
\DoxyCodeLine{00454       \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(),}
\DoxyCodeLine{00455       \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] not accepted global plan because of possible collision"{}});}
\DoxyCodeLine{00456   \}}
\DoxyCodeLine{00457 }
\DoxyCodeLine{00458   RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{00459     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] plan publishing. size: "{}} << planMsg.poses.size());}
\DoxyCodeLine{00460 }
\DoxyCodeLine{00461   \textcolor{keywordflow}{return} planMsg;}
\DoxyCodeLine{00462 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{costmap\+\_\+ros\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00085}{last\+Forward\+Path\+Msg\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{plan\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00140}{publish\+Goal\+Marker()}}, \mbox{\hyperlink{sm__atomic__performance__test_2include_2sm__atomic__performance__test_2states_2st__state__2_8hpp_source_l00024}{sm\+\_\+atomic\+\_\+performance\+\_\+test\+::start}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00108}{tf\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00104}{transform\+\_\+tolerance\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0d7bf41d9f1c900cdb06c1526e1148c8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae2be0c7ba0543e736fcb68a6b7e6c1aa}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae2be0c7ba0543e736fcb68a6b7e6c1aa}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Method to deactivate planner and any threads involved in execution. 



Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00066}{66}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067 \{}
\DoxyCodeLine{00068   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}deactivating planner UndoPathGlobalPlanner"{}});}
\DoxyCodeLine{00069   this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a52bd1e9fe97ef72c92c476a429745483}{clearGoalMarker}}();}
\DoxyCodeLine{00070   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}{planPub\_}}-\/>on\_deactivate();}
\DoxyCodeLine{00071   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markersPub\_}}-\/>on\_deactivate();}
\DoxyCodeLine{00072 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{clear\+Goal\+Marker()}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{markers\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{plan\+Pub\+\_\+}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae2be0c7ba0543e736fcb68a6b7e6c1aa_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!onForwardTrailMsg@{onForwardTrailMsg}}
\index{onForwardTrailMsg@{onForwardTrailMsg}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{onForwardTrailMsg()}{onForwardTrailMsg()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::on\+Forward\+Trail\+Msg (\begin{DoxyParamCaption}\item[{const nav\+\_\+msgs\+::msg\+::\+Path\+::\+Shared\+Ptr}]{forward\+Path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957}{on\+Forward\+Trail\+Msg()}} 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00107}{107}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108 \{}
\DoxyCodeLine{00109   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}} = *forwardPath;}
\DoxyCodeLine{00110   RCLCPP\_DEBUG\_STREAM(}
\DoxyCodeLine{00111     \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>get\_logger(), \textcolor{stringliteral}{"{}[UndoPathGlobalPlanner] received backward path msg poses ["{}}}
\DoxyCodeLine{00112                          << \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}{lastForwardPathMsg\_}}.poses.size() << \textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{00113 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00085}{last\+Forward\+Path\+Msg\+\_\+}}, and \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a0bbd9c427608369f92d52a401ad8f957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!publishGoalMarker@{publishGoalMarker}}
\index{publishGoalMarker@{publishGoalMarker}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{publishGoalMarker()}{publishGoalMarker()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::publish\+Goal\+Marker (\begin{DoxyParamCaption}\item[{const geometry\+\_\+msgs\+::msg\+::\+Pose \&}]{pose,  }\item[{double}]{r,  }\item[{double}]{g,  }\item[{double}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e}{publish\+Goal\+Marker()}} 

Definition at line \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00140}{140}} of file \mbox{\hyperlink{undo__path__global__planner_8cpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00142 \{}
\DoxyCodeLine{00143   \textcolor{keywordtype}{double} phi = tf2::getYaw(pose.orientation);}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   visualization\_msgs::msg::Marker marker;}
\DoxyCodeLine{00146   marker.header.frame\_id = this-\/>\mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}{costmap\_ros\_}}-\/>getGlobalFrameID();}
\DoxyCodeLine{00147   marker.header.stamp = \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}{nh\_}}-\/>now();}
\DoxyCodeLine{00148   marker.ns = \textcolor{stringliteral}{"{}my\_namespace2"{}};}
\DoxyCodeLine{00149   marker.id = 0;}
\DoxyCodeLine{00150   marker.type = visualization\_msgs::msg::Marker::ARROW;}
\DoxyCodeLine{00151   marker.action = visualization\_msgs::msg::Marker::ADD;}
\DoxyCodeLine{00152   marker.scale.x = 0.1;}
\DoxyCodeLine{00153   marker.scale.y = 0.3;}
\DoxyCodeLine{00154   marker.scale.z = 0.1;}
\DoxyCodeLine{00155   marker.color.a = 1.0;}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157   marker.color.r = r;}
\DoxyCodeLine{00158   marker.color.g = g;}
\DoxyCodeLine{00159   marker.color.b = b;}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   geometry\_msgs::msg::Point \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}, end;}
\DoxyCodeLine{00162   \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.x = pose.position.x;}
\DoxyCodeLine{00163   \mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}}.y = pose.position.y;}
\DoxyCodeLine{00164 }
\DoxyCodeLine{00165   end.x = pose.position.x + 0.5 * cos(phi);}
\DoxyCodeLine{00166   end.y = pose.position.y + 0.5 * sin(phi);}
\DoxyCodeLine{00167 }
\DoxyCodeLine{00168   marker.points.push\_back(\mbox{\hyperlink{namespacesm__atomic__performance__test_a5c0c1b6954a6b242c834e5b078e3bbb8}{start}});}
\DoxyCodeLine{00169   marker.points.push\_back(end);}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171   visualization\_msgs::msg::MarkerArray ma;}
\DoxyCodeLine{00172   ma.markers.push\_back(marker);}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174   \mbox{\hyperlink{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}{markersPub\_}}-\/>publish(ma);}
\DoxyCodeLine{00175 \}}

\end{DoxyCode}


References \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{costmap\+\_\+ros\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{markers\+Pub\+\_\+}}, \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{nh\+\_\+}}, and \mbox{\hyperlink{sm__atomic__performance__test_2include_2sm__atomic__performance__test_2states_2st__state__2_8hpp_source_l00024}{sm\+\_\+atomic\+\_\+performance\+\_\+test\+::start}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a8f6cd2c0a8cdc8850233919ea54a3a8e_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a3b080e9391fc4330b50f584baf15099a}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!costmap\_ros\_@{costmap\_ros\_}}
\index{costmap\_ros\_@{costmap\_ros\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{costmap\_ros\_}{costmap\_ros\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$nav2\+\_\+costmap\+\_\+2d\+::\+Costmap2\+DROS$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::costmap\+\_\+ros\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



stored but almost not used 



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00088}{88}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{clear\+Goal\+Marker()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00140}{publish\+Goal\+Marker()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a27d593030d3805424bd452acd71f838f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a27d593030d3805424bd452acd71f838f}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!forwardPathSub\_@{forwardPathSub\_}}
\index{forwardPathSub\_@{forwardPathSub\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{forwardPathSub\_}{forwardPathSub\_}}
{\footnotesize\ttfamily rclcpp\+::\+Subscription$<$nav\+\_\+msgs\+::msg\+::\+Path$>$\+::\+Shared\+Ptr cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::forward\+Path\+Sub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00079}{79}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad04ac1723fc8f208d6374daa2a767f30}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!lastForwardPathMsg\_@{lastForwardPathMsg\_}}
\index{lastForwardPathMsg\_@{lastForwardPathMsg\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{lastForwardPathMsg\_}{lastForwardPathMsg\_}}
{\footnotesize\ttfamily nav\+\_\+msgs\+::msg\+::\+Path cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::last\+Forward\+Path\+Msg\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00085}{85}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00107}{on\+Forward\+Trail\+Msg()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ad1087c199dd510549b94fade2148dfdb}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!markersPub\_@{markersPub\_}}
\index{markersPub\_@{markersPub\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{markersPub\_}{markersPub\_}}
{\footnotesize\ttfamily rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$visualization\+\_\+msgs\+::msg\+::\+Marker\+Array$>$\+::\+Shared\+Ptr cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::markers\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00083}{83}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00059}{activate()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{clear\+Goal\+Marker()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00066}{deactivate()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00140}{publish\+Goal\+Marker()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab75a2585ca821ae35f51eeb08eb9d3b5}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ab75a2585ca821ae35f51eeb08eb9d3b5}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!name\_@{name\_}}
\index{name\_@{name\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{name\_}{name\_}}
{\footnotesize\ttfamily std\+::string cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::name\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00106}{106}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a1ffa594391b0f505558af39ad5d52939}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!nh\_@{nh\_}}
\index{nh\_@{nh\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{nh\_}{nh\_}}
{\footnotesize\ttfamily rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Node\+::\+Shared\+Ptr cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::nh\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00078}{78}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00059}{activate()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00120}{clear\+Goal\+Marker()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00066}{deactivate()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00107}{on\+Forward\+Trail\+Msg()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00140}{publish\+Goal\+Marker()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00049}{$\sim$\+Undo\+Path\+Global\+Planner()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_aad2cb6fe38d15acc50a7469c3a23eb6d}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!planPub\_@{planPub\_}}
\index{planPub\_@{planPub\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{planPub\_}{planPub\_}}
{\footnotesize\ttfamily rclcpp\+\_\+lifecycle\+::\+Lifecycle\+Publisher$<$nav\+\_\+msgs\+::msg\+::\+Path$>$\+::\+Shared\+Ptr cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::plan\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00081}{81}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00059}{activate()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00066}{deactivate()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00049}{$\sim$\+Undo\+Path\+Global\+Planner()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a70302868b1ec995ddb7b0ae094591c8f}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!puresSpinningRadStep\_@{puresSpinningRadStep\_}}
\index{puresSpinningRadStep\_@{puresSpinningRadStep\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{puresSpinningRadStep\_}{puresSpinningRadStep\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::pures\+Spinning\+Rad\+Step\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00102}{102}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a9cb4fb49c952deeb77eb1cb9648d122f}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!skip\_straight\_motion\_distance\_@{skip\_straight\_motion\_distance\_}}
\index{skip\_straight\_motion\_distance\_@{skip\_straight\_motion\_distance\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{skip\_straight\_motion\_distance\_}{skip\_straight\_motion\_distance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::skip\+\_\+straight\+\_\+motion\+\_\+distance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00100}{100}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00043}{Undo\+Path\+Global\+Planner()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_a69eae2ce7ee9a6eb6f64cb84d094d275}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!tf\_@{tf\_}}
\index{tf\_@{tf\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{tf\_}{tf\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf2\+\_\+ros\+::\+Buffer$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::tf\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00108}{108}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}.

\mbox{\Hypertarget{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}\label{classcl__move__base__z_1_1undo__path__global__planner_1_1UndoPathGlobalPlanner_ae0e6085c3aaf011852b2635ff77259b9}} 
\index{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}!transform\_tolerance\_@{transform\_tolerance\_}}
\index{transform\_tolerance\_@{transform\_tolerance\_}!cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner@{cl\_move\_base\_z::undo\_path\_global\_planner::UndoPathGlobalPlanner}}
\doxysubsubsection{\texorpdfstring{transform\_tolerance\_}{transform\_tolerance\_}}
{\footnotesize\ttfamily double cl\+\_\+move\+\_\+base\+\_\+z\+::undo\+\_\+path\+\_\+global\+\_\+planner\+::\+Undo\+Path\+Global\+Planner\+::transform\+\_\+tolerance\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{undo__path__global__planner_8hpp_source_l00104}{104}} of file \mbox{\hyperlink{undo__path__global__planner_8hpp_source}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}.



Referenced by \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00079}{configure()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00181}{create\+Default\+Undo\+Path\+Plan()}}, \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00369}{create\+Plan()}}, and \mbox{\hyperlink{undo__path__global__planner_8cpp_source_l00043}{Undo\+Path\+Global\+Planner()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/undo\+\_\+path\+\_\+global\+\_\+planner/include/undo\+\_\+path\+\_\+global\+\_\+planner/\mbox{\hyperlink{undo__path__global__planner_8hpp}{undo\+\_\+path\+\_\+global\+\_\+planner.\+hpp}}\item 
smacc2\+\_\+client\+\_\+library/move\+\_\+base\+\_\+z\+\_\+client/custom\+\_\+planners/undo\+\_\+path\+\_\+global\+\_\+planner/src/undo\+\_\+path\+\_\+global\+\_\+planner/\mbox{\hyperlink{undo__path__global__planner_8cpp}{undo\+\_\+path\+\_\+global\+\_\+planner.\+cpp}}\end{DoxyCompactItemize}
