\hypertarget{opencv__perception__node_8cpp}{}\doxysection{smacc2\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1/servers/opencv\+\_\+perception\+\_\+node/opencv\+\_\+perception\+\_\+node.cpp File Reference}
\label{opencv__perception__node_8cpp}\index{smacc2\_sm\_reference\_library/sm\_husky\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp@{smacc2\_sm\_reference\_library/sm\_husky\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp}}
{\ttfamily \#include \char`\"{}cv\+\_\+mat\+\_\+sensor\+\_\+msgs\+\_\+image\+\_\+type\+\_\+adapter.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$rclcpp/rclcpp.\+hpp$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/msg/image.\+hpp$>$}\newline
{\ttfamily \#include $<$std\+\_\+msgs/msg/int32.\+hpp$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$opencv2/opencv.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/features2d.\+hpp$>$}\newline
Include dependency graph for opencv\+\_\+perception\+\_\+node.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}{segment\+Color}} (const cv\+::\+Mat \&input\+RGB, int hue\+Mean, int hue\+Window, cv\+::\+Mat \&out, int min\+Saturation=20, int min\+Value=20, \mbox{\hyperlink{classbool}{bool}} img\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{test\+Image}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::string color\+Name, int hue\+Mean, int hue\+Window, std\+::string message=\char`\"{}\char`\"{}, int min\+Saturation=20, int min\+Value=20, int min\+Blob\+Area=100, \mbox{\hyperlink{classbool}{bool}} img\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256}{test\+Red}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64}{test\+Blue}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003}{test\+Green}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87}{test\+Yellow}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}{test\+Yellow\+File}} (std\+::string path)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}{test\+Red\+File}} (std\+::string path)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}{test\+Blue\+File}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}{test\+Green\+File}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}{encoding2mat\+\_\+type}} (const std\+::string \&encoding)
\item 
cv\+::\+Mat \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\+\_\+cv\+\_\+mat}} (const sensor\+\_\+msgs\+::msg\+::\+Image \&img)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da}{callback}} (const sensor\+\_\+msgs\+::msg\+::\+Image \&img)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}{main\+\_\+ros\+\_\+loop}} (int argc, char $\ast$$\ast$argv)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
rclcpp\+::\+Publisher$<$ std\+\_\+msgs\+::msg\+::\+Int32 $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_ac5014450a03f58f3bc843ec20fafba2e}{detection\+Pub}}
\item 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debug\+Image\+Pub}}
\item 
rclcpp\+::\+Subscription$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}{image\+Sub}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da}\label{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!callback@{callback}}
\index{callback@{callback}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void callback (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::msg\+::\+Image \&}]{img }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{204}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00205 \{}
\DoxyCodeLine{00206   cv::Mat image = \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\_cv\_mat}}(img);}
\DoxyCodeLine{00207   sensor\_msgs::msg::Image outimg = img;}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209   \textcolor{comment}{// cv::cvtColor(image, outmat, cv::COLOR\_RGB2BGR);}}
\DoxyCodeLine{00210   \textcolor{comment}{// cv::cvtColor(image, image, cv::COLOR\_RGB2BGR);}}
\DoxyCodeLine{00211   \textcolor{keyword}{auto} outmat = \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\_cv\_mat}}(outimg);}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213 }
\DoxyCodeLine{00214   \textcolor{keywordtype}{int} detectedColor = 0;}
\DoxyCodeLine{00215   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256}{testRed}}(image, outmat) > 0)}
\DoxyCodeLine{00216   \{}
\DoxyCodeLine{00217     detectedColor = 1;}
\DoxyCodeLine{00218   \}}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003}{testGreen}}(image, outmat) > 0)}
\DoxyCodeLine{00221   \{}
\DoxyCodeLine{00222     detectedColor = 2;}
\DoxyCodeLine{00223   \}}
\DoxyCodeLine{00224 }
\DoxyCodeLine{00225   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64}{testBlue}}(image, outmat) > 0)}
\DoxyCodeLine{00226   \{}
\DoxyCodeLine{00227     detectedColor = 3;}
\DoxyCodeLine{00228   \}}
\DoxyCodeLine{00229 }
\DoxyCodeLine{00230   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87}{testYellow}}(image, outmat) > 0)}
\DoxyCodeLine{00231   \{}
\DoxyCodeLine{00232     detectedColor = 4;}
\DoxyCodeLine{00233   \}}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235   std\_msgs::msg::Int32 detectedColorMsg;}
\DoxyCodeLine{00236   detectedColorMsg.data = detectedColor;}
\DoxyCodeLine{00237   \mbox{\hyperlink{opencv__perception__node_8cpp_ac5014450a03f58f3bc843ec20fafba2e}{detectionPub}}-\/>publish(detectedColorMsg);}
\DoxyCodeLine{00238 }
\DoxyCodeLine{00239 }
\DoxyCodeLine{00240   outimg.header = img.header;}
\DoxyCodeLine{00241   \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debugImagePub}}-\/>publish(outimg);}
\DoxyCodeLine{00242 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00045}{debug\+Image\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00044}{detection\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00109}{test\+Blue()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00115}{test\+Green()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00104}{test\+Red()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00120}{test\+Yellow()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00196}{to\+\_\+cv\+\_\+mat()}}.



Referenced by \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00314}{smacc2\+::utils\+::\+Bind$<$ 1 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00325}{smacc2\+::utils\+::\+Bind$<$ 2 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00336}{smacc2\+::utils\+::\+Bind$<$ 3 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00347}{smacc2\+::utils\+::\+Bind$<$ 4 $>$\+::bindaux()}}, \mbox{\hyperlink{state__reactor_8cpp_source_l00070}{smacc2\+::introspection\+::\+Event\+Generator\+Handler\+::configure\+Event\+Generator()}}, \mbox{\hyperlink{state__reactor_8cpp_source_l00062}{smacc2\+::introspection\+::\+State\+Reactor\+Handler\+::configure\+State\+Reactor()}}, \mbox{\hyperlink{smacc__client__impl_8hpp_source_l00138}{smacc2\+::\+ISmacc\+Client\+::connect\+Signal()}}, \mbox{\hyperlink{smacc__state__reactor__impl_8hpp_source_l00057}{smacc2\+::\+State\+Reactor\+::create\+Event\+Callback()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00358}{smacc2\+::\+ISmacc\+State\+Machine\+::create\+Signal\+Connection()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{main\+\_\+ros\+\_\+loop()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00165}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Aborted()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00177}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Cancelled()}}, \mbox{\hyperlink{cp__topic__subscriber_8hpp_source_l00061}{smacc2\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+First\+Message\+Received()}}, \mbox{\hyperlink{smacc__subscriber__client_8hpp_source_l00066}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Subscriber\+Client$<$ Message\+Type $>$\+::on\+First\+Message\+Received()}}, \mbox{\hyperlink{cl__keyboard_8hpp_source_l00172}{cl\+\_\+keyboard\+::\+Cl\+Keyboard\+::\+On\+Key\+Press()}}, \mbox{\hyperlink{cp__topic__subscriber_8hpp_source_l00054}{smacc2\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+Message\+Received()}}, \mbox{\hyperlink{smacc__subscriber__client_8hpp_source_l00059}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Subscriber\+Client$<$ Message\+Type $>$\+::on\+Message\+Received()}}, \mbox{\hyperlink{cl__multirole__sensor_8hpp_source_l00049}{cl\+\_\+multirole\+\_\+sensor\+::\+Cl\+Multirole\+Sensor$<$ Message\+Type $>$\+::on\+Message\+Timeout()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00153}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Succeeded()}}, and \mbox{\hyperlink{sr__conditional_8hpp_source_l00039}{smacc2\+::state\+\_\+reactors\+::\+Sr\+Conditional$<$ TEv $>$\+::\+Sr\+Conditional()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}\label{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!encoding2mat\_type@{encoding2mat\_type}}
\index{encoding2mat\_type@{encoding2mat\_type}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{encoding2mat\_type()}{encoding2mat\_type()}}
{\footnotesize\ttfamily int encoding2mat\+\_\+type (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{encoding }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00173}{173}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00174 \{}
\DoxyCodeLine{00175   \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}mono8"{}}) \{}
\DoxyCodeLine{00176     \textcolor{keywordflow}{return} CV\_8UC1;}
\DoxyCodeLine{00177   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}bgr8"{}}) \{}
\DoxyCodeLine{00178     \textcolor{keywordflow}{return} CV\_8UC3;}
\DoxyCodeLine{00179   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}mono16"{}}) \{}
\DoxyCodeLine{00180     \textcolor{keywordflow}{return} CV\_16SC1;}
\DoxyCodeLine{00181   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}rgba8"{}}) \{}
\DoxyCodeLine{00182     \textcolor{keywordflow}{return} CV\_8UC4;}
\DoxyCodeLine{00183   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}bgra8"{}}) \{}
\DoxyCodeLine{00184     \textcolor{keywordflow}{return} CV\_8UC4;}
\DoxyCodeLine{00185   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}32FC1"{}}) \{}
\DoxyCodeLine{00186     \textcolor{keywordflow}{return} CV\_32FC1;}
\DoxyCodeLine{00187   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}rgb8"{}}) \{}
\DoxyCodeLine{00188     \textcolor{keywordflow}{return} CV\_8UC3;}
\DoxyCodeLine{00189   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}yuv422"{}}) \{}
\DoxyCodeLine{00190     \textcolor{keywordflow}{return} CV\_8UC2;}
\DoxyCodeLine{00191   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00192     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Unsupported encoding type"{}});}
\DoxyCodeLine{00193   \}}
\DoxyCodeLine{00194 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00196}{to\+\_\+cv\+\_\+mat()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!main@{main}}
\index{main@{main}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00265}{265}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00266 \{}
\DoxyCodeLine{00267   \mbox{\hyperlink{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}{main\_ros\_loop}}(argc, argv);}
\DoxyCodeLine{00268 }
\DoxyCodeLine{00269   \textcolor{comment}{/*}}
\DoxyCodeLine{00270 \textcolor{comment}{  testRed("{}../../red1.png"{});}}
\DoxyCodeLine{00271 \textcolor{comment}{  testRed("{}../../green1.png"{});}}
\DoxyCodeLine{00272 \textcolor{comment}{  testRed("{}../../blue1.png"{});}}
\DoxyCodeLine{00273 \textcolor{comment}{  testRed("{}../../red2.png"{});}}
\DoxyCodeLine{00274 \textcolor{comment}{}}
\DoxyCodeLine{00275 \textcolor{comment}{  testGreen("{}../../red1.png"{});}}
\DoxyCodeLine{00276 \textcolor{comment}{  testGreen("{}../../green1.png"{});}}
\DoxyCodeLine{00277 \textcolor{comment}{  testGreen("{}../../blue1.png"{});}}
\DoxyCodeLine{00278 \textcolor{comment}{  testGreen("{}../../red2.png"{});}}
\DoxyCodeLine{00279 \textcolor{comment}{}}
\DoxyCodeLine{00280 \textcolor{comment}{  testBlue("{}../../red1.png"{});}}
\DoxyCodeLine{00281 \textcolor{comment}{  testBlue("{}../../green1.png"{});}}
\DoxyCodeLine{00282 \textcolor{comment}{  testBlue("{}../../blue1.png"{});}}
\DoxyCodeLine{00283 \textcolor{comment}{  testBlue("{}../../red2.png"{});}}
\DoxyCodeLine{00284 \textcolor{comment}{  */}}
\DoxyCodeLine{00285 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{main\+\_\+ros\+\_\+loop()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}\label{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!main\_ros\_loop@{main\_ros\_loop}}
\index{main\_ros\_loop@{main\_ros\_loop}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main\_ros\_loop()}{main\_ros\_loop()}}
{\footnotesize\ttfamily void main\+\_\+ros\+\_\+loop (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{245}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00246 \{}
\DoxyCodeLine{00247   rclcpp::init(argc, argv);}
\DoxyCodeLine{00248   rclcpp::Node::SharedPtr \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}} = rclcpp::Node::make\_shared(\textcolor{stringliteral}{"{}opencv\_perception\_node"{}});}
\DoxyCodeLine{00249 }
\DoxyCodeLine{00250   RCLCPP\_INFO(\mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>get\_logger(), \textcolor{stringliteral}{"{}opencv perception node started"{}});}
\DoxyCodeLine{00251   \mbox{\hyperlink{opencv__perception__node_8cpp_ac5014450a03f58f3bc843ec20fafba2e}{detectionPub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_publisher<std\_msgs::msg::Int32>(\textcolor{stringliteral}{"{}detected\_color"{}}, 1);}
\DoxyCodeLine{00252   \mbox{\hyperlink{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}{imageSub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_subscription<sensor\_msgs::msg::Image>(\textcolor{stringliteral}{"{}/image\_raw"{}}, rclcpp::QoS(1).best\_effort(), \mbox{\hyperlink{opencv__perception__node_8cpp_a0828b61f09ebc4fc864ef4bb6898d0da}{callback}});}
\DoxyCodeLine{00253   \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debugImagePub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_publisher<sensor\_msgs::msg::Image>(\textcolor{stringliteral}{"{}/opencv\_debug\_image"{}}, rclcpp::QoS(1).best\_effort());}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   rclcpp::Rate r(10);}
\DoxyCodeLine{00256 }
\DoxyCodeLine{00257   \textcolor{keywordflow}{while} (rclcpp::ok())}
\DoxyCodeLine{00258   \{}
\DoxyCodeLine{00259     rclcpp::spin\_some(\mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}});}
\DoxyCodeLine{00260     r.sleep();}
\DoxyCodeLine{00261   \}}
\DoxyCodeLine{00262 }
\DoxyCodeLine{00263 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00045}{debug\+Image\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00044}{detection\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00046}{image\+Sub}}, and \mbox{\hyperlink{odom__to__tf_8cpp_source_l00031}{nh}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00265}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}\label{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!segmentColor@{segmentColor}}
\index{segmentColor@{segmentColor}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{segmentColor()}{segmentColor()}}
{\footnotesize\ttfamily void segment\+Color (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{input\+RGB,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window,  }\item[{cv\+::\+Mat \&}]{out,  }\item[{int}]{min\+Saturation = {\ttfamily 20},  }\item[{int}]{min\+Value = {\ttfamily 20},  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{img\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00048}{48}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00049 \{}
\DoxyCodeLine{00050   cv::Mat hsvInput;}
\DoxyCodeLine{00051   cv::cvtColor(inputRGB, hsvInput, cv::COLOR\_BGR2HSV);}
\DoxyCodeLine{00052   cv::inRange(hsvInput, cv::Scalar(hueMean -\/ hueWindow, minSaturation, minValue), cv::Scalar(hueMean + hueWindow, 255, 255), out);}
\DoxyCodeLine{00053   cv::threshold(out, out, 100, 255, cv::THRESH\_BINARY);}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055   \textcolor{keywordflow}{if}(imgShow)}
\DoxyCodeLine{00056     cv::imshow(\textcolor{stringliteral}{"{}segment"{}}, out);}
\DoxyCodeLine{00057 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64}\label{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlue@{testBlue}}
\index{testBlue@{testBlue}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlue()}{testBlue()}}
{\footnotesize\ttfamily int test\+Blue (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00109}{109}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110 \{}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}blue"{}}, 10, 10,  \textcolor{stringliteral}{"{}blue-\/barrel"{}});}
\DoxyCodeLine{00113 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a2a0df5bef04f7bb41f61f5b312229a64_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}\label{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlueFile@{testBlueFile}}
\index{testBlueFile@{testBlueFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlueFile()}{testBlueFile()}}
{\footnotesize\ttfamily void test\+Blue\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00159}{159}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00160 \{}
\DoxyCodeLine{00161   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00162   \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}blue"{}}, 10, 10, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00163 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003}\label{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreen@{testGreen}}
\index{testGreen@{testGreen}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreen()}{testGreen()}}
{\footnotesize\ttfamily int test\+Green (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00115}{115}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00116 \{}
\DoxyCodeLine{00117   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}green"{}}, 50, 10, \textcolor{stringliteral}{"{}ally"{}});}
\DoxyCodeLine{00118 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a6afa9f86775bd008d0c78efdc1d4e003_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}\label{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreenFile@{testGreenFile}}
\index{testGreenFile@{testGreenFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreenFile()}{testGreenFile()}}
{\footnotesize\ttfamily void test\+Green\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00165}{165}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00166 \{}
\DoxyCodeLine{00167   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00168   \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}green"{}}, 50, 10, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00169 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}\label{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testImage@{testImage}}
\index{testImage@{testImage}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testImage()}{testImage()}}
{\footnotesize\ttfamily int test\+Image (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::string}]{color\+Name,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window,  }\item[{std\+::string}]{message = {\ttfamily \char`\"{}\char`\"{}},  }\item[{int}]{min\+Saturation = {\ttfamily 20},  }\item[{int}]{min\+Value = {\ttfamily 20},  }\item[{int}]{min\+Blob\+Area = {\ttfamily 100},  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{img\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{59}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{}
\DoxyCodeLine{00061   cv::Mat segmented;}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   \mbox{\hyperlink{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}{segmentColor}}(input, hueMean, hueWindow, segmented,minSaturation, minValue, imgShow);}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065   cv::SimpleBlobDetector::Params params;}
\DoxyCodeLine{00066   \textcolor{comment}{// params.filterByArea= true;}}
\DoxyCodeLine{00067   \textcolor{comment}{// params.minArea = 10;}}
\DoxyCodeLine{00068   params.filterByArea = \textcolor{keyword}{true};}
\DoxyCodeLine{00069   params.minArea = minBlobArea;}
\DoxyCodeLine{00070   params.maxArea = 100000;}
\DoxyCodeLine{00071   params.filterByColor = \textcolor{keyword}{true};}
\DoxyCodeLine{00072   params.blobColor = 255;}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074   \textcolor{keyword}{auto} blobDetector = cv::SimpleBlobDetector::create(params);}
\DoxyCodeLine{00075   std::vector<cv::KeyPoint> blobs;}
\DoxyCodeLine{00076   blobDetector-\/>detect(segmented, blobs);}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078   std::cout << \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/-\/-\/"{}} << std::endl;}
\DoxyCodeLine{00079   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& b : blobs)}
\DoxyCodeLine{00080   \{}
\DoxyCodeLine{00081     std::cout << \textcolor{stringliteral}{"{}blob "{}} << colorName << \textcolor{stringliteral}{"{} detected: "{}} << b.size << std::endl;}
\DoxyCodeLine{00082   \}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084   \textcolor{keywordflow}{if}(!blobs.empty())}
\DoxyCodeLine{00085   \{}
\DoxyCodeLine{00086     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}\& b: blobs)}
\DoxyCodeLine{00087     \{}
\DoxyCodeLine{00088       cv::Rect r;}
\DoxyCodeLine{00089       \textcolor{keywordtype}{float} diameter = b.size;}
\DoxyCodeLine{00090       \textcolor{keyword}{auto} radius = diameter*0.5;}
\DoxyCodeLine{00091       r.x = b.pt.x -\/ radius;}
\DoxyCodeLine{00092       r.y = b.pt.y -\/ radius;}
\DoxyCodeLine{00093       r.width = diameter;}
\DoxyCodeLine{00094       r.height = diameter;}
\DoxyCodeLine{00095       cv::rectangle(debugImage,r, cv::Scalar(255,0,0),1 );}
\DoxyCodeLine{00096       cv::putText(debugImage, message, cv::Point(r.x,r.y),cv::FONT\_HERSHEY\_SIMPLEX,0.3,cv::Vec3b(255,255, 255));}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098     \}}
\DoxyCodeLine{00099   \}}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101   \textcolor{keywordflow}{return} blobs.size();}
\DoxyCodeLine{00102 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00048}{segment\+Color()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00109}{test\+Blue()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00159}{test\+Blue\+File()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00115}{test\+Green()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00165}{test\+Green\+File()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00104}{test\+Red()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00120}{test\+Yellow()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256}\label{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRed@{testRed}}
\index{testRed@{testRed}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRed()}{testRed()}}
{\footnotesize\ttfamily int test\+Red (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00104}{104}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00105 \{}
\DoxyCodeLine{00106   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}red"{}}, 130, 20,  \textcolor{stringliteral}{"{}enemy"{}});}
\DoxyCodeLine{00107 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00144}{test\+Red\+File()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}\label{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRedFile@{testRedFile}}
\index{testRedFile@{testRedFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRedFile()}{testRedFile()}}
{\footnotesize\ttfamily void test\+Red\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00144}{144}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00145 \{}
\DoxyCodeLine{00146   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00147   cv::cvtColor(input, input, cv::COLOR\_RGB2BGR);}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00149   cv::Mat debugImage= input.clone();}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152   \mbox{\hyperlink{opencv__perception__node_8cpp_af34daf56383e255fd0e908edf46c7256}{testRed}}(input, debugImage, \textcolor{keyword}{true});}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   cv::imshow(\textcolor{stringliteral}{"{}yellow filter -\/ "{}}+ path, debugImage);}
\DoxyCodeLine{00155   cv::waitKey();}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00104}{test\+Red()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87}\label{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testYellow@{testYellow}}
\index{testYellow@{testYellow}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testYellow()}{testYellow()}}
{\footnotesize\ttfamily int test\+Yellow (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00120}{120}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00121 \{}
\DoxyCodeLine{00122   \textcolor{comment}{// hue: 31 , minvalue: 200, minsat: 40, in rgb}}
\DoxyCodeLine{00123   \textcolor{comment}{//return testImage(input, debugImage, "{}yellow"{}, 31, 10, "{}mine"{}, 40, 200, 100, imShow);}}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   \textcolor{comment}{//return testImage(input, debugImage, "{}yellow"{}, 195, 40, "{}mine"{}, 40, 20, 100, imShow);}}
\DoxyCodeLine{00126   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_aefe3532cef7c23c908fcf85e38ca27e5}{testImage}}(input, debugImage, \textcolor{stringliteral}{"{}yellow"{}}, 90, 10, \textcolor{stringliteral}{"{}mine"{}}, 40, 200, 100);}
\DoxyCodeLine{00127 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00059}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00129}{test\+Yellow\+File()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}\label{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testYellowFile@{testYellowFile}}
\index{testYellowFile@{testYellowFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testYellowFile()}{testYellowFile()}}
{\footnotesize\ttfamily void test\+Yellow\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00129}{129}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00130 \{}
\DoxyCodeLine{00131   cv::Mat input;}
\DoxyCodeLine{00132     cv::cvtColor(cv::imread(path), input, cv::COLOR\_RGB2BGR);}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   cv::Mat debugImage= input.clone();}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137   \mbox{\hyperlink{opencv__perception__node_8cpp_a94bc8504aa610ada7ca8e2e2b848ce87}{testYellow}}(input, debugImage, \textcolor{keyword}{true});}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139   cv::imshow(\textcolor{stringliteral}{"{}yellow filter -\/ "{}}+ path, debugImage);}
\DoxyCodeLine{00140   cv::waitKey();}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00120}{test\+Yellow()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}\label{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!to\_cv\_mat@{to\_cv\_mat}}
\index{to\_cv\_mat@{to\_cv\_mat}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{to\_cv\_mat()}{to\_cv\_mat()}}
{\footnotesize\ttfamily cv\+::\+Mat to\+\_\+cv\+\_\+mat (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::msg\+::\+Image \&}]{img }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00196}{196}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00197 \{}
\DoxyCodeLine{00198     \textcolor{keywordflow}{return} cv::Mat(cv::Size(img.width, img.height),}
\DoxyCodeLine{00199                     \mbox{\hyperlink{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}{encoding2mat\_type}}(img.encoding),}
\DoxyCodeLine{00200                     \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\textcolor{keyword}{>}(img.data.data()));}
\DoxyCodeLine{00201 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00173}{encoding2mat\+\_\+type()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}\label{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!debugImagePub@{debugImagePub}}
\index{debugImagePub@{debugImagePub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{debugImagePub}{debugImagePub}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$sensor\+\_\+msgs\+::msg\+::\+Image$>$\+::\+Shared\+Ptr debug\+Image\+Pub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00045}{45}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{main\+\_\+ros\+\_\+loop()}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_ac5014450a03f58f3bc843ec20fafba2e}\label{opencv__perception__node_8cpp_ac5014450a03f58f3bc843ec20fafba2e}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!detectionPub@{detectionPub}}
\index{detectionPub@{detectionPub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{detectionPub}{detectionPub}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$std\+\_\+msgs\+::msg\+::\+Int32$>$\+::\+Shared\+Ptr detection\+Pub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00044}{44}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00204}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{main\+\_\+ros\+\_\+loop()}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}\label{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!imageSub@{imageSub}}
\index{imageSub@{imageSub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{imageSub}{imageSub}}
{\footnotesize\ttfamily rclcpp\+::\+Subscription$<$sensor\+\_\+msgs\+::msg\+::\+Image$>$\+::\+Shared\+Ptr image\+Sub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00046}{46}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{main\+\_\+ros\+\_\+loop()}}.

