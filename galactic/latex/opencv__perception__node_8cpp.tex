\hypertarget{opencv__perception__node_8cpp}{}\doxysection{smacc2\+\_\+sm\+\_\+reference\+\_\+library/sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1/servers/opencv\+\_\+perception\+\_\+node/opencv\+\_\+perception\+\_\+node.cpp File Reference}
\label{opencv__perception__node_8cpp}\index{smacc2\_sm\_reference\_library/sm\_husky\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp@{smacc2\_sm\_reference\_library/sm\_husky\_barrel\_search\_1/servers/opencv\_perception\_node/opencv\_perception\_node.cpp}}
{\ttfamily \#include \char`\"{}cv\+\_\+mat\+\_\+sensor\+\_\+msgs\+\_\+image\+\_\+type\+\_\+adapter.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$rclcpp/rclcpp.\+hpp$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/msg/image.\+hpp$>$}\newline
{\ttfamily \#include $<$std\+\_\+msgs/msg/int32.\+hpp$>$}\newline
{\ttfamily \#include $<$sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1/msg/detected\+\_\+objects.\+hpp$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$opencv2/opencv.\+hpp$>$}\newline
{\ttfamily \#include $<$opencv2/features2d.\+hpp$>$}\newline
{\ttfamily \#include $<$ament\+\_\+index\+\_\+cpp/get\+\_\+package\+\_\+share\+\_\+directory.\+hpp$>$}\newline
Include dependency graph for opencv\+\_\+perception\+\_\+node.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}~20
\item 
\#define \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}~20
\item 
\#define \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}~20
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}{segment\+Color}} (const cv\+::\+Mat \&input\+RGB, int hue\+Mean, int hue\+Window, cv\+::\+Mat \&out, int min\+Saturation=20, int min\+Value=20, \mbox{\hyperlink{classbool}{bool}} img\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{test\+Image}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&detected\+Objects, std\+::string color\+Name, int hue\+Mean, int hue\+Window, std\+::string message=\char`\"{}\char`\"{}, int min\+Saturation=\mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}, int min\+Value=\mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}, int min\+Blob\+Area=\mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}, \mbox{\hyperlink{classbool}{bool}} img\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608}{test\+Red}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&detected\+Objects, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6}{test\+Blue}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&detected\+Objects, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3}{test\+Green}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&detected\+Objects, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2}{test\+Yellow}} (cv\+::\+Mat \&input, cv\+::\+Mat \&debug\+Image, std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&detected\+Objects, \mbox{\hyperlink{classbool}{bool}} im\+Show=false)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}{test\+Yellow\+File}} (std\+::string path)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}{test\+Red\+File}} (std\+::string path)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_aae6a3307dbd4d3185c26f545621c5c8c}{test\+Red\+File\+Bench}} (std\+::string path)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}{test\+Blue\+File}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}{test\+Green\+File}} (std\+::string path, cv\+::\+Mat \&debug\+Image)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}{encoding2mat\+\_\+type}} (const std\+::string \&encoding)
\item 
cv\+::\+Mat \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\+\_\+cv\+\_\+mat}} (const sensor\+\_\+msgs\+::msg\+::\+Image \&img)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441}{callback}} (const sensor\+\_\+msgs\+::msg\+::\+Image \&img\+Msg)
\item 
void \mbox{\hyperlink{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}{main\+\_\+ros\+\_\+loop}} (int argc, char $\ast$$\ast$argv)
\item 
int \mbox{\hyperlink{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
rclcpp\+::\+Publisher$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Objects $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_add1e617033fc8ebd018a4d08e9fe4c66}{detection\+Pub}}
\item 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debug\+Image\+Pub}}
\item 
rclcpp\+::\+Subscription$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::\+Shared\+Ptr \mbox{\hyperlink{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}{image\+Sub}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}\label{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!DEFAULT\_MIN\_BLOB\_AREA@{DEFAULT\_MIN\_BLOB\_AREA}}
\index{DEFAULT\_MIN\_BLOB\_AREA@{DEFAULT\_MIN\_BLOB\_AREA}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_MIN\_BLOB\_AREA}{DEFAULT\_MIN\_BLOB\_AREA}}
{\footnotesize\ttfamily \#define DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA~20}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00069}{69}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}\label{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!DEFAULT\_MIN\_SATURATION@{DEFAULT\_MIN\_SATURATION}}
\index{DEFAULT\_MIN\_SATURATION@{DEFAULT\_MIN\_SATURATION}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_MIN\_SATURATION}{DEFAULT\_MIN\_SATURATION}}
{\footnotesize\ttfamily \#define DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION~20}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00067}{67}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}\label{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!DEFAULT\_MIN\_VALUE@{DEFAULT\_MIN\_VALUE}}
\index{DEFAULT\_MIN\_VALUE@{DEFAULT\_MIN\_VALUE}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_MIN\_VALUE}{DEFAULT\_MIN\_VALUE}}
{\footnotesize\ttfamily \#define DEFAULT\+\_\+\+MIN\+\_\+\+VALUE~20}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00068}{68}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441}\label{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!callback@{callback}}
\index{callback@{callback}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void callback (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::msg\+::\+Image \&}]{img\+Msg }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{298}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00299 \{}
\DoxyCodeLine{00300   cv::Mat image = \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\_cv\_mat}}(imgMsg);}
\DoxyCodeLine{00301   \textcolor{comment}{// BUG: for some reason we get an image message from gazebo with as RGB but in practice we see it is BGR}}
\DoxyCodeLine{00302   cv::cvtColor(image, image, cv::COLOR\_BGR2RGB);}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   sensor\_msgs::msg::Image outimg = imgMsg;}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306   \textcolor{comment}{// cv::cvtColor(image, image, cv::COLOR\_RGB2BGR);}}
\DoxyCodeLine{00307   \textcolor{keyword}{auto} outmat = \mbox{\hyperlink{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}{to\_cv\_mat}}(outimg);}
\DoxyCodeLine{00308 }
\DoxyCodeLine{00309   \textcolor{comment}{// USED TO WORK IN FILE MODE}}
\DoxyCodeLine{00310   \textcolor{comment}{// cv::imwrite("{}/tmp/out.png"{}, outmat);}}
\DoxyCodeLine{00311 }
\DoxyCodeLine{00312   \textcolor{keywordtype}{bool} testGreenAlly = \textcolor{keyword}{false};}
\DoxyCodeLine{00313 }
\DoxyCodeLine{00314   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00315 }
\DoxyCodeLine{00316   \textcolor{keywordtype}{int} detectedColor = 0;}
\DoxyCodeLine{00317   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608}{testRed}}(image, outmat, detectedObjects) > 0)}
\DoxyCodeLine{00318   \{}
\DoxyCodeLine{00319     detectedColor = 1;}
\DoxyCodeLine{00320   \}}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322   \textcolor{keywordflow}{if} (testGreenAlly \&\& \mbox{\hyperlink{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3}{testGreen}}(image, outmat, detectedObjects) > 0)}
\DoxyCodeLine{00323   \{}
\DoxyCodeLine{00324     detectedColor = 2;}
\DoxyCodeLine{00325   \}}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6}{testBlue}}(image, outmat, detectedObjects) > 0)}
\DoxyCodeLine{00328   \{}
\DoxyCodeLine{00329     detectedColor = 3;}
\DoxyCodeLine{00330   \}}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332   \textcolor{keywordflow}{if} (\mbox{\hyperlink{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2}{testYellow}}(image, outmat, detectedObjects) > 0)}
\DoxyCodeLine{00333   \{}
\DoxyCodeLine{00334     detectedColor = 4;}
\DoxyCodeLine{00335   \}}
\DoxyCodeLine{00336 }
\DoxyCodeLine{00337   sm\_husky\_barrel\_search\_1::msg::DetectedObjects detectedColorMsg;}
\DoxyCodeLine{00338   detectedColorMsg.detected\_objects = detectedObjects;}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340   \mbox{\hyperlink{opencv__perception__node_8cpp_add1e617033fc8ebd018a4d08e9fe4c66}{detectionPub}}-\/>publish(detectedColorMsg);}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342   cv::cvtColor(outmat, outmat, cv::COLOR\_RGB2BGR);}
\DoxyCodeLine{00343 }
\DoxyCodeLine{00344   outimg.header = imgMsg.header;}
\DoxyCodeLine{00345   \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debugImagePub}}-\/>publish(outimg);}
\DoxyCodeLine{00346 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00048}{debug\+Image\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00047}{detection\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00168}{test\+Blue()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00174}{test\+Green()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00158}{test\+Red()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00180}{test\+Yellow()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00292}{to\+\_\+cv\+\_\+mat()}}.



Referenced by \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00314}{smacc2\+::utils\+::\+Bind$<$ 1 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00325}{smacc2\+::utils\+::\+Bind$<$ 2 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00336}{smacc2\+::utils\+::\+Bind$<$ 3 $>$\+::bindaux()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00347}{smacc2\+::utils\+::\+Bind$<$ 4 $>$\+::bindaux()}}, \mbox{\hyperlink{state__reactor_8cpp_source_l00070}{smacc2\+::introspection\+::\+Event\+Generator\+Handler\+::configure\+Event\+Generator()}}, \mbox{\hyperlink{state__reactor_8cpp_source_l00062}{smacc2\+::introspection\+::\+State\+Reactor\+Handler\+::configure\+State\+Reactor()}}, \mbox{\hyperlink{smacc__client__impl_8hpp_source_l00138}{smacc2\+::\+ISmacc\+Client\+::connect\+Signal()}}, \mbox{\hyperlink{smacc__state__reactor__impl_8hpp_source_l00057}{smacc2\+::\+State\+Reactor\+::create\+Event\+Callback()}}, \mbox{\hyperlink{smacc__state__machine__impl_8hpp_source_l00358}{smacc2\+::\+ISmacc\+State\+Machine\+::create\+Signal\+Connection()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{main\+\_\+ros\+\_\+loop()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00165}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Aborted()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00177}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Cancelled()}}, \mbox{\hyperlink{cp__topic__subscriber_8hpp_source_l00061}{smacc2\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+First\+Message\+Received()}}, \mbox{\hyperlink{smacc__subscriber__client_8hpp_source_l00066}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Subscriber\+Client$<$ Message\+Type $>$\+::on\+First\+Message\+Received()}}, \mbox{\hyperlink{cl__keyboard_8hpp_source_l00172}{cl\+\_\+keyboard\+::\+Cl\+Keyboard\+::\+On\+Key\+Press()}}, \mbox{\hyperlink{cp__topic__subscriber_8hpp_source_l00054}{smacc2\+::components\+::\+Cp\+Topic\+Subscriber$<$ Message\+Type $>$\+::on\+Message\+Received()}}, \mbox{\hyperlink{smacc__subscriber__client_8hpp_source_l00059}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Subscriber\+Client$<$ Message\+Type $>$\+::on\+Message\+Received()}}, \mbox{\hyperlink{cl__multirole__sensor_8hpp_source_l00049}{cl\+\_\+multirole\+\_\+sensor\+::\+Cl\+Multirole\+Sensor$<$ Message\+Type $>$\+::on\+Message\+Timeout()}}, \mbox{\hyperlink{smacc__action__client__base_8hpp_source_l00153}{smacc2\+::client\+\_\+bases\+::\+Smacc\+Action\+Client\+Base$<$ Action\+Type $>$\+::on\+Succeeded()}}, and \mbox{\hyperlink{sr__conditional_8hpp_source_l00039}{smacc2\+::state\+\_\+reactors\+::\+Sr\+Conditional$<$ TEv $>$\+::\+Sr\+Conditional()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}\label{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!encoding2mat\_type@{encoding2mat\_type}}
\index{encoding2mat\_type@{encoding2mat\_type}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{encoding2mat\_type()}{encoding2mat\_type()}}
{\footnotesize\ttfamily int encoding2mat\+\_\+type (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{encoding }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00252}{252}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00253 \{}
\DoxyCodeLine{00254   \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}mono8"{}})}
\DoxyCodeLine{00255   \{}
\DoxyCodeLine{00256     \textcolor{keywordflow}{return} CV\_8UC1;}
\DoxyCodeLine{00257   \}}
\DoxyCodeLine{00258   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}bgr8"{}})}
\DoxyCodeLine{00259   \{}
\DoxyCodeLine{00260     \textcolor{keywordflow}{return} CV\_8UC3;}
\DoxyCodeLine{00261   \}}
\DoxyCodeLine{00262   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}mono16"{}})}
\DoxyCodeLine{00263   \{}
\DoxyCodeLine{00264     \textcolor{keywordflow}{return} CV\_16SC1;}
\DoxyCodeLine{00265   \}}
\DoxyCodeLine{00266   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}rgba8"{}})}
\DoxyCodeLine{00267   \{}
\DoxyCodeLine{00268     \textcolor{keywordflow}{return} CV\_8UC4;}
\DoxyCodeLine{00269   \}}
\DoxyCodeLine{00270   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}bgra8"{}})}
\DoxyCodeLine{00271   \{}
\DoxyCodeLine{00272     \textcolor{keywordflow}{return} CV\_8UC4;}
\DoxyCodeLine{00273   \}}
\DoxyCodeLine{00274   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}32FC1"{}})}
\DoxyCodeLine{00275   \{}
\DoxyCodeLine{00276     \textcolor{keywordflow}{return} CV\_32FC1;}
\DoxyCodeLine{00277   \}}
\DoxyCodeLine{00278   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}rgb8"{}})}
\DoxyCodeLine{00279   \{}
\DoxyCodeLine{00280     \textcolor{keywordflow}{return} CV\_8UC3;}
\DoxyCodeLine{00281   \}}
\DoxyCodeLine{00282   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (encoding == \textcolor{stringliteral}{"{}yuv422"{}})}
\DoxyCodeLine{00283   \{}
\DoxyCodeLine{00284     \textcolor{keywordflow}{return} CV\_8UC2;}
\DoxyCodeLine{00285   \}}
\DoxyCodeLine{00286   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00287   \{}
\DoxyCodeLine{00288     \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Unsupported encoding type"{}});}
\DoxyCodeLine{00289   \}}
\DoxyCodeLine{00290 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00292}{to\+\_\+cv\+\_\+mat()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!main@{main}}
\index{main@{main}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00367}{367}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00368 \{}
\DoxyCodeLine{00369   \mbox{\hyperlink{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}{main\_ros\_loop}}(argc, argv);}
\DoxyCodeLine{00370 }
\DoxyCodeLine{00371   \textcolor{keyword}{auto} testImagePath =}
\DoxyCodeLine{00372       ament\_index\_cpp::get\_package\_share\_directory(\textcolor{stringliteral}{"{}sm\_husky\_barrel\_search\_1"{}}) + \textcolor{stringliteral}{"{}/test\_images/red4.png"{}};}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374   \textcolor{comment}{// testRedFileBench(testImagePath);}}
\DoxyCodeLine{00375   \textcolor{comment}{// testRedFile(testImagePath);}}
\DoxyCodeLine{00376 }
\DoxyCodeLine{00377   \textcolor{comment}{/*}}
\DoxyCodeLine{00378 \textcolor{comment}{  testRedFile("{}../../red1.png"{});}}
\DoxyCodeLine{00379 \textcolor{comment}{  testRedFile("{}../../green1.png"{});}}
\DoxyCodeLine{00380 \textcolor{comment}{  testRedFile("{}../../blue1.png"{});}}
\DoxyCodeLine{00381 \textcolor{comment}{}}
\DoxyCodeLine{00382 \textcolor{comment}{}}
\DoxyCodeLine{00383 \textcolor{comment}{  testGreen("{}../../red1.png"{});}}
\DoxyCodeLine{00384 \textcolor{comment}{  testGreen("{}../../green1.png"{});}}
\DoxyCodeLine{00385 \textcolor{comment}{  testGreen("{}../../blue1.png"{});}}
\DoxyCodeLine{00386 \textcolor{comment}{  testGreen("{}../../red2.png"{});}}
\DoxyCodeLine{00387 \textcolor{comment}{}}
\DoxyCodeLine{00388 \textcolor{comment}{  testBlue("{}../../red1.png"{});}}
\DoxyCodeLine{00389 \textcolor{comment}{  testBlue("{}../../green1.png"{});}}
\DoxyCodeLine{00390 \textcolor{comment}{  testBlue("{}../../blue1.png"{});}}
\DoxyCodeLine{00391 \textcolor{comment}{  testBlue("{}../../red2.png"{});}}
\DoxyCodeLine{00392 \textcolor{comment}{  */}}
\DoxyCodeLine{00393 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{main\+\_\+ros\+\_\+loop()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}\label{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!main\_ros\_loop@{main\_ros\_loop}}
\index{main\_ros\_loop@{main\_ros\_loop}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{main\_ros\_loop()}{main\_ros\_loop()}}
{\footnotesize\ttfamily void main\+\_\+ros\+\_\+loop (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{348}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00349 \{}
\DoxyCodeLine{00350   rclcpp::init(argc, argv);}
\DoxyCodeLine{00351   rclcpp::Node::SharedPtr \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}} = rclcpp::Node::make\_shared(\textcolor{stringliteral}{"{}opencv\_perception\_node"{}});}
\DoxyCodeLine{00352 }
\DoxyCodeLine{00353   RCLCPP\_INFO(\mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>get\_logger(), \textcolor{stringliteral}{"{}opencv perception node started"{}});}
\DoxyCodeLine{00354   \mbox{\hyperlink{opencv__perception__node_8cpp_add1e617033fc8ebd018a4d08e9fe4c66}{detectionPub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_publisher<sm\_husky\_barrel\_search\_1::msg::DetectedObjects>(\textcolor{stringliteral}{"{}detected\_objects"{}}, 1);}
\DoxyCodeLine{00355   \mbox{\hyperlink{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}{imageSub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_subscription<sensor\_msgs::msg::Image>(\textcolor{stringliteral}{"{}/image\_raw"{}}, rclcpp::QoS(1).best\_effort(), \mbox{\hyperlink{opencv__perception__node_8cpp_a9c212b9e4749b23ec1e8fc14b5ff0441}{callback}});}
\DoxyCodeLine{00356   \mbox{\hyperlink{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}{debugImagePub}} = \mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}}-\/>create\_publisher<sensor\_msgs::msg::Image>(\textcolor{stringliteral}{"{}/opencv\_debug\_image"{}}, rclcpp::QoS(1).best\_effort());}
\DoxyCodeLine{00357 }
\DoxyCodeLine{00358   rclcpp::Rate r(10);}
\DoxyCodeLine{00359 }
\DoxyCodeLine{00360   \textcolor{keywordflow}{while} (rclcpp::ok())}
\DoxyCodeLine{00361   \{}
\DoxyCodeLine{00362     rclcpp::spin\_some(\mbox{\hyperlink{odom__to__tf_8cpp_abd70cc27fb93648b9c90abe64106c1f7}{nh}});}
\DoxyCodeLine{00363     r.sleep();}
\DoxyCodeLine{00364   \}}
\DoxyCodeLine{00365 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00048}{debug\+Image\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00047}{detection\+Pub}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00049}{image\+Sub}}, and \mbox{\hyperlink{odom__to__tf_8cpp_source_l00031}{nh}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00367}{main()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{opencv__perception__node_8cpp_a612fba4536fe14c1e7f811938ead6918_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}\label{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!segmentColor@{segmentColor}}
\index{segmentColor@{segmentColor}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{segmentColor()}{segmentColor()}}
{\footnotesize\ttfamily void segment\+Color (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{input\+RGB,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window,  }\item[{cv\+::\+Mat \&}]{out,  }\item[{int}]{min\+Saturation = {\ttfamily 20},  }\item[{int}]{min\+Value = {\ttfamily 20},  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{img\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00051}{51}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053 \{}
\DoxyCodeLine{00054   cv::Mat hsvInput;}
\DoxyCodeLine{00055   cv::cvtColor(inputRGB, hsvInput, cv::COLOR\_RGB2HSV);}
\DoxyCodeLine{00056   cv::inRange(hsvInput, cv::Scalar(hueMean -\/ hueWindow, minSaturation, minValue),}
\DoxyCodeLine{00057               cv::Scalar(hueMean + hueWindow, 255, 255), out);}
\DoxyCodeLine{00058   cv::threshold(out, out, 100, 255, cv::THRESH\_BINARY);}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060   \textcolor{keywordflow}{if} (imgShow)}
\DoxyCodeLine{00061   \{}
\DoxyCodeLine{00062     cv::imshow(\textcolor{stringliteral}{"{}segment"{}}, out);}
\DoxyCodeLine{00063     cv::waitKey();}
\DoxyCodeLine{00064   \}}
\DoxyCodeLine{00065 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6}\label{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlue@{testBlue}}
\index{testBlue@{testBlue}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlue()}{testBlue()}}
{\footnotesize\ttfamily int test\+Blue (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&}]{detected\+Objects,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00168}{168}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00169 \{}
\DoxyCodeLine{00170   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}blue"{}}, 10, 10, \textcolor{stringliteral}{"{}blue-\/barrel"{}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\_MIN\_SATURATION}},}
\DoxyCodeLine{00171                    \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\_MIN\_VALUE}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\_MIN\_BLOB\_AREA}}, imShow);}
\DoxyCodeLine{00172 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00069}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00067}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00068}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a347cab2e0cb7b41b7eba53051f56ddd6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}\label{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testBlueFile@{testBlueFile}}
\index{testBlueFile@{testBlueFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testBlueFile()}{testBlueFile()}}
{\footnotesize\ttfamily void test\+Blue\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00238}{238}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00239 \{}
\DoxyCodeLine{00240   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00241   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00242   \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}blue"{}}, 10, 10, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00243 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a5c4b81611c1e3cfb78e1fed9c1832ba0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3}\label{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreen@{testGreen}}
\index{testGreen@{testGreen}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreen()}{testGreen()}}
{\footnotesize\ttfamily int test\+Green (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&}]{detected\+Objects,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00174}{174}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00175 \{}
\DoxyCodeLine{00176   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}green"{}}, 50, 10, \textcolor{stringliteral}{"{}ally"{}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\_MIN\_SATURATION}},}
\DoxyCodeLine{00177                    \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\_MIN\_VALUE}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\_MIN\_BLOB\_AREA}}, imShow);}
\DoxyCodeLine{00178 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00069}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00067}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00068}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=348pt]{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_aa03a273071360f092f1eecbb53beb4d3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}\label{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testGreenFile@{testGreenFile}}
\index{testGreenFile@{testGreenFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testGreenFile()}{testGreenFile()}}
{\footnotesize\ttfamily void test\+Green\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path,  }\item[{cv\+::\+Mat \&}]{debug\+Image }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{245}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00246 \{}
\DoxyCodeLine{00247   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00248   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00249   \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}green"{}}, 50, 10, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00250 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a4f5983436f96777451d7cd72c1400e92_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}\label{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testImage@{testImage}}
\index{testImage@{testImage}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testImage()}{testImage()}}
{\footnotesize\ttfamily int test\+Image (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&}]{detected\+Objects,  }\item[{std\+::string}]{color\+Name,  }\item[{int}]{hue\+Mean,  }\item[{int}]{hue\+Window,  }\item[{std\+::string}]{message = {\ttfamily \char`\"{}\char`\"{}},  }\item[{int}]{min\+Saturation = {\ttfamily \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}},  }\item[{int}]{min\+Value = {\ttfamily \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}},  }\item[{int}]{min\+Blob\+Area = {\ttfamily \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}},  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{img\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{71}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074 \{}
\DoxyCodeLine{00075   cv::Mat segmented;}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   \mbox{\hyperlink{opencv__perception__node_8cpp_ae421e45019d553d665a21585a70bfb18}{segmentColor}}(input, hueMean, hueWindow, segmented, minSaturation, minValue, imgShow);}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079   std::vector<std::vector<cv::Point> > contours;}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081   std::vector<cv::Vec4i> hierarchy;}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   cv::Mat contourOutput = segmented.clone();}
\DoxyCodeLine{00084   cv::findContours(contourOutput, contours, hierarchy, cv::RETR\_TREE, cv::CHAIN\_APPROX\_NONE);}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086   \textcolor{keywordtype}{int} foundCount = 0;}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   cv::Mat contourImage(segmented.size(), CV\_8UC3, cv::Scalar(0, 0, 0));}
\DoxyCodeLine{00089   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} idx = 0; idx < contours.size(); idx++)}
\DoxyCodeLine{00090   \{}
\DoxyCodeLine{00091     \textcolor{keyword}{auto} currentCountour = contours[idx];}
\DoxyCodeLine{00092     \textcolor{keyword}{auto} area = cv::contourArea(currentCountour);}
\DoxyCodeLine{00093     \textcolor{keyword}{auto} currentHierarchy = hierarchy[idx];}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095     \textcolor{keywordflow}{if} (area > minBlobArea \&\& currentHierarchy[3] < 0)}
\DoxyCodeLine{00096     \{}
\DoxyCodeLine{00097       foundCount++;}
\DoxyCodeLine{00098       \textcolor{keyword}{auto} r = cv::boundingRect(currentCountour);}
\DoxyCodeLine{00099       cv::drawContours(contourImage, contours, idx, cv::Scalar(255, 0, 0), 1, cv::LINE\_8, hierarchy, 0);}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101       cv::drawContours(debugImage, contours, idx, cv::Scalar(255, 0, 0), 1, cv::LINE\_8, hierarchy, 0);}
\DoxyCodeLine{00102       cv::rectangle(debugImage, r, cv::Scalar(255, 0, 0), 1);}
\DoxyCodeLine{00103       cv::putText(debugImage, message, cv::Point(r.x, r.y), cv::FONT\_HERSHEY\_SIMPLEX, 0.3, cv::Vec3b(255, 255, 255));}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105       sm\_husky\_barrel\_search\_1::msg::DetectedObject detectedObject;}
\DoxyCodeLine{00106       detectedObject.name = message;}
\DoxyCodeLine{00107       detectedObject.blob\_area = area;}
\DoxyCodeLine{00108       detectedObjects.push\_back(detectedObject);}
\DoxyCodeLine{00109     \}}
\DoxyCodeLine{00110   \}}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{if} (imgShow)}
\DoxyCodeLine{00113   \{}
\DoxyCodeLine{00114     cv::imshow(\textcolor{stringliteral}{"{}contours"{}}, contourImage);}
\DoxyCodeLine{00115     cv::imshow(\textcolor{stringliteral}{"{}debugImage"{}}, debugImage);}
\DoxyCodeLine{00116   \}}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118   \textcolor{keywordflow}{return} foundCount;}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120   \textcolor{comment}{// cv::SimpleBlobDetector::Params params;}}
\DoxyCodeLine{00121   \textcolor{comment}{// // params.filterByArea= true;}}
\DoxyCodeLine{00122   \textcolor{comment}{// // params.minArea = 10;}}
\DoxyCodeLine{00123   \textcolor{comment}{// params.filterByArea = true;}}
\DoxyCodeLine{00124   \textcolor{comment}{// params.minArea = minBlobArea;}}
\DoxyCodeLine{00125   \textcolor{comment}{// params.maxArea = 100000;}}
\DoxyCodeLine{00126   \textcolor{comment}{// params.filterByColor = false;}}
\DoxyCodeLine{00127   \textcolor{comment}{// params.blobColor = 255;}}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129   \textcolor{comment}{// auto blobDetector = cv::SimpleBlobDetector::create(params);}}
\DoxyCodeLine{00130   \textcolor{comment}{// std::vector<cv::KeyPoint> blobs;}}
\DoxyCodeLine{00131   \textcolor{comment}{// blobDetector-\/>detect(segmented, blobs);}}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133   \textcolor{comment}{// // std::cout << "{}-\/-\/-\/-\/-\/-\/-\/"{} << std::endl;}}
\DoxyCodeLine{00134   \textcolor{comment}{// for (auto\& b : blobs)}}
\DoxyCodeLine{00135   \textcolor{comment}{// \{}}
\DoxyCodeLine{00136   \textcolor{comment}{//   std::cout << "{}-\/blob "{} << colorName << "{} detected: "{} << b.size << std::endl;}}
\DoxyCodeLine{00137   \textcolor{comment}{// \}}}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139   \textcolor{comment}{// if (!blobs.empty())}}
\DoxyCodeLine{00140   \textcolor{comment}{// \{}}
\DoxyCodeLine{00141   \textcolor{comment}{//   for (auto\& b : blobs)}}
\DoxyCodeLine{00142   \textcolor{comment}{//   \{}}
\DoxyCodeLine{00143   \textcolor{comment}{//     cv::Rect r;}}
\DoxyCodeLine{00144   \textcolor{comment}{//     float diameter = b.size;}}
\DoxyCodeLine{00145   \textcolor{comment}{//     auto radius = diameter * 0.5;}}
\DoxyCodeLine{00146   \textcolor{comment}{//     r.x = b.pt.x -\/ radius;}}
\DoxyCodeLine{00147   \textcolor{comment}{//     r.y = b.pt.y -\/ radius;}}
\DoxyCodeLine{00148   \textcolor{comment}{//     r.width = diameter;}}
\DoxyCodeLine{00149   \textcolor{comment}{//     r.height = diameter;}}
\DoxyCodeLine{00150   \textcolor{comment}{//     cv::rectangle(debugImage, r, cv::Scalar(255, 0, 0), 1);}}
\DoxyCodeLine{00151   \textcolor{comment}{//     cv::putText(debugImage, message, cv::Point(r.x, r.y), cv::FONT\_HERSHEY\_SIMPLEX, 0.3, cv::Vec3b(255, 255, 255));}}
\DoxyCodeLine{00152   \textcolor{comment}{//   \}}}
\DoxyCodeLine{00153   \textcolor{comment}{// \}}}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155   \textcolor{comment}{// return blobs.size();}}
\DoxyCodeLine{00156 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00051}{segment\+Color()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00168}{test\+Blue()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00238}{test\+Blue\+File()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00174}{test\+Green()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00245}{test\+Green\+File()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00158}{test\+Red()}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00216}{test\+Red\+File\+Bench()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00180}{test\+Yellow()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608}\label{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRed@{testRed}}
\index{testRed@{testRed}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRed()}{testRed()}}
{\footnotesize\ttfamily int test\+Red (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&}]{detected\+Objects,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00158}{158}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00159 \{}
\DoxyCodeLine{00160   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}red"{}}, 130, 20, \textcolor{stringliteral}{"{}enemy"{}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\_MIN\_SATURATION}},}
\DoxyCodeLine{00161                    \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\_MIN\_VALUE}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\_MIN\_BLOB\_AREA}}, imShow);}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163   \textcolor{comment}{// RGB}}
\DoxyCodeLine{00164   \textcolor{comment}{// return testImage(input, debugImage, "{}red"{}, 10, 10, "{}enemy"{}, DEFAULT\_MIN\_SATURATION, DEFAULT\_MIN\_VALUE,}}
\DoxyCodeLine{00165   \textcolor{comment}{// DEFAULT\_MIN\_BLOB\_AREA, imShow);}}
\DoxyCodeLine{00166 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00069}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00067}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00068}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00203}{test\+Red\+File()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}\label{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRedFile@{testRedFile}}
\index{testRedFile@{testRedFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRedFile()}{testRedFile()}}
{\footnotesize\ttfamily void test\+Red\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00203}{203}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00204 \{}
\DoxyCodeLine{00205   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00206   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00207   cv::Mat debugImage = input.clone();}
\DoxyCodeLine{00208   \textcolor{keywordtype}{bool} imShow = \textcolor{keyword}{true};}
\DoxyCodeLine{00209   \mbox{\hyperlink{opencv__perception__node_8cpp_a286626fd5b2efe3ed73abe3839a83608}{testRed}}(input, debugImage, detectedObjects, imShow);}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   cv::imshow(\textcolor{stringliteral}{"{}red filter -\/ "{}} + path, debugImage);}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213   cv::waitKey();}
\DoxyCodeLine{00214 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00158}{test\+Red()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a1fe3b75debb1dd8157962e733f134ddc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_aae6a3307dbd4d3185c26f545621c5c8c}\label{opencv__perception__node_8cpp_aae6a3307dbd4d3185c26f545621c5c8c}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testRedFileBench@{testRedFileBench}}
\index{testRedFileBench@{testRedFileBench}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testRedFileBench()}{testRedFileBench()}}
{\footnotesize\ttfamily void test\+Red\+File\+Bench (\begin{DoxyParamCaption}\item[{std\+::string}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00216}{216}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00217 \{}
\DoxyCodeLine{00218   cv::Mat input = cv::imread(path);}
\DoxyCodeLine{00219   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00220   \textcolor{comment}{// cv::cvtColor(input, input, cv::COLOR\_RGB2BGR);}}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222   cv::Mat debugImage = input.clone();}
\DoxyCodeLine{00223   \textcolor{keywordtype}{bool} imShow = \textcolor{keyword}{true};}
\DoxyCodeLine{00224 }
\DoxyCodeLine{00225   \textcolor{keywordtype}{int} size = 60;}
\DoxyCodeLine{00226   \textcolor{keywordtype}{int} step = 5;}
\DoxyCodeLine{00227   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 255; i++)}
\DoxyCodeLine{00228   \{}
\DoxyCodeLine{00229     \textcolor{keyword}{auto} huevalue = i;}
\DoxyCodeLine{00230     std::cout << \textcolor{stringliteral}{"{}huevalue: "{}} << huevalue << std::endl;}
\DoxyCodeLine{00231     \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}red"{}}, huevalue, 20, \textcolor{stringliteral}{"{}red"{}}, \mbox{\hyperlink{opencv__perception__node_8cpp_a7dcacec141358e7fbddc2a5877a39df4}{DEFAULT\_MIN\_SATURATION}}, \mbox{\hyperlink{opencv__perception__node_8cpp_ae3cfbb4af6690620166a5507e225b647}{DEFAULT\_MIN\_VALUE}},}
\DoxyCodeLine{00232               \mbox{\hyperlink{opencv__perception__node_8cpp_a5dffb40786d94915fee060e8feb0530c}{DEFAULT\_MIN\_BLOB\_AREA}}, imShow);}
\DoxyCodeLine{00233     cv::imshow(\textcolor{stringliteral}{"{}red filter -\/ "{}} + path, debugImage);}
\DoxyCodeLine{00234     cv::waitKey();}
\DoxyCodeLine{00235   \}}
\DoxyCodeLine{00236 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00069}{DEFAULT\+\_\+\+MIN\+\_\+\+BLOB\+\_\+\+AREA}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00067}{DEFAULT\+\_\+\+MIN\+\_\+\+SATURATION}}, \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00068}{DEFAULT\+\_\+\+MIN\+\_\+\+VALUE}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_aae6a3307dbd4d3185c26f545621c5c8c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2}\label{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testYellow@{testYellow}}
\index{testYellow@{testYellow}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testYellow()}{testYellow()}}
{\footnotesize\ttfamily int test\+Yellow (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{input,  }\item[{cv\+::\+Mat \&}]{debug\+Image,  }\item[{std\+::vector$<$ sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Object $>$ \&}]{detected\+Objects,  }\item[{\mbox{\hyperlink{classbool}{bool}}}]{im\+Show = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00180}{180}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00181 \{}
\DoxyCodeLine{00182   \textcolor{comment}{// hue: 31 , minvalue: 200, minsat: 40, in rgb}}
\DoxyCodeLine{00183   \textcolor{comment}{// return testImage(input, debugImage, "{}yellow"{}, 31, 10, "{}mine"{}, 40, 200, 100, imShow);}}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185   \textcolor{comment}{// return testImage(input, debugImage, "{}yellow"{}, 195, 40, "{}mine"{}, 40, 20, 100, imShow);}}
\DoxyCodeLine{00186   \textcolor{keywordflow}{return} \mbox{\hyperlink{opencv__perception__node_8cpp_a35367a568a53ed21c0b702c98c9d9455}{testImage}}(input, debugImage, detectedObjects, \textcolor{stringliteral}{"{}yellow"{}}, 90, 10, \textcolor{stringliteral}{"{}mine"{}}, 40, 200, 100, imShow);}
\DoxyCodeLine{00187 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00071}{test\+Image()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00189}{test\+Yellow\+File()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}\label{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!testYellowFile@{testYellowFile}}
\index{testYellowFile@{testYellowFile}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{testYellowFile()}{testYellowFile()}}
{\footnotesize\ttfamily void test\+Yellow\+File (\begin{DoxyParamCaption}\item[{std\+::string}]{path }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00189}{189}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00190 \{}
\DoxyCodeLine{00191   cv::Mat input;}
\DoxyCodeLine{00192   cv::cvtColor(cv::imread(path), input, cv::COLOR\_RGB2BGR);}
\DoxyCodeLine{00193   std::vector<sm\_husky\_barrel\_search\_1::msg::DetectedObject> detectedObjects;}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195   cv::Mat debugImage = input.clone();}
\DoxyCodeLine{00196 }
\DoxyCodeLine{00197   \mbox{\hyperlink{opencv__perception__node_8cpp_a9ec33a5e871eb7e5bbecef485ed61ba2}{testYellow}}(input, debugImage, detectedObjects, \textcolor{keyword}{true});}
\DoxyCodeLine{00198 }
\DoxyCodeLine{00199   cv::imshow(\textcolor{stringliteral}{"{}yellow filter -\/ "{}} + path, debugImage);}
\DoxyCodeLine{00200   cv::waitKey();}
\DoxyCodeLine{00201 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00180}{test\+Yellow()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a658e8377d8471fe3812b05bc8c0558ec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}\label{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!to\_cv\_mat@{to\_cv\_mat}}
\index{to\_cv\_mat@{to\_cv\_mat}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{to\_cv\_mat()}{to\_cv\_mat()}}
{\footnotesize\ttfamily cv\+::\+Mat to\+\_\+cv\+\_\+mat (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::msg\+::\+Image \&}]{img }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00292}{292}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00293 \{}
\DoxyCodeLine{00294   \textcolor{keywordflow}{return} cv::Mat(cv::Size(img.width, img.height), \mbox{\hyperlink{opencv__perception__node_8cpp_a2db6f7375c0723ea6a7b88345b26dabb}{encoding2mat\_type}}(img.encoding),}
\DoxyCodeLine{00295                  \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*\textcolor{keyword}{>}(img.data.data()));}
\DoxyCodeLine{00296 \}}

\end{DoxyCode}


References \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00252}{encoding2mat\+\_\+type()}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=279pt]{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opencv__perception__node_8cpp_a2b6f2fd406fbfff968fa7d0f6541923c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}\label{opencv__perception__node_8cpp_a28367082d098c2ebbb1b3029a65b8277}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!debugImagePub@{debugImagePub}}
\index{debugImagePub@{debugImagePub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{debugImagePub}{debugImagePub}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$sensor\+\_\+msgs\+::msg\+::\+Image$>$\+::\+Shared\+Ptr debug\+Image\+Pub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00048}{48}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{main\+\_\+ros\+\_\+loop()}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_add1e617033fc8ebd018a4d08e9fe4c66}\label{opencv__perception__node_8cpp_add1e617033fc8ebd018a4d08e9fe4c66}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!detectionPub@{detectionPub}}
\index{detectionPub@{detectionPub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{detectionPub}{detectionPub}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$sm\+\_\+husky\+\_\+barrel\+\_\+search\+\_\+1\+::msg\+::\+Detected\+Objects$>$\+::\+Shared\+Ptr detection\+Pub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00047}{47}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00298}{callback()}}, and \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{main\+\_\+ros\+\_\+loop()}}.

\mbox{\Hypertarget{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}\label{opencv__perception__node_8cpp_ad5193eeea23e67bab0b005e2c346558b}} 
\index{opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}!imageSub@{imageSub}}
\index{imageSub@{imageSub}!opencv\_perception\_node.cpp@{opencv\_perception\_node.cpp}}
\doxysubsubsection{\texorpdfstring{imageSub}{imageSub}}
{\footnotesize\ttfamily rclcpp\+::\+Subscription$<$sensor\+\_\+msgs\+::msg\+::\+Image$>$\+::\+Shared\+Ptr image\+Sub}



Definition at line \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00049}{49}} of file \mbox{\hyperlink{opencv__perception__node_8cpp_source}{opencv\+\_\+perception\+\_\+node.\+cpp}}.



Referenced by \mbox{\hyperlink{opencv__perception__node_8cpp_source_l00348}{main\+\_\+ros\+\_\+loop()}}.

