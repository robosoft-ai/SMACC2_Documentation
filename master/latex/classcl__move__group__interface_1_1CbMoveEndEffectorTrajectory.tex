\hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory}{}\doxysection{cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+End\+Effector\+Trajectory Class Reference}
\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory}\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}


{\ttfamily \#include $<$cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp$>$}



Inheritance diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+End\+Effector\+Trajectory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+group\+\_\+interface\+::Cb\+Move\+End\+Effector\+Trajectory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}{Cb\+Move\+End\+Effector\+Trajectory}} (std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a03844659ba62134d22f2a2150af5ca99}{Cb\+Move\+End\+Effector\+Trajectory}} (const std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \&end\+Effector\+Trajectory, std\+::string tip\+Link=\char`\"{}\char`\"{})
\item 
{\footnotesize template$<$typename TOrthogonal , typename TSource\+Object $>$ }\\void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}{on\+Orthogonal\+Allocation}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}{on\+Entry}} () override
\item 
virtual void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}{on\+Exit}} () override
\item 
virtual void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}{update}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::optional$<$ std\+::string $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a9e966beac541a2d7837ca895d6eab002}{group\+\_\+}}
\item 
std\+::optional$<$ std\+::string $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tip\+Link\+\_\+}}
\item 
std\+::optional$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2b90fb449266512edb237062a45c30d6}{allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017}{Compute\+Joint\+Trajectory\+Error\+Code}} \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765}{compute\+Joint\+Space\+Trajectory}} (moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&computed\+Joint\+Trajectory)
\item 
void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568}{execute\+Joint\+Space\+Trajectory}} (const moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&computed\+Joint\+Trajectory)
\item 
virtual void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{generate\+Trajectory}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{create\+Markers}} ()
\item 
void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a5bc57c28c9a7b050e584d4d0ebf3019a}{get\+Current\+End\+Effector\+Pose}} (std\+::string global\+Frame, tf2\+::\+Stamped$<$ tf2\+::\+Transform $>$ \&current\+End\+Effector\+Transform)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{end\+Effector\+Trajectory\+\_\+}}
\item 
\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup}{Cl\+Move\+Group}} $\ast$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroup\+Client\+\_\+}} = nullptr
\item 
visualization\+\_\+msgs\+::msg\+::\+Marker\+Array \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahior\+Markers\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initialize\+ROS}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
rclcpp\+::\+Publisher$<$ visualization\+\_\+msgs\+::msg\+::\+Marker\+Array $>$\+::Shared\+Ptr \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}{markers\+Pub\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markers\+Initialized\+\_\+}}
\item 
rclcpp\+::\+Client$<$ moveit\+\_\+msgs\+::srv\+::\+Get\+Position\+IK $>$\+::Shared\+Ptr \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ab4c33ad9cca1805334f195c649fbc862}{iksrv\+\_\+}}
\item 
std\+::mutex \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\+\_\+mutex\+\_\+}}
\item 
std\+::function$<$ void(moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&)$>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6a790d8f32c95f8b843eaee3f18b92a5}{post\+Joint\+Discontinuity\+Event}}
\item 
std\+::function$<$ void(moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&)$>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a0a47cfd3f0121601499f7f86df80e85d}{post\+Incorrect\+Initial\+State\+Event}}
\item 
std\+::function$<$ void()$>$ \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{post\+Motion\+Execution\+Failure\+Events}}
\item 
\mbox{\hyperlink{classbool}{bool}} \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}{autocleanmarkers}} = false
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 50 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!CbMoveEndEffectorTrajectory@{CbMoveEndEffectorTrajectory}}
\index{CbMoveEndEffectorTrajectory@{CbMoveEndEffectorTrajectory}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{CbMoveEndEffectorTrajectory()}{CbMoveEndEffectorTrajectory()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::\+Cb\+Move\+End\+Effector\+Trajectory (\begin{DoxyParamCaption}\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 35 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{36 : \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}}(tipLink), \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_}}(\textcolor{keyword}{false})}
\DoxyCodeLine{37 \{}
\DoxyCodeLine{38   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initializeROS}}();}
\DoxyCodeLine{39 \}}

\end{DoxyCode}


References initialize\+ROS().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af7e718b0c53e912fd74968abbb0a4810_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a03844659ba62134d22f2a2150af5ca99}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a03844659ba62134d22f2a2150af5ca99}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!CbMoveEndEffectorTrajectory@{CbMoveEndEffectorTrajectory}}
\index{CbMoveEndEffectorTrajectory@{CbMoveEndEffectorTrajectory}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{CbMoveEndEffectorTrajectory()}{CbMoveEndEffectorTrajectory()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::\+Cb\+Move\+End\+Effector\+Trajectory (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped $>$ \&}]{end\+Effector\+Trajectory,  }\item[{std\+::string}]{tip\+Link = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Definition at line 41 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{43 : \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}(endEffectorTrajectory), \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}}(tipLink), \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_}}(\textcolor{keyword}{false})}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \{}
\DoxyCodeLine{46   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}{initializeROS}}();}
\DoxyCodeLine{47 \}}

\end{DoxyCode}


References initialize\+ROS().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a03844659ba62134d22f2a2150af5ca99_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!computeJointSpaceTrajectory@{computeJointSpaceTrajectory}}
\index{computeJointSpaceTrajectory@{computeJointSpaceTrajectory}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{computeJointSpaceTrajectory()}{computeJointSpaceTrajectory()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017}{Compute\+Joint\+Trajectory\+Error\+Code}} cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::compute\+Joint\+Space\+Trajectory (\begin{DoxyParamCaption}\item[{moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&}]{computed\+Joint\+Trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 56 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59   \textcolor{comment}{// get current robot state}}
\DoxyCodeLine{60   \textcolor{keyword}{auto} \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aaed9d13c89ef6817faa0175dc9c8de17}{currentState}} = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}}.getCurrentState();}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   \textcolor{comment}{// get the IK client}}
\DoxyCodeLine{63   \textcolor{keyword}{auto} groupname = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}}.getName();}
\DoxyCodeLine{64   \textcolor{keyword}{auto} currentjointnames = \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aaed9d13c89ef6817faa0175dc9c8de17}{currentState}}-\/>getJointModelGroup(groupname)-\/>getActiveJointModelNames();}
\DoxyCodeLine{65 }
\DoxyCodeLine{66   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} || *\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{67   \{}
\DoxyCodeLine{68     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}}.getEndEffectorLink();}
\DoxyCodeLine{69   \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71   std::vector<double> jointPositions;}
\DoxyCodeLine{72   \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aaed9d13c89ef6817faa0175dc9c8de17}{currentState}}-\/>copyJointGroupPositions(groupname, jointPositions);}
\DoxyCodeLine{73 }
\DoxyCodeLine{74   std::vector<std::vector<double>> trajectory;}
\DoxyCodeLine{75   std::vector<rclcpp::Duration> trajectoryTimeStamps;}
\DoxyCodeLine{76 }
\DoxyCodeLine{77   trajectory.push\_back(jointPositions);}
\DoxyCodeLine{78   trajectoryTimeStamps.push\_back(rclcpp::Duration(0\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}}));}
\DoxyCodeLine{79 }
\DoxyCodeLine{80   \textcolor{keyword}{auto} \& first = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}.front();}
\DoxyCodeLine{81   rclcpp::Time referenceTime(first.header.stamp);}
\DoxyCodeLine{82 }
\DoxyCodeLine{83   std::vector<int> discontinuityIndexes;}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   \textcolor{keywordtype}{int} ikAttempts = 4;}
\DoxyCodeLine{86   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} k = 0; k < this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}.size(); k++)}
\DoxyCodeLine{87   \{}
\DoxyCodeLine{88     \textcolor{keyword}{auto} \& pose = this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}[k];}
\DoxyCodeLine{89     \textcolor{keyword}{auto} req = std::make\_shared<moveit\_msgs::srv::GetPositionIK::Request>();}
\DoxyCodeLine{90     \textcolor{comment}{//req.ik\_request.attempts = 20;}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92     req-\/>ik\_request.ik\_link\_name = *\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}};}
\DoxyCodeLine{93     req-\/>ik\_request.robot\_state.joint\_state.name = currentjointnames;}
\DoxyCodeLine{94     req-\/>ik\_request.robot\_state.joint\_state.position = jointPositions;}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     req-\/>ik\_request.group\_name = groupname;}
\DoxyCodeLine{97     req-\/>ik\_request.avoid\_collisions = \textcolor{keyword}{true};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \textcolor{comment}{//pose.header.stamp = getNode()-\/>now();}}
\DoxyCodeLine{100     req-\/>ik\_request.pose\_stamped = pose;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102     RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}IK request: "{}} << *req);}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{keyword}{auto} resfut = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ab4c33ad9cca1805334f195c649fbc862}{iksrv\_}}-\/>async\_send\_request(req);}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{keywordflow}{if} (rclcpp::spin\_until\_future\_complete(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a95c9749af2004528fbda63ca6fde8eae}{getNode}}(), resfut) == rclcpp::FutureReturnCode::SUCCESS)}
\DoxyCodeLine{107     \{}
\DoxyCodeLine{108       \textcolor{keyword}{auto} \& prevtrajpoint = trajectory.back();}
\DoxyCodeLine{109       \textcolor{comment}{//jointPositions.clear();}}
\DoxyCodeLine{110 }
\DoxyCodeLine{111       \textcolor{keyword}{auto} res = resfut.get();}
\DoxyCodeLine{112       std::stringstream ss;}
\DoxyCodeLine{113       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < res-\/>solution.joint\_state.position.size(); j++)}
\DoxyCodeLine{114       \{}
\DoxyCodeLine{115         \textcolor{keyword}{auto} \& jointname = res-\/>solution.joint\_state.name[j];}
\DoxyCodeLine{116         \textcolor{keyword}{auto} it = std::find(currentjointnames.begin(), currentjointnames.end(), jointname);}
\DoxyCodeLine{117         \textcolor{keywordflow}{if} (it != currentjointnames.end())}
\DoxyCodeLine{118         \{}
\DoxyCodeLine{119           \textcolor{keywordtype}{int} index = std::distance(currentjointnames.begin(), it);}
\DoxyCodeLine{120           jointPositions[index] = res-\/>solution.joint\_state.position[j];}
\DoxyCodeLine{121           ss << jointname << \textcolor{stringliteral}{"{}("{}} << index << \textcolor{stringliteral}{"{}): "{}} << jointPositions[index] << std::endl;}
\DoxyCodeLine{122         \}}
\DoxyCodeLine{123       \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125       \textcolor{comment}{// continuity check}}
\DoxyCodeLine{126       \textcolor{keywordtype}{int} jointindex = 0;}
\DoxyCodeLine{127       \textcolor{keywordtype}{int} discontinuityJointIndex = -\/1;}
\DoxyCodeLine{128       \textcolor{keywordtype}{double} discontinuityDeltaJointIndex = -\/1;}
\DoxyCodeLine{129       \textcolor{keywordtype}{double} deltajoint;}
\DoxyCodeLine{130 }
\DoxyCodeLine{131       \textcolor{keywordtype}{bool} check = k > 0 || !\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2b90fb449266512edb237062a45c30d6}{allowInitialTrajectoryStateJointDiscontinuity\_}} ||}
\DoxyCodeLine{132                    \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2b90fb449266512edb237062a45c30d6}{allowInitialTrajectoryStateJointDiscontinuity\_}} \&\&}
\DoxyCodeLine{133                      !(*allowInitialTrajectoryStateJointDiscontinuity\_);}
\DoxyCodeLine{134       \textcolor{keywordflow}{if} (check)}
\DoxyCodeLine{135       \{}
\DoxyCodeLine{136         \textcolor{keywordflow}{for} (jointindex = 0; jointindex < jointPositions.size(); jointindex++)}
\DoxyCodeLine{137         \{}
\DoxyCodeLine{138           deltajoint = jointPositions[jointindex] -\/ prevtrajpoint[jointindex];}
\DoxyCodeLine{139 }
\DoxyCodeLine{140           \textcolor{keywordflow}{if} (fabs(deltajoint) > 0.3 \textcolor{comment}{/*2.5 deg*/})}
\DoxyCodeLine{141           \{}
\DoxyCodeLine{142             discontinuityDeltaJointIndex = deltajoint;}
\DoxyCodeLine{143             discontinuityJointIndex = jointindex;}
\DoxyCodeLine{144           \}}
\DoxyCodeLine{145         \}}
\DoxyCodeLine{146       \}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148       \textcolor{keywordflow}{if} (ikAttempts > 0 \&\& discontinuityJointIndex != -\/1)}
\DoxyCodeLine{149       \{}
\DoxyCodeLine{150         k-\/-\/;}
\DoxyCodeLine{151         ikAttempts-\/-\/;}
\DoxyCodeLine{152         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{153       \}}
\DoxyCodeLine{154       \textcolor{keywordflow}{else}}
\DoxyCodeLine{155       \{}
\DoxyCodeLine{156         \textcolor{keywordtype}{bool} discontinuity = \textcolor{keyword}{false};}
\DoxyCodeLine{157         \textcolor{keywordflow}{if} (ikAttempts == 0)}
\DoxyCodeLine{158         \{}
\DoxyCodeLine{159           discontinuityIndexes.push\_back(k);}
\DoxyCodeLine{160           discontinuity = \textcolor{keyword}{true};}
\DoxyCodeLine{161         \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163         ikAttempts = 4;}
\DoxyCodeLine{164 }
\DoxyCodeLine{165         \textcolor{keywordflow}{if} (discontinuity \&\& discontinuityJointIndex != -\/1)}
\DoxyCodeLine{166         \{}
\DoxyCodeLine{167           \textcolor{comment}{// show a message and stop the trajectory generation \&\& jointindex!= 7 || fabs(deltajoint) > 0.1 /*2.5 deg*/  \&\& jointindex== 7}}
\DoxyCodeLine{168           std::stringstream ss;}
\DoxyCodeLine{169           ss << \textcolor{stringliteral}{"{}Traj["{}} << k << \textcolor{stringliteral}{"{}/"{}} << \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}.size() << \textcolor{stringliteral}{"{}] "{}}}
\DoxyCodeLine{170              << currentjointnames[discontinuityJointIndex]}
\DoxyCodeLine{171              << \textcolor{stringliteral}{"{} IK discontinuity : "{}} << discontinuityDeltaJointIndex << std::endl}
\DoxyCodeLine{172              << \textcolor{stringliteral}{"{}prev joint value: "{}} << prevtrajpoint[discontinuityJointIndex] << std::endl}
\DoxyCodeLine{173              << \textcolor{stringliteral}{"{}current joint value: "{}} << jointPositions[discontinuityJointIndex] << std::endl;}
\DoxyCodeLine{174 }
\DoxyCodeLine{175           ss << std::endl;}
\DoxyCodeLine{176           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} ji = 0; ji < jointPositions.size(); ji++)}
\DoxyCodeLine{177           \{}
\DoxyCodeLine{178             ss << currentjointnames[ji] << \textcolor{stringliteral}{"{}: "{}} << jointPositions[ji] << std::endl;}
\DoxyCodeLine{179           \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} kindex = 0; kindex < trajectory.size(); kindex++)}
\DoxyCodeLine{182           \{}
\DoxyCodeLine{183             ss << \textcolor{stringliteral}{"{}["{}} << kindex << \textcolor{stringliteral}{"{}]: "{}} << trajectory[kindex][discontinuityJointIndex]}
\DoxyCodeLine{184                << std::endl;}
\DoxyCodeLine{185           \}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187           \textcolor{keywordflow}{if} (k == 0)}
\DoxyCodeLine{188           \{}
\DoxyCodeLine{189             ss << \textcolor{stringliteral}{"{}This is the first posture of the trajectory. Maybe the robot initial posture is "{}}}
\DoxyCodeLine{190                   \textcolor{stringliteral}{"{}not coincident to the initial posture of the generated joint trajectory."{}}}
\DoxyCodeLine{191                << std::endl;}
\DoxyCodeLine{192           \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194           RCLCPP\_ERROR\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), ss.str());}
\DoxyCodeLine{195 }
\DoxyCodeLine{196           trajectory.push\_back(jointPositions);}
\DoxyCodeLine{197           rclcpp::Duration durationFromStart = rclcpp::Time(pose.header.stamp) -\/ referenceTime;}
\DoxyCodeLine{198           trajectoryTimeStamps.push\_back(durationFromStart);}
\DoxyCodeLine{199 }
\DoxyCodeLine{200           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{201         \}}
\DoxyCodeLine{202         \textcolor{keywordflow}{else}}
\DoxyCodeLine{203         \{}
\DoxyCodeLine{204           trajectory.push\_back(jointPositions);}
\DoxyCodeLine{205           rclcpp::Duration durationFromStart = rclcpp::Time(pose.header.stamp) -\/ referenceTime;}
\DoxyCodeLine{206           trajectoryTimeStamps.push\_back(durationFromStart);}
\DoxyCodeLine{207 }
\DoxyCodeLine{208           RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}IK solution: "{}} << res-\/>solution.joint\_state);}
\DoxyCodeLine{209           RCLCPP\_DEBUG\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}trajpoint: "{}} << std::endl << ss.str());}
\DoxyCodeLine{210         \}}
\DoxyCodeLine{211       \}}
\DoxyCodeLine{212     \}}
\DoxyCodeLine{213     \textcolor{keywordflow}{else}}
\DoxyCodeLine{214     \{}
\DoxyCodeLine{215       RCLCPP\_ERROR(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}[CbMoveEndEffectorTrajectory] wrong IK call"{}});}
\DoxyCodeLine{216     \}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     RCLCPP\_WARN\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}-\/-\/-\/-\/-\/"{}});}
\DoxyCodeLine{219   \}}
\DoxyCodeLine{220 }
\DoxyCodeLine{221   \textcolor{comment}{// interpolate speeds?}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223   \textcolor{comment}{// interpolate accelerations?}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225   \textcolor{comment}{// get current robot state}}
\DoxyCodeLine{226   \textcolor{comment}{// fill plan message}}
\DoxyCodeLine{227   \textcolor{comment}{// computedMotionPlan.start\_state\_.joint\_state.name = currentjointnames;}}
\DoxyCodeLine{228   \textcolor{comment}{// computedMotionPlan.start\_state\_.joint\_state.position = trajectory.front();}}
\DoxyCodeLine{229   \textcolor{comment}{// computedMotionPlan.trajectory\_.joint\_trajectory.joint\_names = currentjointnames;}}
\DoxyCodeLine{230 }
\DoxyCodeLine{231   computedJointTrajectory.joint\_trajectory.joint\_names = currentjointnames;}
\DoxyCodeLine{232   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{233   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& p : trajectory)}
\DoxyCodeLine{234   \{}
\DoxyCodeLine{235     \textcolor{keywordflow}{if} (}
\DoxyCodeLine{236       i ==}
\DoxyCodeLine{237       0)  \textcolor{comment}{// not copy the current state in the trajectory (used to solve discontinuity in other behaviors)}}
\DoxyCodeLine{238     \{}
\DoxyCodeLine{239       i++;}
\DoxyCodeLine{240       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{241     \}}
\DoxyCodeLine{242 }
\DoxyCodeLine{243     trajectory\_msgs::msg::JointTrajectoryPoint jp;}
\DoxyCodeLine{244     jp.positions = p;}
\DoxyCodeLine{245     jp.time\_from\_start = trajectoryTimeStamps[i];  \textcolor{comment}{//rclcpp::Duration(t);}}
\DoxyCodeLine{246     computedJointTrajectory.joint\_trajectory.points.push\_back(jp);}
\DoxyCodeLine{247     i++;}
\DoxyCodeLine{248   \}}
\DoxyCodeLine{249 }
\DoxyCodeLine{250   \textcolor{keywordflow}{if} (discontinuityIndexes.size())}
\DoxyCodeLine{251   \{}
\DoxyCodeLine{252     \textcolor{keywordflow}{if} (discontinuityIndexes[0] == 0)}
\DoxyCodeLine{253       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a1b748367c8d468cb9b65ecd6b2eab32c}{ComputeJointTrajectoryErrorCode::INCORRECT\_INITIAL\_STATE}};}
\DoxyCodeLine{254     \textcolor{keywordflow}{else}}
\DoxyCodeLine{255       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a3e86842785cd7c42003e516418347c8e}{ComputeJointTrajectoryErrorCode::JOINT\_TRAJECTORY\_DISCONTINUITY}};}
\DoxyCodeLine{256   \}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017ad0749aaba8b833466dfcbb0428e4f89c}{ComputeJointTrajectoryErrorCode::SUCCESS}};}
\DoxyCodeLine{259 \}}

\end{DoxyCode}


References allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+, smacc2\+::\+ISmacc\+Client\+Behavior\+::current\+State, end\+Effector\+Trajectory\+\_\+, smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Logger(), smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node(), iksrv\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+INCORRECT\+\_\+\+INITIAL\+\_\+\+STATE, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+JOINT\+\_\+\+TRAJECTORY\+\_\+\+DISCONTINUITY, movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, service\+\_\+node\+\_\+3\+::s, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+SUCCESS, and tip\+Link\+\_\+.



Referenced by on\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!createMarkers@{createMarkers}}
\index{createMarkers@{createMarkers}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{createMarkers()}{createMarkers()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::create\+Markers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a26d603b1d9bdbf5b71da6c1c4af2c322}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}, and \mbox{\hyperlink{classcl__move__group__interface_1_1CbCircularPivotMotion_a48911ad62608cb00c04e979e2f6f644a}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion}}.



Definition at line 373 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{374 \{}
\DoxyCodeLine{375   tf2::Transform localdirection;}
\DoxyCodeLine{376   localdirection.setIdentity();}
\DoxyCodeLine{377   localdirection.setOrigin(tf2::Vector3(0.05, 0, 0));}
\DoxyCodeLine{378   \textcolor{keyword}{auto} frameid = this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}.front().header.frame\_id;}
\DoxyCodeLine{379 }
\DoxyCodeLine{380   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& pose : this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}})}
\DoxyCodeLine{381   \{}
\DoxyCodeLine{382     visualization\_msgs::msg::Marker marker;}
\DoxyCodeLine{383     marker.header.frame\_id = frameid;}
\DoxyCodeLine{384     marker.header.stamp = \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a95c9749af2004528fbda63ca6fde8eae}{getNode}}()-\/>now();}
\DoxyCodeLine{385     marker.ns = \textcolor{stringliteral}{"{}trajectory"{}};}
\DoxyCodeLine{386     marker.id = this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahiorMarkers\_}}.markers.size();}
\DoxyCodeLine{387     marker.type = visualization\_msgs::msg::Marker::ARROW;}
\DoxyCodeLine{388     marker.action = visualization\_msgs::msg::Marker::ADD;}
\DoxyCodeLine{389     marker.scale.x = 0.005;}
\DoxyCodeLine{390     marker.scale.y = 0.01;}
\DoxyCodeLine{391     marker.scale.z = 0.01;}
\DoxyCodeLine{392     marker.color.a = 0.8;}
\DoxyCodeLine{393     marker.color.r = 1.0;}
\DoxyCodeLine{394     marker.color.g = 0;}
\DoxyCodeLine{395     marker.color.b = 0;}
\DoxyCodeLine{396 }
\DoxyCodeLine{397     geometry\_msgs::msg::Point start, end;}
\DoxyCodeLine{398     start.x = 0;}
\DoxyCodeLine{399     start.y = 0;}
\DoxyCodeLine{400     start.z = 0;}
\DoxyCodeLine{401 }
\DoxyCodeLine{402     tf2::Transform basetransform;}
\DoxyCodeLine{403     tf2::fromMsg(pose.pose, basetransform);}
\DoxyCodeLine{404     tf2::Transform endarrow = localdirection * basetransform;}
\DoxyCodeLine{405 }
\DoxyCodeLine{406     end.x = localdirection.getOrigin().x();}
\DoxyCodeLine{407     end.y = localdirection.getOrigin().y();}
\DoxyCodeLine{408     end.z = localdirection.getOrigin().z();}
\DoxyCodeLine{409 }
\DoxyCodeLine{410     marker.pose.position = pose.pose.position;}
\DoxyCodeLine{411     marker.pose.orientation = pose.pose.orientation;}
\DoxyCodeLine{412     marker.points.push\_back(start);}
\DoxyCodeLine{413     marker.points.push\_back(end);}
\DoxyCodeLine{414 }
\DoxyCodeLine{415     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahiorMarkers\_}}.markers.push\_back(marker);}
\DoxyCodeLine{416   \}}
\DoxyCodeLine{417 \}}

\end{DoxyCode}


References beahior\+Markers\+\_\+, end\+Effector\+Trajectory\+\_\+, and smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node().



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers(), and on\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!executeJointSpaceTrajectory@{executeJointSpaceTrajectory}}
\index{executeJointSpaceTrajectory@{executeJointSpaceTrajectory}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{executeJointSpaceTrajectory()}{executeJointSpaceTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::execute\+Joint\+Space\+Trajectory (\begin{DoxyParamCaption}\item[{const moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&}]{computed\+Joint\+Trajectory }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 261 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{263 \{}
\DoxyCodeLine{264   RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}() << \textcolor{stringliteral}{"{}] Executing joint trajectory"{}});}
\DoxyCodeLine{265   \textcolor{comment}{// call execute}}
\DoxyCodeLine{266   \textcolor{keyword}{auto} executionResult =}
\DoxyCodeLine{267     this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}}.execute(computedJointTrajectory);}
\DoxyCodeLine{268 }
\DoxyCodeLine{269   \textcolor{keywordflow}{if} (executionResult == moveit\_msgs::msg::MoveItErrorCodes::SUCCESS)}
\DoxyCodeLine{270   \{}
\DoxyCodeLine{271     RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}() << \textcolor{stringliteral}{"{}] motion execution succeeded"{}});}
\DoxyCodeLine{272     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_aebaf269db373d41837bae87651458e54}{postEventMotionExecutionSucceded}}();}
\DoxyCodeLine{273     this-\/>\mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_a2fb4de26d011fbbb55bc1bbaed2e6f5b}{postSuccessEvent}}();}
\DoxyCodeLine{274   \}}
\DoxyCodeLine{275   \textcolor{keywordflow}{else}}
\DoxyCodeLine{276   \{}
\DoxyCodeLine{277     this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{postMotionExecutionFailureEvents}}();}
\DoxyCodeLine{278     this-\/>\mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_afcb5c1a0bf3b9bae6c54e8f5ef1bc04d}{postFailureEvent}}();}
\DoxyCodeLine{279   \}}
\DoxyCodeLine{280 \}}

\end{DoxyCode}


References smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Logger(), smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Name(), movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Succeded(), smacc2\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Failure\+Event(), post\+Motion\+Execution\+Failure\+Events, and smacc2\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Success\+Event().



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory\+::on\+Entry(), on\+Entry(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Undo\+Last\+Trajectory\+::on\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!generateTrajectory@{generateTrajectory}}
\index{generateTrajectory@{generateTrajectory}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{generateTrajectory()}{generateTrajectory()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::generate\+Trajectory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{classcl__move__group__interface_1_1CbCircularPouringMotion_a9150bb3731082aad3af2d7d6e067a344}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion}}, \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveCartesianRelative2_a6a7be34d35865a627bfc3656c4053dba}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Cartesian\+Relative2}}, and \mbox{\hyperlink{classcl__move__group__interface_1_1CbCircularPivotMotion_a8d019ec6b9b26a2af0740b915d441a40}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion}}.



Definition at line 419 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{420 \{}
\DoxyCodeLine{421   \textcolor{comment}{// bypass current trajectory, overridden in derived classes}}
\DoxyCodeLine{422   \textcolor{comment}{// this-\/>endEffectorTrajectory\_ = ...}}
\DoxyCodeLine{423 \}}

\end{DoxyCode}


Referenced by on\+Entry().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a5bc57c28c9a7b050e584d4d0ebf3019a}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a5bc57c28c9a7b050e584d4d0ebf3019a}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!getCurrentEndEffectorPose@{getCurrentEndEffectorPose}}
\index{getCurrentEndEffectorPose@{getCurrentEndEffectorPose}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{getCurrentEndEffectorPose()}{getCurrentEndEffectorPose()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::get\+Current\+End\+Effector\+Pose (\begin{DoxyParamCaption}\item[{std\+::string}]{global\+Frame,  }\item[{tf2\+::\+Stamped$<$ tf2\+::\+Transform $>$ \&}]{current\+End\+Effector\+Transform }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 425 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{427 \{}
\DoxyCodeLine{428   tf2\_ros::Buffer tfBuffer(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a95c9749af2004528fbda63ca6fde8eae}{getNode}}()-\/>get\_clock());}
\DoxyCodeLine{429   tf2\_ros::TransformListener tfListener(tfBuffer);}
\DoxyCodeLine{430 }
\DoxyCodeLine{431   \textcolor{keywordflow}{try}}
\DoxyCodeLine{432   \{}
\DoxyCodeLine{433     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} || *\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{434     \{}
\DoxyCodeLine{435       \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}} = this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a92922ea689e4e1b7b91512c56629c95b}{moveGroupClientInterface}}.getEndEffectorLink();}
\DoxyCodeLine{436     \}}
\DoxyCodeLine{437 }
\DoxyCodeLine{438     tf2::fromMsg(}
\DoxyCodeLine{439       tfBuffer.lookupTransform(globalFrame, *\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}{tipLink\_}}, rclcpp::Time(0), rclcpp::Duration(10\mbox{\hyperlink{namespaceservice__node__3_aa976421a49e0b54f23833423400849ae}{s}})),}
\DoxyCodeLine{440       currentEndEffectorTransform);}
\DoxyCodeLine{441 }
\DoxyCodeLine{442     \textcolor{comment}{//tfListener.lookupTransform(globalFrame, *tipLink\_, rclcpp::Time(0), currentEndEffectorTransform);}}
\DoxyCodeLine{443 }
\DoxyCodeLine{444     \textcolor{comment}{// we define here the global frame as the pivot frame id}}
\DoxyCodeLine{445     \textcolor{comment}{// tfListener.waitForTransform(currentRobotEndEffectorPose.header.frame\_id, planePivotPose\_.header.frame\_id, rclcpp::Time(0), rclcpp::Duration(10));}}
\DoxyCodeLine{446     \textcolor{comment}{// tfListener.lookupTransform(currentRobotEndEffectorPose.header.frame\_id, planePivotPose\_.header.frame\_id, rclcpp::Time(0), globalBaseLink);}}
\DoxyCodeLine{447   \}}
\DoxyCodeLine{448   \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \& e)}
\DoxyCodeLine{449   \{}
\DoxyCodeLine{450     std::cerr << e.what() << std::endl;}
\DoxyCodeLine{451   \}}
\DoxyCodeLine{452 \}}

\end{DoxyCode}


References smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node(), movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::move\+Group\+Client\+Interface, service\+\_\+node\+\_\+3\+::s, and tip\+Link\+\_\+.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Cartesian\+Relative2\+::generate\+Trajectory(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::generate\+Trajectory().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a5bc57c28c9a7b050e584d4d0ebf3019a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a5bc57c28c9a7b050e584d4d0ebf3019a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!initializeROS@{initializeROS}}
\index{initializeROS@{initializeROS}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{initializeROS()}{initializeROS()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::initialize\+ROS (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 49 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{50 \{}
\DoxyCodeLine{51   \textcolor{keyword}{auto} nh = this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a95c9749af2004528fbda63ca6fde8eae}{getNode}}();}
\DoxyCodeLine{52   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}{markersPub\_}} = nh-\/>create\_publisher<visualization\_msgs::msg::MarkerArray>(\textcolor{stringliteral}{"{}trajectory\_markers"{}}, 1);}
\DoxyCodeLine{53   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ab4c33ad9cca1805334f195c649fbc862}{iksrv\_}} = nh-\/>create\_client<moveit\_msgs::srv::GetPositionIK>(\textcolor{stringliteral}{"{}/compute\_ik"{}});}
\DoxyCodeLine{54 \}}

\end{DoxyCode}


References smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node(), iksrv\+\_\+, and markers\+Pub\+\_\+.



Referenced by Cb\+Move\+End\+Effector\+Trajectory().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_afcee8f3853a5cef8806137a304c8a14b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!onEntry@{onEntry}}
\index{onEntry@{onEntry}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{onEntry()}{onEntry()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Entry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_aca7382c4d17b5f4a7b98f7e399203017}{smacc2\+::\+ISmacc\+Client\+Behavior}}.



Reimplemented in \mbox{\hyperlink{classcl__move__group__interface_1_1CbUndoLastTrajectory_a3c55fa93ff65d8eccb8cc14a420cb7b2}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Undo\+Last\+Trajectory}}, \mbox{\hyperlink{classcl__move__group__interface_1_1CbExecuteLastTrajectory_ac78713663c39635ca5ac9a749503e800}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory}}, and \mbox{\hyperlink{classcl__move__group__interface_1_1CbEndEffectorRotate_a3e60bfba48906696587d66af89f7ee2b}{cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate}}.



Definition at line 282 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{283 \{}
\DoxyCodeLine{284   this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_ad32d91e7aa6ac921b8d29610bd925244}{requiresClient}}(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}});}
\DoxyCodeLine{285 }
\DoxyCodeLine{286   this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aeae938ab66e18ab7d2fb2427bc83647b}{generateTrajectory}}();}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   \textcolor{keywordflow}{if} (this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}{endEffectorTrajectory\_}}.size() == 0)}
\DoxyCodeLine{289   \{}
\DoxyCodeLine{290     RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{291       \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << \mbox{\hyperlink{namespacesmacc2_1_1introspection_a9eb0636530a97a26f0fce97dfd2d5715}{smacc2::demangleSymbol}}(\textcolor{keyword}{typeid}(*this).name())}
\DoxyCodeLine{292                        << \textcolor{stringliteral}{"{}] No points in the trajectory. Skipping behavior."{}});}
\DoxyCodeLine{293     \textcolor{keywordflow}{return};}
\DoxyCodeLine{294   \}}
\DoxyCodeLine{295 }
\DoxyCodeLine{296   this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a442efa1d5bc9e9a16f74ecd31b13d9b5}{createMarkers}}();}
\DoxyCodeLine{297   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{298 }
\DoxyCodeLine{299   moveit\_msgs::msg::RobotTrajectory computedTrajectory;}
\DoxyCodeLine{300 }
\DoxyCodeLine{301   \textcolor{keyword}{auto} errorcode = \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a055e5496616a4290dedc221eadf7b765}{computeJointSpaceTrajectory}}(computedTrajectory);}
\DoxyCodeLine{302 }
\DoxyCodeLine{303   \textcolor{keywordtype}{bool} trajectoryGenerationSuccess = errorcode == \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017ad0749aaba8b833466dfcbb0428e4f89c}{ComputeJointTrajectoryErrorCode::SUCCESS}};}
\DoxyCodeLine{304 }
\DoxyCodeLine{305   CpTrajectoryHistory * trajectoryHistory;}
\DoxyCodeLine{306   this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_ad415c0418bb6b05ee5c30848bc635594}{requiresComponent}}(trajectoryHistory);}
\DoxyCodeLine{307 }
\DoxyCodeLine{308   \textcolor{keywordflow}{if} (!trajectoryGenerationSuccess)}
\DoxyCodeLine{309   \{}
\DoxyCodeLine{310     RCLCPP\_INFO\_STREAM(}
\DoxyCodeLine{311       \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}() << \textcolor{stringliteral}{"{}] Incorrect trajectory. Posting failure event."{}});}
\DoxyCodeLine{312     \textcolor{keywordflow}{if} (trajectoryHistory != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{313     \{}
\DoxyCodeLine{314       moveit\_msgs::msg::MoveItErrorCodes error;}
\DoxyCodeLine{315       error.val = moveit\_msgs::msg::MoveItErrorCodes::NO\_IK\_SOLUTION;}
\DoxyCodeLine{316       trajectoryHistory-\/>pushTrajectory(this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}(), computedTrajectory, error);}
\DoxyCodeLine{317     \}}
\DoxyCodeLine{318 }
\DoxyCodeLine{319     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a39dc3871d29b2af1ab739057f6ca6daa}{postEventMotionExecutionFailed}}();}
\DoxyCodeLine{320     this-\/>\mbox{\hyperlink{classsmacc2_1_1SmaccAsyncClientBehavior_afcb5c1a0bf3b9bae6c54e8f5ef1bc04d}{postFailureEvent}}();}
\DoxyCodeLine{321 }
\DoxyCodeLine{322     \textcolor{keywordflow}{if} (errorcode == \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a3e86842785cd7c42003e516418347c8e}{ComputeJointTrajectoryErrorCode::JOINT\_TRAJECTORY\_DISCONTINUITY}})}
\DoxyCodeLine{323     \{}
\DoxyCodeLine{324       this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6a790d8f32c95f8b843eaee3f18b92a5}{postJointDiscontinuityEvent}}(computedTrajectory);}
\DoxyCodeLine{325     \}}
\DoxyCodeLine{326     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (errorcode == \mbox{\hyperlink{namespacecl__move__group__interface_ae5fc1caf9a16ae5ad1c97c2e137a7017a1b748367c8d468cb9b65ecd6b2eab32c}{ComputeJointTrajectoryErrorCode::INCORRECT\_INITIAL\_STATE}})}
\DoxyCodeLine{327     \{}
\DoxyCodeLine{328       this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a0a47cfd3f0121601499f7f86df80e85d}{postIncorrectInitialStateEvent}}(computedTrajectory);}
\DoxyCodeLine{329     \}}
\DoxyCodeLine{330     \textcolor{keywordflow}{return};}
\DoxyCodeLine{331   \}}
\DoxyCodeLine{332   \textcolor{keywordflow}{else}}
\DoxyCodeLine{333   \{}
\DoxyCodeLine{334     \textcolor{keywordflow}{if} (trajectoryHistory != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{335     \{}
\DoxyCodeLine{336       moveit\_msgs::msg::MoveItErrorCodes error;}
\DoxyCodeLine{337       error.val = moveit\_msgs::msg::MoveItErrorCodes::SUCCESS;}
\DoxyCodeLine{338       trajectoryHistory-\/>pushTrajectory(this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}(), computedTrajectory, error);}
\DoxyCodeLine{339     \}}
\DoxyCodeLine{340 }
\DoxyCodeLine{341     this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_af3fdebf965562ae42df2030855797568}{executeJointSpaceTrajectory}}(computedTrajectory);}
\DoxyCodeLine{342   \}}
\DoxyCodeLine{343 }
\DoxyCodeLine{344   \textcolor{comment}{// handle finishing events}}
\DoxyCodeLine{345 \}  \textcolor{comment}{// namespace cl\_move\_group\_interface}}

\end{DoxyCode}


References compute\+Joint\+Space\+Trajectory(), create\+Markers(), smacc2\+::introspection\+::demangle\+Symbol(), end\+Effector\+Trajectory\+\_\+, execute\+Joint\+Space\+Trajectory(), generate\+Trajectory(), smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Logger(), smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Name(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+INCORRECT\+\_\+\+INITIAL\+\_\+\+STATE, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+JOINT\+\_\+\+TRAJECTORY\+\_\+\+DISCONTINUITY, markers\+Initialized\+\_\+, movegroup\+Client\+\_\+, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Failed(), smacc2\+::\+Smacc\+Async\+Client\+Behavior\+::post\+Failure\+Event(), post\+Incorrect\+Initial\+State\+Event, post\+Joint\+Discontinuity\+Event, cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cp\+Trajectory\+History\+::push\+Trajectory(), smacc2\+::\+ISmacc\+Client\+Behavior\+::requires\+Client(), smacc2\+::\+ISmacc\+Client\+Behavior\+::requires\+Component(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+SUCCESS.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aaedd074fd178c6390a4a3f1ccff23ad3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!onExit@{onExit}}
\index{onExit@{onExit}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{onExit()}{onExit()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Exit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a52b767b7cbb438aa23ea0f6cfda2a3db}{smacc2\+::\+ISmacc\+Client\+Behavior}}.



Definition at line 356 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{357 \{}
\DoxyCodeLine{358   \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{359 }
\DoxyCodeLine{360   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}{autocleanmarkers}})}
\DoxyCodeLine{361   \{}
\DoxyCodeLine{362     std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\_mutex\_}});}
\DoxyCodeLine{363     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& marker : this-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahiorMarkers\_}}.markers)}
\DoxyCodeLine{364     \{}
\DoxyCodeLine{365       marker.header.stamp = \mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a95c9749af2004528fbda63ca6fde8eae}{getNode}}()-\/>now();}
\DoxyCodeLine{366       marker.action = visualization\_msgs::msg::Marker::DELETE;}
\DoxyCodeLine{367     \}}
\DoxyCodeLine{368 }
\DoxyCodeLine{369     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}{markersPub\_}}-\/>publish(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahiorMarkers\_}});}
\DoxyCodeLine{370   \}}
\DoxyCodeLine{371 \}}

\end{DoxyCode}


References autocleanmarkers, beahior\+Markers\+\_\+, smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Node(), m\+\_\+mutex\+\_\+, markers\+Initialized\+\_\+, and markers\+Pub\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a4952c092e69bc6e9831568de32888da5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!onOrthogonalAllocation@{onOrthogonalAllocation}}
\index{onOrthogonalAllocation@{onOrthogonalAllocation}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{onOrthogonalAllocation()}{onOrthogonalAllocation()}}
{\footnotesize\ttfamily template$<$typename TOrthogonal , typename TSource\+Object $>$ \\
void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::on\+Orthogonal\+Allocation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 68 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{69   \{}
\DoxyCodeLine{70     smacc2::SmaccAsyncClientBehavior::onOrthogonalAllocation<TOrthogonal, TSourceObject>();}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6a790d8f32c95f8b843eaee3f18b92a5}{postJointDiscontinuityEvent}} = [\textcolor{keyword}{this}](\textcolor{keyword}{auto} traj) \{}
\DoxyCodeLine{73       \textcolor{keyword}{auto} ev = \textcolor{keyword}{new} EvJointDiscontinuity<TSourceObject, TOrthogonal>();}
\DoxyCodeLine{74       ev-\/>trajectory = traj;}
\DoxyCodeLine{75       this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a291c6cc5a71d18a01c52edd72aff988f}{postEvent}}(ev);}
\DoxyCodeLine{76     \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a0a47cfd3f0121601499f7f86df80e85d}{postIncorrectInitialStateEvent}} = [\textcolor{keyword}{this}](\textcolor{keyword}{auto} traj) \{}
\DoxyCodeLine{79       \textcolor{keyword}{auto} ev = \textcolor{keyword}{new} EvIncorrectInitialPosition<TSourceObject, TOrthogonal>();}
\DoxyCodeLine{80       ev-\/>trajectory = traj;}
\DoxyCodeLine{81       this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a291c6cc5a71d18a01c52edd72aff988f}{postEvent}}(ev);}
\DoxyCodeLine{82     \};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}{postMotionExecutionFailureEvents}} = [\textcolor{keyword}{this}] \{}
\DoxyCodeLine{85       RCLCPP\_INFO\_STREAM(\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a5474074c4b45e900499e30126fb8415c}{getLogger}}(), \textcolor{stringliteral}{"{}["{}} << this-\/>\mbox{\hyperlink{classsmacc2_1_1ISmaccClientBehavior_a3feaa9c382a7d376b7ba0017a63e294e}{getName}}() << \textcolor{stringliteral}{"{}] motion execution failed"{}});}
\DoxyCodeLine{86       \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}{movegroupClient\_}}-\/>\mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup_a39dc3871d29b2af1ab739057f6ca6daa}{postEventMotionExecutionFailed}}();}
\DoxyCodeLine{87       this-\/>postEvent<EvMoveGroupMotionExecutionFailed<TSourceObject, TOrthogonal>>();}
\DoxyCodeLine{88     \};}
\DoxyCodeLine{89   \}}

\end{DoxyCode}


References smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Logger(), smacc2\+::\+ISmacc\+Client\+Behavior\+::get\+Name(), movegroup\+Client\+\_\+, smacc2\+::\+ISmacc\+Client\+Behavior\+::post\+Event(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cl\+Move\+Group\+::post\+Event\+Motion\+Execution\+Failed(), post\+Incorrect\+Initial\+State\+Event, post\+Joint\+Discontinuity\+Event, and post\+Motion\+Execution\+Failure\+Events.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aae4797fba54cb3bf371cc67d26a82186_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a57fedb6a0603fe569842a13faf19f5cd}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!update@{update}}
\index{update@{update}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsmacc2_1_1ISmaccUpdatable_a21158bb7ce0c72d8a827946267d11485}{smacc2\+::\+ISmacc\+Updatable}}.



Definition at line 347 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{348 \{}
\DoxyCodeLine{349   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}{markersInitialized\_}})}
\DoxyCodeLine{350   \{}
\DoxyCodeLine{351     std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}{m\_mutex\_}});}
\DoxyCodeLine{352     \mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}{markersPub\_}}-\/>publish(\mbox{\hyperlink{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}{beahiorMarkers\_}});}
\DoxyCodeLine{353   \}}
\DoxyCodeLine{354 \}}

\end{DoxyCode}


References beahior\+Markers\+\_\+, m\+\_\+mutex\+\_\+, markers\+Initialized\+\_\+, and markers\+Pub\+\_\+.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2b90fb449266512edb237062a45c30d6}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2b90fb449266512edb237062a45c30d6}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!allowInitialTrajectoryStateJointDiscontinuity\_@{allowInitialTrajectoryStateJointDiscontinuity\_}}
\index{allowInitialTrajectoryStateJointDiscontinuity\_@{allowInitialTrajectoryStateJointDiscontinuity\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{allowInitialTrajectoryStateJointDiscontinuity\_}{allowInitialTrajectoryStateJointDiscontinuity\_}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{classbool}{bool}}$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::allow\+Initial\+Trajectory\+State\+Joint\+Discontinuity\+\_\+}



Definition at line 59 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by compute\+Joint\+Space\+Trajectory().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a790c30b94509dc6f4d0064f6356a04db}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!autocleanmarkers@{autocleanmarkers}}
\index{autocleanmarkers@{autocleanmarkers}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{autocleanmarkers}{autocleanmarkers}}
{\footnotesize\ttfamily \mbox{\hyperlink{classbool}{bool}} cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::autocleanmarkers = false\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 133 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by on\+Exit().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac12590d68ee344157ed4b3b45085771b}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!beahiorMarkers\_@{beahiorMarkers\_}}
\index{beahiorMarkers\_@{beahiorMarkers\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{beahiorMarkers\_}{beahiorMarkers\_}}
{\footnotesize\ttfamily visualization\+\_\+msgs\+::msg\+::\+Marker\+Array cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::beahior\+Markers\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 112 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::create\+Markers(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a74b9be206657836792fcab3fe109b72b}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!endEffectorTrajectory\_@{endEffectorTrajectory\_}}
\index{endEffectorTrajectory\_@{endEffectorTrajectory\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{endEffectorTrajectory\_}{endEffectorTrajectory\_}}
{\footnotesize\ttfamily std\+::vector$<$geometry\+\_\+msgs\+::msg\+::\+Pose\+Stamped$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::end\+Effector\+Trajectory\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 108 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by compute\+Joint\+Space\+Trajectory(), create\+Markers(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::generate\+Trajectory(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+Cartesian\+Relative2\+::generate\+Trajectory(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pouring\+Motion\+::generate\+Trajectory(), and on\+Entry().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a9e966beac541a2d7837ca895d6eab002}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a9e966beac541a2d7837ca895d6eab002}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!group\_@{group\_}}
\index{group\_@{group\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{group\_}{group\_}}
{\footnotesize\ttfamily std\+::optional$<$std\+::string$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::group\+\_\+}



Definition at line 55 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ab4c33ad9cca1805334f195c649fbc862}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ab4c33ad9cca1805334f195c649fbc862}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!iksrv\_@{iksrv\_}}
\index{iksrv\_@{iksrv\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{iksrv\_}{iksrv\_}}
{\footnotesize\ttfamily rclcpp\+::\+Client$<$moveit\+\_\+msgs\+::srv\+::\+Get\+Position\+IK$>$\+::Shared\+Ptr cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::iksrv\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 124 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by compute\+Joint\+Space\+Trajectory(), and initialize\+ROS().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a2a98ef725cb3fc7f61654d3d6a2066bb}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!m\_mutex\_@{m\_mutex\_}}
\index{m\_mutex\_@{m\_mutex\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{m\_mutex\_}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 126 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_ac140a7f0adfb20f1e2900a5c8cd2ca5b}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!markersInitialized\_@{markersInitialized\_}}
\index{markersInitialized\_@{markersInitialized\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{markersInitialized\_}{markersInitialized\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classbool}{bool}}$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::markers\+Initialized\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 122 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by on\+Entry(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aa472312c401315a0047c23a67ac7b91c}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!markersPub\_@{markersPub\_}}
\index{markersPub\_@{markersPub\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{markersPub\_}{markersPub\_}}
{\footnotesize\ttfamily rclcpp\+::\+Publisher$<$visualization\+\_\+msgs\+::msg\+::\+Marker\+Array$>$\+::Shared\+Ptr cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::markers\+Pub\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 120 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by initialize\+ROS(), on\+Exit(), and update().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_aea650d3e7836125b32be97392b71a7f3}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!movegroupClient\_@{movegroupClient\_}}
\index{movegroupClient\_@{movegroupClient\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{movegroupClient\_}{movegroupClient\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcl__move__group__interface_1_1ClMoveGroup}{Cl\+Move\+Group}}$\ast$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::movegroup\+Client\+\_\+ = nullptr\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 110 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), compute\+Joint\+Space\+Trajectory(), execute\+Joint\+Space\+Trajectory(), get\+Current\+End\+Effector\+Pose(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Execute\+Last\+Trajectory\+::on\+Entry(), on\+Entry(), cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Undo\+Last\+Trajectory\+::on\+Entry(), and on\+Orthogonal\+Allocation().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a0a47cfd3f0121601499f7f86df80e85d}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a0a47cfd3f0121601499f7f86df80e85d}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!postIncorrectInitialStateEvent@{postIncorrectInitialStateEvent}}
\index{postIncorrectInitialStateEvent@{postIncorrectInitialStateEvent}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{postIncorrectInitialStateEvent}{postIncorrectInitialStateEvent}}
{\footnotesize\ttfamily std\+::function$<$void(moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&)$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Incorrect\+Initial\+State\+Event\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 129 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by on\+Entry(), and on\+Orthogonal\+Allocation().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6a790d8f32c95f8b843eaee3f18b92a5}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a6a790d8f32c95f8b843eaee3f18b92a5}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!postJointDiscontinuityEvent@{postJointDiscontinuityEvent}}
\index{postJointDiscontinuityEvent@{postJointDiscontinuityEvent}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{postJointDiscontinuityEvent}{postJointDiscontinuityEvent}}
{\footnotesize\ttfamily std\+::function$<$void(moveit\+\_\+msgs\+::msg\+::\+Robot\+Trajectory \&)$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Joint\+Discontinuity\+Event\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 128 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by on\+Entry(), and on\+Orthogonal\+Allocation().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a72c4a469b70617dc5ea75e225a013582}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!postMotionExecutionFailureEvents@{postMotionExecutionFailureEvents}}
\index{postMotionExecutionFailureEvents@{postMotionExecutionFailureEvents}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{postMotionExecutionFailureEvents}{postMotionExecutionFailureEvents}}
{\footnotesize\ttfamily std\+::function$<$void()$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::post\+Motion\+Execution\+Failure\+Events\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 131 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by execute\+Joint\+Space\+Trajectory(), and on\+Orthogonal\+Allocation().

\mbox{\Hypertarget{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}\label{classcl__move__group__interface_1_1CbMoveEndEffectorTrajectory_a440ac01b15730ce115301af8d5cd06b6}} 
\index{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}!tipLink\_@{tipLink\_}}
\index{tipLink\_@{tipLink\_}!cl\_move\_group\_interface::CbMoveEndEffectorTrajectory@{cl\_move\_group\_interface::CbMoveEndEffectorTrajectory}}
\doxysubsubsection{\texorpdfstring{tipLink\_}{tipLink\_}}
{\footnotesize\ttfamily std\+::optional$<$std\+::string$>$ cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Move\+End\+Effector\+Trajectory\+::tip\+Link\+\_\+}



Definition at line 57 of file cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp.



Referenced by cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+Circular\+Pivot\+Motion\+::compute\+Current\+End\+Effector\+Pose\+Relative\+To\+Pivot(), compute\+Joint\+Space\+Trajectory(), get\+Current\+End\+Effector\+Pose(), and cl\+\_\+move\+\_\+group\+\_\+interface\+::\+Cb\+End\+Effector\+Rotate\+::on\+Entry().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__move__end__effector__trajectory_8hpp}{cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+hpp}}\item 
smacc2\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/src/move\+\_\+group\+\_\+interface\+\_\+client/client\+\_\+behaviors/\mbox{\hyperlink{cb__move__end__effector__trajectory_8cpp}{cb\+\_\+move\+\_\+end\+\_\+effector\+\_\+trajectory.\+cpp}}\end{DoxyCompactItemize}
