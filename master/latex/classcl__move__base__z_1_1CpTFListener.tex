\hypertarget{classcl__move__base__z_1_1CpTFListener}{}\doxysection{cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener Class Reference}
\label{classcl__move__base__z_1_1CpTFListener}\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}


{\ttfamily \#include $<$cp\+\_\+tf\+\_\+listener.\+hpp$>$}



Inheritance diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for cl\+\_\+move\+\_\+base\+\_\+z\+::Cp\+TFListener\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcl__move__base__z_1_1CpTFListener__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}{Cp\+TFListener}} ()
\item 
virtual void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}{update}} () override
\item 
void \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a48ff0922519eaa3ba20384bf096b9554}{get\+Last\+Transform}} (std\+::string \&target\+Pose\+Frame\+Name, std\+::string \&reference\+Base\+Frame, geometry\+\_\+msgs\+::msg\+::\+Pose \&out)
\item 
std\+::future$<$ geometry\+\_\+msgs\+::msg\+::\+Pose $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a2a99e1e2fc3771301448e00aa61d405b}{wait\+For\+Next\+Transform}} (std\+::string \&target\+Name, std\+::string \&reference\+Base\+Frame)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\+\_\+mutex\+\_\+}}
\item 
std\+::list$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}} $>$ $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{pose\+Tracks\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static std\+::shared\+\_\+ptr$<$ tf2\+\_\+ros\+::\+Transform\+Listener $>$ \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a05fea45b9937ab9de6ea33f701946291}{tf\+Listener\+\_\+}}
\item 
static std\+::mutex \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listener\+Mutex\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 44 of file cp\+\_\+tf\+\_\+listener.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}\label{classcl__move__base__z_1_1CpTFListener_a4379d3a0b3d67ffbb0741688bf39dda5}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!CpTFListener@{CpTFListener}}
\index{CpTFListener@{CpTFListener}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{CpTFListener()}{CpTFListener()}}
{\footnotesize\ttfamily cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::\+Cp\+TFListener (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a48ff0922519eaa3ba20384bf096b9554}\label{classcl__move__base__z_1_1CpTFListener_a48ff0922519eaa3ba20384bf096b9554}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!getLastTransform@{getLastTransform}}
\index{getLastTransform@{getLastTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{getLastTransform()}{getLastTransform()}}
{\footnotesize\ttfamily void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::get\+Last\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Pose\+Frame\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame,  }\item[{geometry\+\_\+msgs\+::msg\+::\+Pose \&}]{out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 80 of file cp\+\_\+tf\+\_\+listener.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{83   \{}
\DoxyCodeLine{84   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}\label{classcl__move__base__z_1_1CpTFListener_a0bdf03c329aab2ea038b67e51996a515}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!update@{update}}
\index{update@{update}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily virtual void cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classsmacc2_1_1ISmaccUpdatable_a21158bb7ce0c72d8a827946267d11485}{smacc2\+::\+ISmacc\+Updatable}}.



Definition at line 49 of file cp\+\_\+tf\+\_\+listener.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{50   \{}
\DoxyCodeLine{51     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \& poseTrack : \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}{poseTracks\_}})}
\DoxyCodeLine{52     \{}
\DoxyCodeLine{53       tf2::Stamped<tf2::Transform> transform;}
\DoxyCodeLine{54       \textcolor{keywordflow}{try}}
\DoxyCodeLine{55       \{}
\DoxyCodeLine{56         \{}
\DoxyCodeLine{57           std::lock\_guard<std::mutex> lock(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}{listenerMutex\_}});}
\DoxyCodeLine{58           \mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_a05fea45b9937ab9de6ea33f701946291}{tfListener\_}}-\/>lookupTransform(}
\DoxyCodeLine{59             poseTrack-\/>referenceBaseFrame\_, poseTrack-\/>targetPoseFrame\_, rclcpp::Time(0),}
\DoxyCodeLine{60             transform);}
\DoxyCodeLine{61         \}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \{}
\DoxyCodeLine{64           std::lock\_guard<std::mutex> guard(\mbox{\hyperlink{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}{m\_mutex\_}});}
\DoxyCodeLine{65           poseTrack-\/>pose\_.pose = tf2::toMsg(transform);}
\DoxyCodeLine{66           poseTrack-\/>pose\_.header.stamp = transform.stamp\_;}
\DoxyCodeLine{67           poseTrack-\/>pose\_.header.frame\_id = poseTrack-\/>referenceBaseFrame\_;}
\DoxyCodeLine{68           poseTrack-\/>isInitialized = \textcolor{keyword}{true};}
\DoxyCodeLine{69         \}}
\DoxyCodeLine{70       \}}
\DoxyCodeLine{71       \textcolor{keywordflow}{catch} (tf2::TransformException ex)}
\DoxyCodeLine{72       \{}
\DoxyCodeLine{73         RCLCPP\_ERROR\_STREAM\_THROTTLE(}
\DoxyCodeLine{74           1, \textcolor{stringliteral}{"{}[Component pose] (getLogger(), "{}} << poseFrameName\_ << \textcolor{stringliteral}{"{}/["{}} << referenceFrame\_}
\DoxyCodeLine{75                                                << \textcolor{stringliteral}{"{}] ) is failing on pose update : "{}} << ex.what());}
\DoxyCodeLine{76       \}}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78   \}}

\end{DoxyCode}


References listener\+Mutex\+\_\+, m\+\_\+mutex\+\_\+, pose\+Tracks\+\_\+, and tf\+Listener\+\_\+.

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a2a99e1e2fc3771301448e00aa61d405b}\label{classcl__move__base__z_1_1CpTFListener_a2a99e1e2fc3771301448e00aa61d405b}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!waitForNextTransform@{waitForNextTransform}}
\index{waitForNextTransform@{waitForNextTransform}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{waitForNextTransform()}{waitForNextTransform()}}
{\footnotesize\ttfamily std\+::future$<$geometry\+\_\+msgs\+::msg\+::\+Pose$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::wait\+For\+Next\+Transform (\begin{DoxyParamCaption}\item[{std\+::string \&}]{target\+Name,  }\item[{std\+::string \&}]{reference\+Base\+Frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 86 of file cp\+\_\+tf\+\_\+listener.\+hpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{88   \{}
\DoxyCodeLine{89     tracks\_}
\DoxyCodeLine{90   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}\label{classcl__move__base__z_1_1CpTFListener_aaf49a2f8524426920ae22fbc692a853d}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!listenerMutex\_@{listenerMutex\_}}
\index{listenerMutex\_@{listenerMutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{listenerMutex\_}{listenerMutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::listener\+Mutex\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 94 of file cp\+\_\+tf\+\_\+listener.\+hpp.



Referenced by update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}\label{classcl__move__base__z_1_1CpTFListener_adf87e22c71f56e64622e7046bcf68ffe}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!m\_mutex\_@{m\_mutex\_}}
\index{m\_mutex\_@{m\_mutex\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{m\_mutex\_}{m\_mutex\_}}
{\footnotesize\ttfamily std\+::mutex cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::m\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 96 of file cp\+\_\+tf\+\_\+listener.\+hpp.



Referenced by update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}\label{classcl__move__base__z_1_1CpTFListener_a22555065516af0d20ea11d72dc4daa9b}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!poseTracks\_@{poseTracks\_}}
\index{poseTracks\_@{poseTracks\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{poseTracks\_}{poseTracks\_}}
{\footnotesize\ttfamily std\+::list$<$std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{structcl__move__base__z_1_1TfPoseTrack}{Tf\+Pose\+Track}}$>$ $>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::pose\+Tracks\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 97 of file cp\+\_\+tf\+\_\+listener.\+hpp.



Referenced by update().

\mbox{\Hypertarget{classcl__move__base__z_1_1CpTFListener_a05fea45b9937ab9de6ea33f701946291}\label{classcl__move__base__z_1_1CpTFListener_a05fea45b9937ab9de6ea33f701946291}} 
\index{cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}!tfListener\_@{tfListener\_}}
\index{tfListener\_@{tfListener\_}!cl\_move\_base\_z::CpTFListener@{cl\_move\_base\_z::CpTFListener}}
\doxysubsubsection{\texorpdfstring{tfListener\_}{tfListener\_}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$tf2\+\_\+ros\+::\+Transform\+Listener$>$ cl\+\_\+move\+\_\+base\+\_\+z\+::\+Cp\+TFListener\+::tf\+Listener\+\_\+\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 93 of file cp\+\_\+tf\+\_\+listener.\+hpp.



Referenced by update().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
smacc2\+\_\+client\+\_\+library/move\+\_\+group\+\_\+interface\+\_\+client/include/move\+\_\+group\+\_\+interface\+\_\+client/components/\mbox{\hyperlink{cp__tf__listener_8hpp}{cp\+\_\+tf\+\_\+listener.\+hpp}}\end{DoxyCompactItemize}
