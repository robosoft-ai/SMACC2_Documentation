\hypertarget{namespacesm__test__moveit__ur5__sim}{}\doxysection{sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim Namespace Reference}
\label{namespacesm__test__moveit__ur5__sim}\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classsm__test__moveit__ur5__sim_1_1OrArm}{Or\+Arm}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1SmTestMoveitUr5Sim}{Sm\+Test\+Moveit\+Ur5\+Sim}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StAttachObject}{St\+Attach\+Object}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StCircularPivotMotion}{St\+Circular\+Pivot\+Motion}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StDetatchObject}{St\+Detatch\+Object}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StEndEffectorRotate}{St\+End\+Effector\+Rotate}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StExecuteLastTrajectory}{St\+Execute\+Last\+Trajectory}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveCartesianRelative}{St\+Move\+Cartesian\+Relative}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveCartesianRelative2}{St\+Move\+Cartesian\+Relative2}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveEndEffector}{St\+Move\+End\+Effector}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveJoints}{St\+Move\+Joints}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveKnownState}{St\+Move\+Known\+State}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveLastTrajectoryInitialState}{St\+Move\+Last\+Trajectory\+Initial\+State}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StMoveNamedTarget}{St\+Move\+Named\+Target}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StPouringMotion}{St\+Pouring\+Motion}}
\item 
struct \mbox{\hyperlink{structsm__test__moveit__ur5__sim_1_1StUndoLastTrajectory}{St\+Undo\+Last\+Trajectory}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed}{construct\+\_\+angle\+\_\+radians}} (loader, node)
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_a1dcd94862759bb9fa53db975365e898f}{construct\+\_\+angle\+\_\+degrees}} (loader, node)
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}{load\+\_\+yaml}} (package\+\_\+name, file\+\_\+path)
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5}{load\+\_\+yaml\+\_\+abs}} (absolute\+\_\+file\+\_\+path)
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_aa9e0646deef6bfffb18b0a59777d5988}{launch\+\_\+setup}} (context, $\ast$args, $\ast$$\ast$kwargs)
\item 
def \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_a97c306688dd18f2618ff0c075164ce98}{generate\+\_\+launch\+\_\+description}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_a1dcd94862759bb9fa53db975365e898f}\label{namespacesm__test__moveit__ur5__sim_a1dcd94862759bb9fa53db975365e898f}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!construct\_angle\_degrees@{construct\_angle\_degrees}}
\index{construct\_angle\_degrees@{construct\_angle\_degrees}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{construct\_angle\_degrees()}{construct\_angle\_degrees()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+construct\+\_\+angle\+\_\+degrees (\begin{DoxyParamCaption}\item[{}]{loader,  }\item[{}]{node }\end{DoxyParamCaption})}

\begin{DoxyVerb}utility function for converting degrees into radians from yaml.\end{DoxyVerb}
 

Definition at line 40 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{40 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_a1dcd94862759bb9fa53db975365e898f}{construct\_angle\_degrees}}(loader, node):}
\DoxyCodeLine{41     \textcolor{stringliteral}{"{}"{}"{}utility function for converting degrees into radians from yaml."{}"{}"{}}}
\DoxyCodeLine{42     \textcolor{keywordflow}{return} math.radians(\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed}{construct\_angle\_radians}}(loader, node))}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 }

\end{DoxyCode}


References construct\+\_\+angle\+\_\+radians().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{namespacesm__test__moveit__ur5__sim_a1dcd94862759bb9fa53db975365e898f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed}\label{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!construct\_angle\_radians@{construct\_angle\_radians}}
\index{construct\_angle\_radians@{construct\_angle\_radians}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{construct\_angle\_radians()}{construct\_angle\_radians()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+construct\+\_\+angle\+\_\+radians (\begin{DoxyParamCaption}\item[{}]{loader,  }\item[{}]{node }\end{DoxyParamCaption})}

\begin{DoxyVerb}utility function to construct radian values from yaml.\end{DoxyVerb}
 

Definition at line 31 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{31 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed}{construct\_angle\_radians}}(loader, node):}
\DoxyCodeLine{32     \textcolor{stringliteral}{"{}"{}"{}utility function to construct radian values from yaml."{}"{}"{}}}
\DoxyCodeLine{33     value = loader.construct\_scalar(node)}
\DoxyCodeLine{34     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{35         \textcolor{keywordflow}{return} float(value)}
\DoxyCodeLine{36     \textcolor{keywordflow}{except} SyntaxError:}
\DoxyCodeLine{37         \textcolor{keywordflow}{raise} Exception(\textcolor{stringliteral}{"{}invalid expression: \%s"{}} \% value)}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 }

\end{DoxyCode}


Referenced by construct\+\_\+angle\+\_\+degrees().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{namespacesm__test__moveit__ur5__sim_ad9abf92a42541ed9b3dc9d11e1bdc4ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_a97c306688dd18f2618ff0c075164ce98}\label{namespacesm__test__moveit__ur5__sim_a97c306688dd18f2618ff0c075164ce98}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!generate\_launch\_description@{generate\_launch\_description}}
\index{generate\_launch\_description@{generate\_launch\_description}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{generate\_launch\_description()}{generate\_launch\_description()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+generate\+\_\+launch\+\_\+description (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 284 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{284 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_a97c306688dd18f2618ff0c075164ce98}{generate\_launch\_description}}():}
\DoxyCodeLine{285 }
\DoxyCodeLine{286     \textcolor{comment}{\# Initialize Arguments}}
\DoxyCodeLine{287     declared\_arguments = []}
\DoxyCodeLine{288 }
\DoxyCodeLine{289     declared\_arguments.append(}
\DoxyCodeLine{290         DeclareLaunchArgument(}
\DoxyCodeLine{291             \textcolor{stringliteral}{"{}robot\_ip"{}}, description=\textcolor{stringliteral}{"{}The IP address at which the robot is reachable."{}}}
\DoxyCodeLine{292         )}
\DoxyCodeLine{293     )}
\DoxyCodeLine{294 }
\DoxyCodeLine{295     \textcolor{comment}{\# UR specific arguments}}
\DoxyCodeLine{296     declared\_arguments.append(}
\DoxyCodeLine{297         DeclareLaunchArgument(}
\DoxyCodeLine{298             \textcolor{stringliteral}{"{}ur\_type"{}},}
\DoxyCodeLine{299             description=\textcolor{stringliteral}{"{}Type/series of used UR robot."{}},}
\DoxyCodeLine{300             default\_value=\textcolor{stringliteral}{"{}ur5e"{}},}
\DoxyCodeLine{301             choices=[\textcolor{stringliteral}{"{}ur3"{}}, \textcolor{stringliteral}{"{}ur3e"{}}, \textcolor{stringliteral}{"{}ur5"{}}, \textcolor{stringliteral}{"{}ur5e"{}}, \textcolor{stringliteral}{"{}ur10"{}}, \textcolor{stringliteral}{"{}ur10e"{}}, \textcolor{stringliteral}{"{}ur16e"{}}],}
\DoxyCodeLine{302         )}
\DoxyCodeLine{303     )}
\DoxyCodeLine{304 }
\DoxyCodeLine{305     declared\_arguments.append(}
\DoxyCodeLine{306         DeclareLaunchArgument(}
\DoxyCodeLine{307             \textcolor{stringliteral}{"{}moveit\_config\_package"{}},}
\DoxyCodeLine{308             default\_value=\textcolor{stringliteral}{"{}ur\_moveit\_config"{}},}
\DoxyCodeLine{309             description=\textcolor{stringliteral}{"{}MoveIt config package with robot SRDF/XACRO files. Usually the argument \(\backslash\)}}
\DoxyCodeLine{310 \textcolor{stringliteral}{    is not set, it enables use of a custom moveit config."{}},}
\DoxyCodeLine{311         )}
\DoxyCodeLine{312     )}
\DoxyCodeLine{313     \textcolor{comment}{\# TODO(anyone): enable this when added into ROS2-\/foxy}}
\DoxyCodeLine{314     \textcolor{comment}{\# choices=['ur3', 'ur3e', 'ur5', 'ur5e', 'ur10', 'ur10e', 'ur16e']))}}
\DoxyCodeLine{315     declared\_arguments.append(}
\DoxyCodeLine{316         DeclareLaunchArgument(}
\DoxyCodeLine{317             \textcolor{stringliteral}{"{}safety\_limits"{}},}
\DoxyCodeLine{318             default\_value=\textcolor{stringliteral}{"{}true"{}},}
\DoxyCodeLine{319             description=\textcolor{stringliteral}{"{}Enables the safety limits controller if true."{}},}
\DoxyCodeLine{320         )}
\DoxyCodeLine{321     )}
\DoxyCodeLine{322     declared\_arguments.append(}
\DoxyCodeLine{323         DeclareLaunchArgument(}
\DoxyCodeLine{324             \textcolor{stringliteral}{"{}safety\_pos\_margin"{}},}
\DoxyCodeLine{325             default\_value=\textcolor{stringliteral}{"{}0.15"{}},}
\DoxyCodeLine{326             description=\textcolor{stringliteral}{"{}The margin to lower and upper limits in the safety controller."{}},}
\DoxyCodeLine{327         )}
\DoxyCodeLine{328     )}
\DoxyCodeLine{329     declared\_arguments.append(}
\DoxyCodeLine{330         DeclareLaunchArgument(}
\DoxyCodeLine{331             \textcolor{stringliteral}{"{}safety\_k\_position"{}},}
\DoxyCodeLine{332             default\_value=\textcolor{stringliteral}{"{}20"{}},}
\DoxyCodeLine{333             description=\textcolor{stringliteral}{"{}k-\/position factor in the safety controller."{}},}
\DoxyCodeLine{334         )}
\DoxyCodeLine{335     )}
\DoxyCodeLine{336     \textcolor{comment}{\# General arguments}}
\DoxyCodeLine{337     \textcolor{comment}{\# General arguments}}
\DoxyCodeLine{338     declared\_arguments.append(}
\DoxyCodeLine{339         DeclareLaunchArgument(}
\DoxyCodeLine{340             \textcolor{stringliteral}{"{}description\_package"{}},}
\DoxyCodeLine{341             default\_value=\textcolor{stringliteral}{"{}ur\_description"{}},}
\DoxyCodeLine{342             description=\textcolor{stringliteral}{"{}Description package with robot URDF/XACRO files. Usually the argument \(\backslash\)}}
\DoxyCodeLine{343 \textcolor{stringliteral}{        is not set, it enables use of a custom description."{}},}
\DoxyCodeLine{344         )}
\DoxyCodeLine{345     )}
\DoxyCodeLine{346     declared\_arguments.append(}
\DoxyCodeLine{347         DeclareLaunchArgument(}
\DoxyCodeLine{348             \textcolor{stringliteral}{"{}description\_file"{}},}
\DoxyCodeLine{349             default\_value=\textcolor{stringliteral}{"{}ur.urdf.xacro"{}},}
\DoxyCodeLine{350             description=\textcolor{stringliteral}{"{}URDF/XACRO description file with the robot."{}},}
\DoxyCodeLine{351         )}
\DoxyCodeLine{352     )}
\DoxyCodeLine{353     declared\_arguments.append(}
\DoxyCodeLine{354         DeclareLaunchArgument(}
\DoxyCodeLine{355             \textcolor{stringliteral}{"{}moveit\_config\_package"{}},}
\DoxyCodeLine{356             default\_value=\textcolor{stringliteral}{"{}ur\_moveit\_config"{}},}
\DoxyCodeLine{357             description=\textcolor{stringliteral}{"{}MoveIt config package with robot SRDF/XACRO files. Usually the argument \(\backslash\)}}
\DoxyCodeLine{358 \textcolor{stringliteral}{        is not set, it enables use of a custom moveit config."{}},}
\DoxyCodeLine{359         )}
\DoxyCodeLine{360     )}
\DoxyCodeLine{361     declared\_arguments.append(}
\DoxyCodeLine{362         DeclareLaunchArgument(}
\DoxyCodeLine{363             \textcolor{stringliteral}{"{}moveit\_config\_file"{}},}
\DoxyCodeLine{364             default\_value=\textcolor{stringliteral}{"{}ur.srdf.xacro"{}},}
\DoxyCodeLine{365             description=\textcolor{stringliteral}{"{}MoveIt SRDF/XACRO description file with the robot."{}},}
\DoxyCodeLine{366         )}
\DoxyCodeLine{367     )}
\DoxyCodeLine{368     declared\_arguments.append(}
\DoxyCodeLine{369         DeclareLaunchArgument(}
\DoxyCodeLine{370             \textcolor{stringliteral}{"{}prefix"{}},}
\DoxyCodeLine{371             default\_value=\textcolor{stringliteral}{'"{}"{}'},}
\DoxyCodeLine{372             description=\textcolor{stringliteral}{"{}Prefix of the joint names, useful for \(\backslash\)}}
\DoxyCodeLine{373 \textcolor{stringliteral}{        multi-\/robot setup. If changed than also joint names in the controllers' configuration \(\backslash\)}}
\DoxyCodeLine{374 \textcolor{stringliteral}{        have to be updated."{}},}
\DoxyCodeLine{375         )}
\DoxyCodeLine{376     )}
\DoxyCodeLine{377 }
\DoxyCodeLine{378     declared\_arguments.append(}
\DoxyCodeLine{379         DeclareLaunchArgument(}
\DoxyCodeLine{380             \textcolor{stringliteral}{"{}fake\_sensor\_commands"{}},}
\DoxyCodeLine{381             default\_value=\textcolor{stringliteral}{"{}false"{}},}
\DoxyCodeLine{382             description=\textcolor{stringliteral}{"{}Enable fake command interfaces for sensors used for simple simulations. \(\backslash\)}}
\DoxyCodeLine{383 \textcolor{stringliteral}{            Used only if 'use\_fake\_hardware' parameter is true."{}},}
\DoxyCodeLine{384         )}
\DoxyCodeLine{385     )}
\DoxyCodeLine{386 }
\DoxyCodeLine{387     \textcolor{keywordflow}{return} LaunchDescription(declared\_arguments + [OpaqueFunction(function=launch\_setup)])}

\end{DoxyCode}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_aa9e0646deef6bfffb18b0a59777d5988}\label{namespacesm__test__moveit__ur5__sim_aa9e0646deef6bfffb18b0a59777d5988}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!launch\_setup@{launch\_setup}}
\index{launch\_setup@{launch\_setup}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{launch\_setup()}{launch\_setup()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch\+\_\+setup (\begin{DoxyParamCaption}\item[{}]{context,  }\item[{$\ast$}]{args,  }\item[{$\ast$$\ast$}]{kwargs }\end{DoxyParamCaption})}



Definition at line 77 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{77 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_aa9e0646deef6bfffb18b0a59777d5988}{launch\_setup}}(context, *args, **kwargs):}
\DoxyCodeLine{78     \textcolor{comment}{\# evaluate arguments}}
\DoxyCodeLine{79     ur\_type = LaunchConfiguration(\textcolor{stringliteral}{"{}ur\_type"{}})}
\DoxyCodeLine{80     robot\_ip = LaunchConfiguration(\textcolor{stringliteral}{"{}robot\_ip"{}})}
\DoxyCodeLine{81     safety\_limits = LaunchConfiguration(\textcolor{stringliteral}{"{}safety\_limits"{}})}
\DoxyCodeLine{82     safety\_pos\_margin = LaunchConfiguration(\textcolor{stringliteral}{"{}safety\_pos\_margin"{}})}
\DoxyCodeLine{83     safety\_k\_position = LaunchConfiguration(\textcolor{stringliteral}{"{}safety\_k\_position"{}})}
\DoxyCodeLine{84     \textcolor{comment}{\# General arguments}}
\DoxyCodeLine{85     description\_package = LaunchConfiguration(\textcolor{stringliteral}{"{}description\_package"{}})}
\DoxyCodeLine{86     description\_file = LaunchConfiguration(\textcolor{stringliteral}{"{}description\_file"{}})}
\DoxyCodeLine{87     moveit\_config\_package = LaunchConfiguration(\textcolor{stringliteral}{"{}moveit\_config\_package"{}})}
\DoxyCodeLine{88     moveit\_config\_file = LaunchConfiguration(\textcolor{stringliteral}{"{}moveit\_config\_file"{}})}
\DoxyCodeLine{89     prefix = LaunchConfiguration(\textcolor{stringliteral}{"{}prefix"{}})}
\DoxyCodeLine{90     use\_fake\_hardware = LaunchConfiguration(\textcolor{stringliteral}{"{}use\_fake\_hardware"{}})}
\DoxyCodeLine{91     fake\_sensor\_commands = LaunchConfiguration(\textcolor{stringliteral}{"{}fake\_sensor\_commands"{}})}
\DoxyCodeLine{92     launch\_rviz = LaunchConfiguration(\textcolor{stringliteral}{"{}launch\_rviz"{}})}
\DoxyCodeLine{93 }
\DoxyCodeLine{94     joint\_limit\_params = PathJoinSubstitution(}
\DoxyCodeLine{95         [FindPackageShare(description\_package), \textcolor{stringliteral}{"{}config"{}}, ur\_type, \textcolor{stringliteral}{"{}joint\_limits.yaml"{}}]}
\DoxyCodeLine{96     )}
\DoxyCodeLine{97     kinematics\_params = PathJoinSubstitution(}
\DoxyCodeLine{98         [FindPackageShare(description\_package), \textcolor{stringliteral}{"{}config"{}}, ur\_type, \textcolor{stringliteral}{"{}default\_kinematics.yaml"{}}]}
\DoxyCodeLine{99     )}
\DoxyCodeLine{100     physical\_params = PathJoinSubstitution(}
\DoxyCodeLine{101         [FindPackageShare(description\_package), \textcolor{stringliteral}{"{}config"{}}, ur\_type, \textcolor{stringliteral}{"{}physical\_parameters.yaml"{}}]}
\DoxyCodeLine{102     )}
\DoxyCodeLine{103     visual\_params = PathJoinSubstitution(}
\DoxyCodeLine{104         [FindPackageShare(description\_package), \textcolor{stringliteral}{"{}config"{}}, ur\_type, \textcolor{stringliteral}{"{}visual\_parameters.yaml"{}}]}
\DoxyCodeLine{105     )}
\DoxyCodeLine{106     script\_filename = PathJoinSubstitution(}
\DoxyCodeLine{107         [FindPackageShare(\textcolor{stringliteral}{"{}ur\_robot\_driver"{}}), \textcolor{stringliteral}{"{}resources"{}}, \textcolor{stringliteral}{"{}ros\_control.urscript"{}}]}
\DoxyCodeLine{108     )}
\DoxyCodeLine{109     input\_recipe\_filename = PathJoinSubstitution(}
\DoxyCodeLine{110         [FindPackageShare(\textcolor{stringliteral}{"{}ur\_robot\_driver"{}}), \textcolor{stringliteral}{"{}resources"{}}, \textcolor{stringliteral}{"{}rtde\_input\_recipe.txt"{}}]}
\DoxyCodeLine{111     )}
\DoxyCodeLine{112     output\_recipe\_filename = PathJoinSubstitution(}
\DoxyCodeLine{113         [FindPackageShare(\textcolor{stringliteral}{"{}ur\_robot\_driver"{}}), \textcolor{stringliteral}{"{}resources"{}}, \textcolor{stringliteral}{"{}rtde\_output\_recipe.txt"{}}]}
\DoxyCodeLine{114     )}
\DoxyCodeLine{115 }
\DoxyCodeLine{116     robot\_description\_content = Command(}
\DoxyCodeLine{117         [}
\DoxyCodeLine{118             PathJoinSubstitution([FindExecutable(name=\textcolor{stringliteral}{"{}xacro"{}})]),}
\DoxyCodeLine{119             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{120             PathJoinSubstitution(}
\DoxyCodeLine{121                 [FindPackageShare(description\_package), \textcolor{stringliteral}{"{}urdf"{}}, description\_file]}
\DoxyCodeLine{122             ),}
\DoxyCodeLine{123             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{124             \textcolor{stringliteral}{"{}robot\_ip:="{}},}
\DoxyCodeLine{125             robot\_ip,}
\DoxyCodeLine{126             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{127             \textcolor{stringliteral}{"{}joint\_limit\_params:="{}},}
\DoxyCodeLine{128             joint\_limit\_params,}
\DoxyCodeLine{129             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{130             \textcolor{stringliteral}{"{}kinematics\_params:="{}},}
\DoxyCodeLine{131             kinematics\_params,}
\DoxyCodeLine{132             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{133             \textcolor{stringliteral}{"{}physical\_params:="{}},}
\DoxyCodeLine{134             physical\_params,}
\DoxyCodeLine{135             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{136             \textcolor{stringliteral}{"{}visual\_params:="{}},}
\DoxyCodeLine{137             visual\_params,}
\DoxyCodeLine{138             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{139             \textcolor{stringliteral}{"{}safety\_limits:="{}},}
\DoxyCodeLine{140             safety\_limits,}
\DoxyCodeLine{141             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{142             \textcolor{stringliteral}{"{}safety\_pos\_margin:="{}},}
\DoxyCodeLine{143             safety\_pos\_margin,}
\DoxyCodeLine{144             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{145             \textcolor{stringliteral}{"{}safety\_k\_position:="{}},}
\DoxyCodeLine{146             safety\_k\_position,}
\DoxyCodeLine{147             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{148             \textcolor{stringliteral}{"{}name:="{}},}
\DoxyCodeLine{149             \textcolor{comment}{\# Also ur\_type parameter could be used but then the planning group names in yaml}}
\DoxyCodeLine{150             \textcolor{comment}{\# configs has to be updated!}}
\DoxyCodeLine{151             \textcolor{stringliteral}{"{}ur"{}},}
\DoxyCodeLine{152             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{153             \textcolor{stringliteral}{"{}script\_filename:="{}},}
\DoxyCodeLine{154             script\_filename,}
\DoxyCodeLine{155             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{156             \textcolor{stringliteral}{"{}input\_recipe\_filename:="{}},}
\DoxyCodeLine{157             input\_recipe\_filename,}
\DoxyCodeLine{158             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{159             \textcolor{stringliteral}{"{}output\_recipe\_filename:="{}},}
\DoxyCodeLine{160             output\_recipe\_filename,}
\DoxyCodeLine{161             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{162             \textcolor{stringliteral}{"{}prefix:="{}},}
\DoxyCodeLine{163             prefix,}
\DoxyCodeLine{164             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{165             \textcolor{stringliteral}{"{}use\_fake\_hardware:="{}},}
\DoxyCodeLine{166             use\_fake\_hardware,}
\DoxyCodeLine{167             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{168             \textcolor{stringliteral}{"{}fake\_sensor\_commands:="{}},}
\DoxyCodeLine{169             fake\_sensor\_commands,}
\DoxyCodeLine{170             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{171         ]}
\DoxyCodeLine{172     )}
\DoxyCodeLine{173     robot\_description = \{\textcolor{stringliteral}{"{}robot\_description"{}}: robot\_description\_content\}}
\DoxyCodeLine{174 }
\DoxyCodeLine{175     \textcolor{comment}{\# MoveIt Configuration}}
\DoxyCodeLine{176     robot\_description\_semantic\_content = Command(}
\DoxyCodeLine{177         [}
\DoxyCodeLine{178             PathJoinSubstitution([FindExecutable(name=\textcolor{stringliteral}{"{}xacro"{}})]),}
\DoxyCodeLine{179             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{180             PathJoinSubstitution(}
\DoxyCodeLine{181                 [FindPackageShare(moveit\_config\_package), \textcolor{stringliteral}{"{}srdf"{}}, moveit\_config\_file]}
\DoxyCodeLine{182             ),}
\DoxyCodeLine{183             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{184             \textcolor{stringliteral}{"{}name:="{}},}
\DoxyCodeLine{185             \textcolor{comment}{\# Also ur\_type parameter could be used but then the planning group names in yaml}}
\DoxyCodeLine{186             \textcolor{comment}{\# configs has to be updated!}}
\DoxyCodeLine{187             \textcolor{stringliteral}{"{}ur"{}},}
\DoxyCodeLine{188             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{189             \textcolor{stringliteral}{"{}prefix:="{}},}
\DoxyCodeLine{190             prefix,}
\DoxyCodeLine{191             \textcolor{stringliteral}{"{} "{}},}
\DoxyCodeLine{192         ]}
\DoxyCodeLine{193     )}
\DoxyCodeLine{194     robot\_description\_semantic = \{\textcolor{stringliteral}{"{}robot\_description\_semantic"{}}: robot\_description\_semantic\_content\}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196     kinematics\_yaml = \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}{load\_yaml}}(\textcolor{stringliteral}{"{}ur\_moveit\_config"{}}, \textcolor{stringliteral}{"{}config/kinematics.yaml"{}})}
\DoxyCodeLine{197     robot\_description\_kinematics = \{\textcolor{stringliteral}{"{}robot\_description\_kinematics"{}}: kinematics\_yaml\}}
\DoxyCodeLine{198 }
\DoxyCodeLine{199     sm\_test\_moveit\_ur5\_sim\_node = Node(}
\DoxyCodeLine{200         package=\textcolor{stringliteral}{"{}sm\_test\_moveit\_ur5\_sim"{}},}
\DoxyCodeLine{201         executable=\textcolor{stringliteral}{"{}sm\_test\_moveit\_ur5\_sim\_node"{}},}
\DoxyCodeLine{202         prefix=\textcolor{stringliteral}{"{}xterm -\/xrm 'XTerm*scrollBar:  true' -\/xrm 'xterm*rightScrollBar: true' -\/hold -\/sl 10000 -\/geometry 1000x600 -\/e"{}},}
\DoxyCodeLine{203         parameters=[}
\DoxyCodeLine{204             robot\_description,}
\DoxyCodeLine{205             robot\_description\_semantic,}
\DoxyCodeLine{206             robot\_description\_kinematics,}
\DoxyCodeLine{207             os.path.join(}
\DoxyCodeLine{208                 get\_package\_share\_directory(\textcolor{stringliteral}{"{}sm\_test\_moveit\_ur5\_sim"{}}),}
\DoxyCodeLine{209                 \textcolor{stringliteral}{"{}config/sm\_test\_moveit\_ur5\_sim\_config.yaml"{}},}
\DoxyCodeLine{210             ),}
\DoxyCodeLine{211         ],}
\DoxyCodeLine{212         arguments=[\textcolor{stringliteral}{"{}-\/-\/log-\/level"{}}, \textcolor{stringliteral}{"{}smacc2:=DEBUG"{}}],}
\DoxyCodeLine{213     )}
\DoxyCodeLine{214 }
\DoxyCodeLine{215     ur5\_control\_launch\_file = os.path.join(}
\DoxyCodeLine{216         get\_package\_share\_directory(\textcolor{stringliteral}{"{}ur\_bringup"{}}), \textcolor{stringliteral}{"{}launch"{}}, \textcolor{stringliteral}{"{}ur\_control.launch.py"{}}}
\DoxyCodeLine{217     )}
\DoxyCodeLine{218     ur5\_control\_include = IncludeLaunchDescription(}
\DoxyCodeLine{219         PythonLaunchDescriptionSource(ur5\_control\_launch\_file),}
\DoxyCodeLine{220         launch\_arguments=\{}
\DoxyCodeLine{221             \textcolor{stringliteral}{"{}ur\_type"{}}: ur\_type,}
\DoxyCodeLine{222             \textcolor{stringliteral}{"{}robot\_ip"{}}: \textcolor{stringliteral}{"{}yyy.yyy.yyy.yyy"{}},}
\DoxyCodeLine{223             \textcolor{stringliteral}{"{}robot\_controller"{}}: \textcolor{stringliteral}{"{}scaled\_joint\_trajectory\_controller"{}},}
\DoxyCodeLine{224             \textcolor{stringliteral}{"{}use\_fake\_hardware"{}}: \textcolor{stringliteral}{"{}true"{}},}
\DoxyCodeLine{225             \textcolor{stringliteral}{"{}launch\_rviz"{}}: \textcolor{stringliteral}{"{}false"{}},}
\DoxyCodeLine{226         \}.items(),}
\DoxyCodeLine{227     )}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     ur5\_moveit\_launch\_file = os.path.join(}
\DoxyCodeLine{230         get\_package\_share\_directory(\textcolor{stringliteral}{"{}ur\_bringup"{}}), \textcolor{stringliteral}{"{}launch"{}}, \textcolor{stringliteral}{"{}ur\_moveit.launch.py"{}}}
\DoxyCodeLine{231     )}
\DoxyCodeLine{232     ur5\_moveit\_include = IncludeLaunchDescription(}
\DoxyCodeLine{233         PythonLaunchDescriptionSource(ur5\_moveit\_launch\_file),}
\DoxyCodeLine{234         launch\_arguments=\{}
\DoxyCodeLine{235             \textcolor{stringliteral}{"{}ur\_type"{}}: \textcolor{stringliteral}{"{}ur5e"{}},}
\DoxyCodeLine{236             \textcolor{stringliteral}{"{}robot\_ip"{}}: \textcolor{stringliteral}{"{}yyy.yyy.yyy.yyy"{}},}
\DoxyCodeLine{237             \textcolor{stringliteral}{"{}launch\_rviz"{}}: \textcolor{stringliteral}{"{}true"{}},}
\DoxyCodeLine{238         \}.items(),}
\DoxyCodeLine{239     )}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \textcolor{comment}{\# Planning Configuration}}
\DoxyCodeLine{242     ompl\_planning\_pipeline\_config = \{}
\DoxyCodeLine{243         \textcolor{stringliteral}{"{}move\_group"{}}: \{}
\DoxyCodeLine{244             \textcolor{stringliteral}{"{}planning\_plugin"{}}: \textcolor{stringliteral}{"{}ompl\_interface/OMPLPlanner"{}},}
\DoxyCodeLine{245             \textcolor{stringliteral}{"{}request\_adapters"{}}: \textcolor{stringliteral}{"{}"{}"{}default\_planner\_request\_adapters/AddTimeOptimalParameterization default\_planner\_request\_adapters/FixWorkspaceBounds default\_planner\_request\_adapters/FixStartStateBounds default\_planner\_request\_adapters/FixStartStateCollision default\_planner\_request\_adapters/FixStartStatePathConstraints"{}"{}"{}},}
\DoxyCodeLine{246             \textcolor{stringliteral}{"{}start\_state\_max\_bounds\_error"{}}: 0.1,}
\DoxyCodeLine{247         \}}
\DoxyCodeLine{248     \}}
\DoxyCodeLine{249     ompl\_planning\_yaml = \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}{load\_yaml}}(\textcolor{stringliteral}{"{}ur\_moveit\_config"{}}, \textcolor{stringliteral}{"{}config/ompl\_planning.yaml"{}})}
\DoxyCodeLine{250     ompl\_planning\_pipeline\_config[\textcolor{stringliteral}{"{}move\_group"{}}].update(ompl\_planning\_yaml)}
\DoxyCodeLine{251 }
\DoxyCodeLine{252     robot\_description\_planning = \{}
\DoxyCodeLine{253         \textcolor{stringliteral}{"{}robot\_description\_planning"{}}: \mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5}{load\_yaml\_abs}}(str(joint\_limit\_params.perform(context)))}
\DoxyCodeLine{254     \}}
\DoxyCodeLine{255 }
\DoxyCodeLine{256     \textcolor{comment}{\# rviz with moveit configuration}}
\DoxyCodeLine{257     rviz\_config\_file = PathJoinSubstitution(}
\DoxyCodeLine{258         [FindPackageShare(\textcolor{stringliteral}{"{}sm\_test\_moveit\_ur5\_sim"{}}), \textcolor{stringliteral}{"{}config"{}}, \textcolor{stringliteral}{"{}view\_robot.rviz"{}}]}
\DoxyCodeLine{259     )}
\DoxyCodeLine{260 }
\DoxyCodeLine{261     rviz\_node = Node(}
\DoxyCodeLine{262         package=\textcolor{stringliteral}{"{}rviz2"{}},}
\DoxyCodeLine{263         condition=IfCondition(launch\_rviz),}
\DoxyCodeLine{264         executable=\textcolor{stringliteral}{"{}rviz2"{}},}
\DoxyCodeLine{265         name=\textcolor{stringliteral}{"{}rviz2\_moveit"{}},}
\DoxyCodeLine{266         output=\textcolor{stringliteral}{"{}log"{}},}
\DoxyCodeLine{267         arguments=[\textcolor{stringliteral}{"{}-\/d"{}}, rviz\_config\_file],}
\DoxyCodeLine{268         parameters=[}
\DoxyCodeLine{269             robot\_description,}
\DoxyCodeLine{270             robot\_description\_semantic,}
\DoxyCodeLine{271             ompl\_planning\_pipeline\_config,}
\DoxyCodeLine{272             robot\_description\_kinematics,}
\DoxyCodeLine{273             robot\_description\_planning,}
\DoxyCodeLine{274         ],}
\DoxyCodeLine{275     )}
\DoxyCodeLine{276 }
\DoxyCodeLine{277     nodes\_to\_start = [sm\_test\_moveit\_ur5\_sim\_node, rviz\_node]}
\DoxyCodeLine{278 }
\DoxyCodeLine{279     include\_files = [ur5\_control\_include, ur5\_moveit\_include]}
\DoxyCodeLine{280 }
\DoxyCodeLine{281     \textcolor{keywordflow}{return} nodes\_to\_start + include\_files}
\DoxyCodeLine{282 }
\DoxyCodeLine{283 }

\end{DoxyCode}


References load\+\_\+yaml(), and load\+\_\+yaml\+\_\+abs().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{namespacesm__test__moveit__ur5__sim_aa9e0646deef6bfffb18b0a59777d5988_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}\label{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!load\_yaml@{load\_yaml}}
\index{load\_yaml@{load\_yaml}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{load\_yaml()}{load\_yaml()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+load\+\_\+yaml (\begin{DoxyParamCaption}\item[{}]{package\+\_\+name,  }\item[{}]{file\+\_\+path }\end{DoxyParamCaption})}



Definition at line 45 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{45 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94}{load\_yaml}}(package\_name, file\_path):}
\DoxyCodeLine{46     package\_path = get\_package\_share\_directory(package\_name)}
\DoxyCodeLine{47     absolute\_file\_path = os.path.join(package\_path, file\_path)}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{50         yaml.SafeLoader.add\_constructor(\textcolor{stringliteral}{"{}!radians"{}}, construct\_angle\_radians)}
\DoxyCodeLine{51         yaml.SafeLoader.add\_constructor(\textcolor{stringliteral}{"{}!degrees"{}}, construct\_angle\_degrees)}
\DoxyCodeLine{52     \textcolor{keywordflow}{except} Exception:}
\DoxyCodeLine{53         \textcolor{keywordflow}{raise} Exception(\textcolor{stringliteral}{"{}yaml support not available; install python-\/yaml"{}})}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{56         \textcolor{keyword}{with} open(absolute\_file\_path) \textcolor{keyword}{as} file:}
\DoxyCodeLine{57             \textcolor{keywordflow}{return} yaml.safe\_load(file)}
\DoxyCodeLine{58     \textcolor{keywordflow}{except} OSError:  \textcolor{comment}{\# parent of IOError, OSError *and* WindowsError where available}}
\DoxyCodeLine{59         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 }

\end{DoxyCode}


Referenced by launch\+\_\+setup().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{namespacesm__test__moveit__ur5__sim_ab177422fb3ed7047712496b040b92d94_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5}\label{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5}} 
\index{sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}!load\_yaml\_abs@{load\_yaml\_abs}}
\index{load\_yaml\_abs@{load\_yaml\_abs}!sm\_test\_moveit\_ur5\_sim@{sm\_test\_moveit\_ur5\_sim}}
\doxysubsubsection{\texorpdfstring{load\_yaml\_abs()}{load\_yaml\_abs()}}
{\footnotesize\ttfamily def sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+load\+\_\+yaml\+\_\+abs (\begin{DoxyParamCaption}\item[{}]{absolute\+\_\+file\+\_\+path }\end{DoxyParamCaption})}



Definition at line 62 of file sm\+\_\+test\+\_\+moveit\+\_\+ur5\+\_\+sim.\+launch.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{62 \textcolor{keyword}{def }\mbox{\hyperlink{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5}{load\_yaml\_abs}}(absolute\_file\_path):}
\DoxyCodeLine{63 }
\DoxyCodeLine{64     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{65         yaml.SafeLoader.add\_constructor(\textcolor{stringliteral}{"{}!radians"{}}, construct\_angle\_radians)}
\DoxyCodeLine{66         yaml.SafeLoader.add\_constructor(\textcolor{stringliteral}{"{}!degrees"{}}, construct\_angle\_degrees)}
\DoxyCodeLine{67     \textcolor{keywordflow}{except} Exception:}
\DoxyCodeLine{68         \textcolor{keywordflow}{raise} Exception(\textcolor{stringliteral}{"{}yaml support not available; install python-\/yaml"{}})}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keywordflow}{try}:}
\DoxyCodeLine{71         \textcolor{keyword}{with} open(absolute\_file\_path) \textcolor{keyword}{as} file:}
\DoxyCodeLine{72             \textcolor{keywordflow}{return} yaml.safe\_load(file)}
\DoxyCodeLine{73     \textcolor{keywordflow}{except} OSError:  \textcolor{comment}{\# parent of IOError, OSError *and* WindowsError where available}}
\DoxyCodeLine{74         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76 }

\end{DoxyCode}


Referenced by launch\+\_\+setup().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{namespacesm__test__moveit__ur5__sim_ad79fe34b56a78b6f15d2d26d3f82ebd5_icgraph}
\end{center}
\end{figure}
