\hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch}{}\doxysection{smacc2\+::client\+\_\+bases\+::Cl\+Ros\+Launch Class Reference}
\label{classsmacc2_1_1client__bases_1_1ClRosLaunch}\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}


{\ttfamily \#include $<$smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp$>$}



Inheritance diagram for smacc2\+::client\+\_\+bases\+::Cl\+Ros\+Launch\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classsmacc2_1_1client__bases_1_1ClRosLaunch__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for smacc2\+::client\+\_\+bases\+::Cl\+Ros\+Launch\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc2_1_1client__bases_1_1ClRosLaunch__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a5ac20632be35cb591de58d29f7e81e89}{Cl\+Ros\+Launch}} (std\+::string package\+Name, std\+::string launch\+Filename)
\item 
virtual \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a8a84d03a1bc26a077ffc7a6c7cdded88}{$\sim$\+Cl\+Ros\+Launch}} ()
\item 
void \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab1556711e46d77a4a78df73dbb33556d}{launch}} ()
\item 
void \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ae3c038cf90a1ca2d211e53d49e940e5c}{stop}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::future$<$ std\+::string $>$ \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_aa2dc8dc6f859088aad1a129eea9cee8e}{execute\+Ros\+Launch}} (std\+::string package\+Name, std\+::string launch\+Filename, std\+::function$<$ \mbox{\hyperlink{classbool}{bool}}()$>$ cancel\+Condition)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ac5dbe334def4eae376040abf2a072690}{package\+Name\+\_\+}}
\item 
std\+::string \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a84853e31543a3dae1316c681fc78cdf3}{launch\+File\+Name\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::future$<$ std\+::string $>$ \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab32071646ae2e5b649fbbdcf6a670f33}{result\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classbool}{bool}} $>$ \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}{cancellation\+Token\+\_\+}} = ATOMIC\+\_\+\+VAR\+\_\+\+INIT(false)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 33 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_a5ac20632be35cb591de58d29f7e81e89}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_a5ac20632be35cb591de58d29f7e81e89}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!ClRosLaunch@{ClRosLaunch}}
\index{ClRosLaunch@{ClRosLaunch}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{ClRosLaunch()}{ClRosLaunch()}}
{\footnotesize\ttfamily smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::\+Cl\+Ros\+Launch (\begin{DoxyParamCaption}\item[{std\+::string}]{package\+Name,  }\item[{std\+::string}]{launch\+Filename }\end{DoxyParamCaption})}



Definition at line 27 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{28 : \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ac5dbe334def4eae376040abf2a072690}{packageName\_}}(packageName), \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a84853e31543a3dae1316c681fc78cdf3}{launchFileName\_}}(launchFilename), \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}{cancellationToken\_}}(\textcolor{keyword}{false})}
\DoxyCodeLine{29 \{}
\DoxyCodeLine{30 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_a8a84d03a1bc26a077ffc7a6c7cdded88}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_a8a84d03a1bc26a077ffc7a6c7cdded88}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!````~ClRosLaunch@{$\sim$ClRosLaunch}}
\index{````~ClRosLaunch@{$\sim$ClRosLaunch}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{$\sim$ClRosLaunch()}{~ClRosLaunch()}}
{\footnotesize\ttfamily smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::$\sim$\+Cl\+Ros\+Launch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 32 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{32 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_aa2dc8dc6f859088aad1a129eea9cee8e}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_aa2dc8dc6f859088aad1a129eea9cee8e}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!executeRosLaunch@{executeRosLaunch}}
\index{executeRosLaunch@{executeRosLaunch}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{executeRosLaunch()}{executeRosLaunch()}}
{\footnotesize\ttfamily std\+::future$<$ std\+::string $>$ smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::execute\+Ros\+Launch (\begin{DoxyParamCaption}\item[{std\+::string}]{package\+Name,  }\item[{std\+::string}]{launch\+Filename,  }\item[{std\+::function$<$ \mbox{\hyperlink{classbool}{bool}}()$>$}]{cancel\+Condition }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 42 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{44 \{}
\DoxyCodeLine{45   \textcolor{keywordflow}{return} std::async(std::launch::async, [=]() \{}
\DoxyCodeLine{46     RCLCPP\_WARN\_STREAM(}
\DoxyCodeLine{47       rclcpp::get\_logger(\textcolor{stringliteral}{"{}smacc2"{}}), \textcolor{stringliteral}{"{}[ClRosLaunch] starting ros launch thread "{}} << ss.str());}
\DoxyCodeLine{48     std::stringstream cmd;}
\DoxyCodeLine{49     cmd << \textcolor{stringliteral}{"{}ros2 launch "{}} << packageName << \textcolor{stringliteral}{"{} "{}} << launchFileName;}
\DoxyCodeLine{50 }
\DoxyCodeLine{51     std::array<char, 128> buffer;}
\DoxyCodeLine{52     std::string result;}
\DoxyCodeLine{53     std::unique\_ptr<FILE, decltype(\&pclose)> pipe(popen(cmd.str().c\_str(), \textcolor{stringliteral}{"{}r"{}}), pclose);}
\DoxyCodeLine{54     \textcolor{keywordflow}{if} (!pipe)}
\DoxyCodeLine{55     \{}
\DoxyCodeLine{56       \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}popen() failed!"{}});}
\DoxyCodeLine{57     \}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     std::stringstream ss;}
\DoxyCodeLine{60     \textcolor{keywordtype}{bool} cancelled = \textcolor{keyword}{false};}
\DoxyCodeLine{61     \textcolor{keywordflow}{while} (fgets(buffer.data(), buffer.size(), pipe.get()) != \textcolor{keyword}{nullptr} \&\&}
\DoxyCodeLine{62            !(cancelled = cancelCondition()))}
\DoxyCodeLine{63     \{}
\DoxyCodeLine{64       ss << buffer.data();}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67     result = ss.str();}
\DoxyCodeLine{68     RCLCPP\_WARN\_STREAM(rclcpp::get\_logger(\textcolor{stringliteral}{"{}smacc2"{}}), \textcolor{stringliteral}{"{}[ClRosLaunch] RESULT = \(\backslash\)n "{}} << ss.str());}
\DoxyCodeLine{69     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{70   \});}
\DoxyCodeLine{71 \}}

\end{DoxyCode}


Referenced by launch(), and smacc2\+::client\+\_\+behaviors\+::\+Cb\+Ros\+Launch\+::on\+Entry().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc2_1_1client__bases_1_1ClRosLaunch_aa2dc8dc6f859088aad1a129eea9cee8e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab1556711e46d77a4a78df73dbb33556d}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab1556711e46d77a4a78df73dbb33556d}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!launch@{launch}}
\index{launch@{launch}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{launch()}{launch()}}
{\footnotesize\ttfamily void smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::launch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 34 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{35 \{}
\DoxyCodeLine{36   this-\/>\mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab32071646ae2e5b649fbbdcf6a670f33}{result\_}} = \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_aa2dc8dc6f859088aad1a129eea9cee8e}{executeRosLaunch}}(}
\DoxyCodeLine{37     \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_ac5dbe334def4eae376040abf2a072690}{packageName\_}}, \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a84853e31543a3dae1316c681fc78cdf3}{launchFileName\_}}, [\textcolor{keyword}{this}]() \{ \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}{cancellationToken\_}}.load(); \});}
\DoxyCodeLine{38 \}}

\end{DoxyCode}


References cancellation\+Token\+\_\+, execute\+Ros\+Launch(), launch\+File\+Name\+\_\+, package\+Name\+\_\+, and result\+\_\+.



Referenced by smacc2\+::client\+\_\+behaviors\+::\+Cb\+Ros\+Launch\+::on\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab1556711e46d77a4a78df73dbb33556d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab1556711e46d77a4a78df73dbb33556d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_ae3c038cf90a1ca2d211e53d49e940e5c}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_ae3c038cf90a1ca2d211e53d49e940e5c}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!stop@{stop}}
\index{stop@{stop}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 40 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{40 \{ \mbox{\hyperlink{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}{cancellationToken\_}}.store(\textcolor{keyword}{true}); \}}

\end{DoxyCode}


References cancellation\+Token\+\_\+.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_a59ff1db13ac1fff77568f1929bc8d357}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!cancellationToken\_@{cancellationToken\_}}
\index{cancellationToken\_@{cancellationToken\_}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{cancellationToken\_}{cancellationToken\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classbool}{bool}}$>$ smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::cancellation\+Token\+\_\+ = ATOMIC\+\_\+\+VAR\+\_\+\+INIT(false)\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 54 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp.



Referenced by launch(), and stop().

\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_a84853e31543a3dae1316c681fc78cdf3}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_a84853e31543a3dae1316c681fc78cdf3}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!launchFileName\_@{launchFileName\_}}
\index{launchFileName\_@{launchFileName\_}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{launchFileName\_}{launchFileName\_}}
{\footnotesize\ttfamily std\+::string smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::launch\+File\+Name\+\_\+}



Definition at line 49 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp.



Referenced by launch(), and smacc2\+::client\+\_\+behaviors\+::\+Cb\+Ros\+Launch\+::on\+Entry().

\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_ac5dbe334def4eae376040abf2a072690}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_ac5dbe334def4eae376040abf2a072690}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!packageName\_@{packageName\_}}
\index{packageName\_@{packageName\_}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{packageName\_}{packageName\_}}
{\footnotesize\ttfamily std\+::string smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::package\+Name\+\_\+}



Definition at line 47 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp.



Referenced by launch(), and smacc2\+::client\+\_\+behaviors\+::\+Cb\+Ros\+Launch\+::on\+Entry().

\mbox{\Hypertarget{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab32071646ae2e5b649fbbdcf6a670f33}\label{classsmacc2_1_1client__bases_1_1ClRosLaunch_ab32071646ae2e5b649fbbdcf6a670f33}} 
\index{smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}!result\_@{result\_}}
\index{result\_@{result\_}!smacc2::client\_bases::ClRosLaunch@{smacc2::client\_bases::ClRosLaunch}}
\doxysubsubsection{\texorpdfstring{result\_}{result\_}}
{\footnotesize\ttfamily std\+::future$<$std\+::string$>$ smacc2\+::client\+\_\+bases\+::\+Cl\+Ros\+Launch\+::result\+\_\+\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 52 of file smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp.



Referenced by launch().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
smacc2/include/smacc2/client\+\_\+bases/\mbox{\hyperlink{smacc__ros__launch__client_8hpp}{smacc\+\_\+ros\+\_\+launch\+\_\+client.\+hpp}}\item 
smacc2/src/smacc2/client\+\_\+bases/\mbox{\hyperlink{smacc__ros__launch__client_8cpp}{smacc\+\_\+ros\+\_\+launch\+\_\+client.\+cpp}}\end{DoxyCompactItemize}
